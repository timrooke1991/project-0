"use strict";var _slicedToArray=function(){function e(e,a){var t=[],s=!0,r=!1,n=void 0;try{for(var i,o=e[Symbol.iterator]();!(s=(i=o.next()).done)&&(t.push(i.value),!a||t.length!==a);s=!0);}catch(e){r=!0,n=e}finally{try{!s&&o.return&&o.return()}finally{if(r)throw n}}return t}return function(a,t){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return e(a,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();$(function(){function e(e){F&&(F=!F),P.text("Play"),$(".match-setup, .match-engine").hide(),$(".team-setup").show(),a(e),x=e,t(x)}function a(e){$(".team-panel").html(""),$(".formation").val(e.formation),e.players.sort(function(e,a){return I.indexOf(e.position)<I.indexOf(a.position)?-1:1});for(var a=0;a<e.players.length;a++){var t=e.players[a],s=t.playing?"&#10004;":"&#10007;";$(".team-panel").append('<p class="player-line '+t.position+" "+t.status+"\" id='"+t.name+"'>\n          <span class=\"starting "+t.status+'" id="'+a+'">'+s+'</span>\n          <span class="player-position ">'+t.position+'</span>\n          <span class="player-name">'+t.name+'</span>\n          <span class="player-stat" data-sort="'+t.attack+'" style="background-color: rgba(0,128,0,'+t.attack/100+')">'+t.attack+'</span>\n          <span class="player-stat" style="background-color: rgba(0,128,0,'+t.defence/100+')">'+t.defence+'</span>\n          <span class="player-stat" style="background-color: rgba(0,128,0,'+t.creativity/100+'")>'+t.creativity+'</span>\n          <span class="player-stat" style="background-color: rgba(0,128,0,'+t.defence/100+')">'+t.defence+'</span>\n          <span class="player-stat" style="background-color: rgba(0,128,0,'+t.fitness/100+')">'+t.fitness+"</span>\n        </p>")}}function t(e){$(".team-display").html("");var a=["1"].concat(e.formation.split("-")),t=0,s=0;try{a.map(function(a){for(var r=parseFloat(a),n=0;n<r;){if(e.players[t].playing||"ejected"===e.players[t].status){var i=I[s]!==e.players[t].position?"warning":"";$(".team-display").append("<span class='player-block "+i+" "+e.players[t].status+"'>"+e.players[t].name+"</span>"),e.players[t].chosenPosition=I[s],n++}t++}$(".team-display").append('<div class="seperate-players">'),s++})}catch(e){$(".team-display").append("<p class='team-selection-warning seperate-players'>Less than 11 players selected!</p>")}}function s(e,a){var s=$("#"+a);if(e.players[a].playing=!e.players[a].playing,t(x),e.players[a].playing){if(s.html("&#10004;"),H){s.parent().css({background:"green"});var n=e.players[a];r(e,n)}}else if(s.html("&#10007;"),H){s.parent().css({"pointer-events":"none",background:"red"});var i=e.players[a];r(e,i)}}function r(e,a){e.subs<7?a.playing?($("#"+e.place+"Events").append("<i class='fa fa-arrow-right' style='color:green;' aria-hidden='true'></i> "+E+" mins: "+a.name+" substituted<br/>"),e.subs+=1,a.playing=!0,a.status="subbed-on"):($("#"+e.place+"Events").append("<i class='fa fa-arrow-right' style='color:red;' aria-hidden='true'></i> "+E+" mins: "+a.name+" substituted<br/>"),e.subs+=1,a.playing=!1,a.status="subbed-off"):console.log("You have had 3 subs!")}function n(){44===E&&(w.text("That's half-time!"),F=!F,P.text("Play")),90===E?(w.text("That's full-time!"),clearInterval(C),P.text("Finish")):(E++,v.text(E))}function i(e){return Math.floor(Math.random()*e)}function o(){var e=document.getElementById("homeBar");B=M.averagePlayerValues("creativity")/(M.averagePlayerValues("creativity")+j.averagePlayerValues("creativity"))*100+(Math.random()<.5?-i(6):i(6)),e.style.width=B+"%"}function l(){return i(M.averagePlayerValues("creativity")+M.averagePlayerValues("fitness"))>=i(j.averagePlayerValues("creativity")+j.averagePlayerValues("fitness"))?[M,j]:[j,M]}function c(e){w.css("background-color",e.colors[0]),w.css("color",e.colors[1]),i(20)%4==0&&(e.increaseValues(3,"attack",["midfielder","striker"]),e.increaseValues(3,"creativity",["midfielder","striker"]),w.text(g("chance","")))}function d(e,a){var t=e.randomPlayer(),s=a.randomPlayerByPosition("defender");i(t.attack)>i(s.defence)&&(g("goal",t),k(e),$("#"+e.place+"Events").append("<i class='fa fa-futbol-o' style='color:white;' aria-hidden='true'></i> "+E+" mins: "+t.name+" scored<br/>"))}function p(e,a){var t=a.randomPlayer();i(t.discipline)+(100-E)<90&&"ejected"!==t.status&&("yellow"===t.status?(w.css("background-color","#FF0000"),w.css("color","#FFFFFF"),a.reduceValues(20,"defence",["striker","midfielder","defender","goalkeeper"]),a.reduceValues(20,"attack",["striker","midfielder","defender","goalkeeper"]),a.reduceValues(20,"creativity",["striker","midfielder","defender","goalkeeper"]),g("secondYellow",t),$("#"+a.place+"Events").append("<i class='fa fa-square event-item' style='color: red;' aria-hidden='true'></i> "+E+" mins: "+t.name+" sent off<br/>"),t.status="ejected",t.playing=!1):(w.css("background-color","yellow"),w.css("color","#000000"),g("yellow",t),t.defence-=8,$("#"+a.place+"Events").append("\n          <i class='fa fa-square event-item' style='color: yellow;' aria-hidden='true'></i> "+E+" mins: "+t.name+" booked<br/>"),t.status="yellow",t.fitness-=i(10)))}function u(e){var a=e.randomPlayer();if(i(101)%40==0)if(g("injury",a),$("#"+e.place+"Events").append("<i class='fa fa-plus' style='color: green;' aria-hidden='true'></i> "+E+" mins: "+a.name+" injured<br/>"),"away"===e.place&&A){a.playing=!a.playing,r(j,a);var t=j.randomSubstitute(a.position);t.playing=!t.playing,r(j,t)}else a.fitness=0+i(30),a.status="injured",a.playing=!1;else a.fitness-=i(15),a.defence-=i(10),a.attack-=i(10),g("nearMiss",a)}function f(e,a){var t=e.randomPlayerByPosition("midfielder"),s=a.randomPlayerByPosition("goalkeeper").defence+a.averagePlayerValues("defender");t.attack>s?(k(e),g("freekick",t),$("#"+e.place+"Events").append("<i class='fa fa-futbol-o' style='color:white;' aria-hidden='true'></i> "+E+" mins: "+t.name+" scored<br/>"),t.attack+=5):(g("wastedFreekick",t),t.creativity-=5,e.reduceValues(i(10),"attack",["striker","midfielder"]),e.reduceValues(i(10),"creativity",["striker","midfielder"]))}function m(e,a){var t=e.randomPlayerByPosition("striker"),s=a.randomPlayerByPosition("goalkeeper"),r=a.randomPlayerByPosition("defender");i(100)>25&&(r.status="yellow",$("#"+a.place+"Events").append("<i class='fa fa-square event-item' style='color: yellow;' aria-hidden='true'></i> "+E+" mins: "+r.name+" booked<br/>")),2*i(t.attack)>i(s.defence)?(k(e),g("penalty",t),$("#"+e.place+"Events").append("<i class='fa fa-futbol-o' style='color:white' aria-hidden='true'></i> "+E+" mins: "+t.name+" scores penalty<br/>"),t.attack+=5):(g("missedPenalty",t),$("#"+e.place+"Events").append("<i class='fa fa-futbol-o' style='color:red' aria-hidden='true'></i> "+E+" mins: "+t.name+" missed penalty<br/>"),s.defence+=10,t.attack-=10)}function y(e){var a=e.randomPlayer();i(a.discipline)+(100-E)<25&&(a.playing=!1,a.status="ejected",g("straightRed",a),$("#"+e.place+"Events").append("<i class='fa fa-square' style=' color: red;' aria-hidden='true'></i> "+E+" mins: "+a.name+" sent off<br/>"))}function h(e,a){if(null===M){switch($(".home-team  .team-name").text(a),a){case"Tottenham":M=spurs;break;case"Man United":M=manUnited;break;case"Liverpool":M=liverpool;break;case"Man City":M=manCity;break;case"Everton":M=everton;break;case"Chelsea":M=chelsea;break;case"Leicester":M=leicester;break;case"Arsenal":M=arsenal}M.place="home",$(".home-team, #homeBar").css("background-color",M.colors[0]),$(".home-team").css("color",M.colors[1])}else{switch($(".away-team .team-name").text(a),a){case"Tottenham":j=spurs;break;case"Man United":j=manUnited;break;case"Liverpool":j=liverpool;break;case"Man City":j=manCity;break;case"Everton":j=everton;break;case"Chelsea":j=chelsea;break;case"Leicester":j=leicester;break;case"Arsenal":j=arsenal}j.place="away",$(".away-team, .possession-bar").css("background-color",j.colors[0]),$(".away-team").css("color",j.colors[1])}}function g(e,a){var t={goal:["Goal!","He's scored!","That's a great finish!","What a goal by "+a.name,a.name+" finishes off the move!"],freekick:["It's a freekick",a.name+" to take the freekick","He lines up the freekick","This is a chance to get a cross in"],wastedFreekick:[a.name+" loses possession","That's ended up in row Z","The attack amounts to nothing",a.name+" has wasted that opportunity",a.name+"'s effort goes over the bar","He hands back possession to the other team"],yellow:["He's going in the book","Ouch! "+a.name+" will get a yellow for that","That's a booking","It's a yellow!","The ref is taking his name"],secondYellow:["He's already been booked...","That's a second yellow",a.name+" is shown a red!",a.name+" is off"],straightRed:[a.name+" is shown a straight red!",a.name+" is off","The ref has given him straight red!"],penalty:["The referee points to the spot","That's a penalty",a.name+" is fouled in the area","The ref blows his whistle. Penalty."],missedPenalty:["Saved!","It's over the bar",a.name+" has missed it!","Oh dear! "+a.name+"'s put it wide'"],injury:[a.name+"'s is going off",a.name+" is injured",a.name+" can't continue"],chance:["The ball is wasted","Possession is sloppily given away","That is wasted","The referee pulls back play","The ball goes out for a throw","Good interception!","He's robbed him of possesion","That was a wayward ball","He can't quite get on the end of that one"],nearMiss:[a.name+" is limping, but he'll be okay","That's a sore one.",a.name+" looks to be struggling","There's a nasty coming together","The referee waves play on"]},s=i(t[e].length),r=t[e][s];w.text(""+r)}function k(e){var a=null,t=null;"home"===e.place?(t=T.text(),a=parseFloat(t)+1,T.text(a)):(t=V.text(),a=parseFloat(t)+1,V.text(a))}function b(){var e=i(I.length)+1;return[I[e]]}var v=$(".changing-minutes"),w=$("#commentaryBox"),P=$(".primary-button"),T=$(".home-team .score"),V=$(".away-team .score"),x=null,E=0,F=!1,B=50,M=null,j=null,H=!1,A=!0,I=["goalkeeper","defender","midfielder","striker"],C=setInterval(function(){if(F){var e=i(100)+1;console.log(E+": "+e);var a=l(),t=_slicedToArray(a,2),s=t[0],h=t[1];if(c(s),e%17==0&&(d(s,h),s.increaseValues(i(5),"attack",["midfielder","striker"]),s.increaseValues(i(5),"creativity",["midfielder","striker"]),h.reduceValues(i(5),"defence",["midfielder","defender","goalkeeper"])),e%(i(30)+90)==0&&(m(s,h),h.reduceValues(i(10),"defence",["midfielder","defender","goalkeeper"])),e%90==0&&(y(h),h.reduceValues(25,"defence",["striker","midfielder","defender","goalkeeper"]),h.reduceValues(25,"attack",["striker","midfielder","defender","goalkeeper"]),h.reduceValues(25,"creativity",["striker","midfielder","defender","goalkeeper"])),e%22==0&&(f(s,h),s.increaseValues(5,"attack",["midfielder","striker"]),s.increaseValues(5,"creativity",["midfielder","striker"])),e%18==0&&p(s,h),e%25==0&&(u(s),h.reduceValues(3,"creativity",["striker","midfielder","defender","goalkeeper"])),A&&e%10==0&&j.subs<6&&E>50){var g=b(),k=_slicedToArray(g,1),v=k[0],w=j.randomPlayerByPosition(v,"subbed-on"),$=j.randomSubstitute(v);w&&$&&(w.playing=!w.playing,r(j,w),$.playing=!$.playing,r(j,$))}b(),h.reduceValues(i(10),"fitness",[b]),o(),n()}},50);$(".team-input").on("click",function(e){var a=e.target.innerHTML;null===M?(h(M,a),$(".title-message").text("Home team chosen. Now chose your opponent."),$(e.target).attr("disabled",!0)):(h(j,a),$(".title-message").text("Opponent selected. Now edit tactics or proceed to match."),$(e.target).attr("disabled",!0))}),$("#playerMode").on("click",function(){A=!A}),$(".team-panel").on("click",function(e){var a=e.target.id;s(x,a)}),P.on("click",function(){F=!F,$("#match-setup, .info-message, .team-setup").hide(),$("#match-engine, .away-team, .home-team, .timer").show(),F?(P.text("Pause"),H=!0):P.text("Play")}),$("#homeTeam").on("click",function(){e(M)}),$("#awayTeam").on("click",function(){e(j)}),$(".go-back").on("click",function(){$(".team-setup").hide(),$(".match-setup").show()}),$(".formation").on("change",function(e){var a=e.target.value;x.formation=a,t(x)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwic2hvd1RhY3RpY3NQYWdlIiwidGVhbU9iamVjdCIsInJ1biIsIiRwcmltYXJ5QnV0dG9uIiwidGV4dCIsImhpZGUiLCJuZXdGb3JtYXRpb24iLCJ0ZWFtVGFjdGljcyIsImZvcm1hdGlvbiIsInJldmVhbFRlYW0iLCJzZXR1cFRhY3RpY3MiLCJodG1sIiwidmFsIiwicGxheWVycyIsInNvcnQiLCJwb3NpdGlvbnMiLCJzaG93IiwiYSIsInBvc2l0aW9uIiwiaW5kZXhPZiIsImIiLCJsZW5ndGgiLCJpIiwicGxheWVyIiwic3RhcnRpbmdFbGV2ZW4iLCJwbGF5aW5nIiwiYXBwZW5kIiwic3RhdHVzIiwibmFtZSIsImF0dGFjayIsImRlZmVuY2UiLCJjcmVhdGl2aXR5IiwiZml0bmVzcyIsImNvbmNhdCIsInNwbGl0IiwicGxheWVyTnVtYmVyIiwibWFwIiwiYXJyYXlJdGVtIiwicGFyc2VGbG9hdCIsIml0ZXJhdGlvbnMiLCJ3YXJuaW5nTWVzc2FnZSIsInBvc2l0aW9uTnVtYmVyIiwiZXJyIiwiJHNlbGVjdGVkUGxheWVyIiwic2VsZWN0ZWRQbGF5ZXIiLCJzdWJzdGl0dXRlIiwicGxheWVyT24iLCJiYWNrZ3JvdW5kIiwicGxheWVyT2ZmIiwic3VicyIsInBsYWNlIiwibWF0Y2hUaW1lIiwiY29uc29sZSIsImxvZyIsIiRjb21tZW50YXJ5Qm94IiwiJG1hdGNoVGltZSIsImdlblJhbmRvbVZhbHVlIiwidmFsdWUiLCJob21lQmFyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIm1vdmUiLCJ3aWR0aCIsInNlbGVjdFRlYW0iLCJhdmVyYWdlUGxheWVyVmFsdWVzIiwiaG9tZVRlYW0iLCJhd2F5VGVhbSIsIk1hdGgiLCJyYW5kb20iLCJzdHlsZSIsImF3YXlSYW5kb20iLCJhdHRhY2tpbmdUZWFtIiwiaW5jcmVhc2VWYWx1ZXMiLCJjc3MiLCJjb2xvcnMiLCJnZW5lcmF0ZUNvbW1lbnRhcnkiLCJnb2FsQ2hhbmNlIiwiZGVmZW5kaW5nVGVhbSIsInVwZGF0ZVNjb3JlIiwicmFuZG9tUGxheWVyIiwiZGVmZW5kaW5nUGxheWVyIiwicmFuZG9tUGxheWVyQnlQb3NpdGlvbiIsImF0dGFja2luZ1BsYXllciIsImhhbmRsZURpc2NpcGxpbmUiLCJyZWR1Y2VWYWx1ZXMiLCJkaXNjaXBsaW5lIiwiaGFuZGxlSW5qdXJ5IiwiYWRkUGxheWVyIiwiY3B1TW9kZSIsImRlZmVuZGluZ1ZhbHVlIiwiaGFuZGxlUGVuYWx0eSIsImJvb2tlZFBsYXllciIsImNvbmZpZ1RlYW0iLCJ0ZWFtIiwic2VsZWN0b3IiLCJtYW5DaXR5Iiwic3B1cnMiLCJtYW5Vbml0ZWQiLCJsaXZlcnBvb2wiLCJldmVydG9uIiwiY2hlbHNlYSIsImNvbW1lbnRhcnkiLCJsZWljZXN0ZXIiLCJnb2FsIiwiZnJlZWtpY2siLCJ3YXN0ZWRGcmVla2ljayIsInN0cmFpZ2h0UmVkIiwicGVuYWx0eSIsIm1pc3NlZFBlbmFsdHkiLCJzY2VuYXJpbyIsInJhbmRvbUluZGV4IiwibWVzc2FnZSIsInllbGxvdyIsInNlY29uZFllbGxvdyIsImdldFNjb3JlIiwiJGhvbWVTY29yZSIsInNjb3JlIiwiJGF3YXlTY29yZSIsInJhbmRvbVBvc2l0aW9uIiwiY2hvc2VuUG9zaXRpb24iLCJzZXRJbnRlcnZhbCIsImV2ZW50VmFsdWUiLCJfc2VsZWN0VGVhbSIsIl9zZWxlY3RUZWFtMiIsIl9zbGljZWRUb0FycmF5Iiwic2V0dXBFdmVudCIsImhhbmRsZUZyZWVraWNrIiwiX3JhbmRvbVBvc2l0aW9uIiwiX3JhbmRvbVBvc2l0aW9uMiIsInJlbW92ZVBsYXllciIsInJhbmRvbVN1YnN0aXR1dGUiLCJlIiwidXNlclRlYW0iLCJ0YXJnZXQiLCJpbm5lckhUTUwiLCJ0aW1lQ29udHJvbCIsImF0dHIiLCJvbiIsImlkIiwiY2hvb3NlUGxheWVycyIsImdhbWVTdGFydGVkIl0sIm1hcHBpbmdzIjoibWNBQUFBLEdBQUUsV0FnS0EsUUFBU0MsR0FBZ0JDLEdBWHZCQyxJQUNF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LGtCQUFrQkssS0FBSyw0REFaN0JMLEVBQUFvSSxFQUFBRSxRQUFBRyxLQUFBLFlBQUEsTUFJRXpJLEVBQUEsZUFBQTBJLEdBQUEsUUFBQSxXQUNBakQsR0FBTTRDLElBT0pySSxFQUFBQSxlQUFFMEksR0FBQSxRQUF1QixTQUFBTixHQUN6QnBJLEdBQUlzSSxHQUFhRixFQUFBRSxPQUFZSyxFQUM5QkMsR0FBQXBJLEVBQUFxQyxLQUdIN0MsRUFBQTBJLEdBQWlCQSxRQUFqQixXQUNFakQsR0FBQUEsRUFERnpGLEVBQUEsNENBQUFNLE9BZ0JFTixFQUFFLGlEQUFpRGlCLE9BWnJEZCxHQUNBQyxFQUFBQyxLQUFBLFNBY0l3SSxHQUFjLEdBWGhCekksRUFBRkMsS0FBb0IsVUFLcEJELEVBQUFBLGFBQWVzSSxHQUFHLFFBQVMsV0FDekJ2SSxFQUFBK0QsS0FHQWxFLEVBQUEsYUFBUzBJLEdBQUEsUUFBQSxXQUNQdEksRUFBQUEsS0FHQUEsRUFBQUEsWUFBQUEsR0FBQUEsUUFBb0IsV0FDckJKLEVBQUEsZUFBQU0sT0FUSE4sRUFBQSxnQkFBQWlCLFNBY0VoQixFQUFBQSxjQUFBQSxHQUFnQmlFLFNBQWhCLFNBQUFrRSxHQURGLEdBQUE3SCxHQUFBNkgsRUFBQUUsT0FBQTVFLEtBZUVsRCxHQUFZQyxVQUFZRixFQVh4QkcsRUFBRkYiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJCgoKSA9PiB7XG4gIGNvbnN0ICRtYXRjaFRpbWUgPSAkKCcuY2hhbmdpbmctbWludXRlcycpO1xuICBjb25zdCAkY29tbWVudGFyeUJveCA9ICQoJyNjb21tZW50YXJ5Qm94Jyk7XG4gIGNvbnN0ICRwcmltYXJ5QnV0dG9uID0gJCgnLnByaW1hcnktYnV0dG9uJyk7XG4gIGNvbnN0ICRob21lU2NvcmUgPSAkKCcuaG9tZS10ZWFtIC5zY29yZScpO1xuICBjb25zdCAkYXdheVNjb3JlID0gJCgnLmF3YXktdGVhbSAuc2NvcmUnKTtcblxuICBsZXQgdGVhbVRhY3RpY3MgPSBudWxsO1xuICBsZXQgbWF0Y2hUaW1lID0gMDtcbiAgbGV0IHJ1biA9IGZhbHNlO1xuICBsZXQgd2lkdGggPSA1MDtcbiAgbGV0IGhvbWVUZWFtID0gbnVsbDtcbiAgbGV0IGF3YXlUZWFtID0gbnVsbDtcbiAgbGV0IGdhbWVTdGFydGVkID0gZmFsc2U7XG4gIGxldCBjcHVNb2RlID0gdHJ1ZTtcbiAgY29uc3QgcG9zaXRpb25zID0gWydnb2Fsa2VlcGVyJywgJ2RlZmVuZGVyJywgJ21pZGZpZWxkZXInLCAnc3RyaWtlciddO1xuXG4gIC8vIE1BVENIIExPR0lDXG5cbiAgY29uc3QgdGltZXJJRCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgIGlmIChydW4pIHtcbiAgICAgIGNvbnN0IGV2ZW50VmFsdWUgPSBnZW5SYW5kb21WYWx1ZSgxMDApICsgMTtcbiAgICAgIGNvbnNvbGUubG9nKGAke21hdGNoVGltZX06ICR7ZXZlbnRWYWx1ZX1gKTtcblxuICAgICAgLy8gUmFuZG9tKEF2ZXJhZ2UgVGVhbSBDcmVhdGl2aXR5KSArIEZpdG5lc3MgPT4gSGlnaGVyIHNjb3JlIGRldGVybWluZXMgdGhlIGF0dGFja2luZyB0ZWFtXG4gICAgICBjb25zdCBbYXR0YWNraW5nVGVhbSwgZGVmZW5kaW5nVGVhbV0gPSBzZWxlY3RUZWFtKCk7XG5cbiAgICAgIC8vIFN0eWxlIGNvbW1lbnRhcnlCb3ggaW4gYXR0YWNraW5nIHRlYW0gY29sb3JzLCBpbmNyZWFzZSBwbGF5ZXJzIGF0dGFja2luZyBhbmQgY3JlYXRpdml0eSB2YWx1ZXNcbiAgICAgIHNldHVwRXZlbnQoYXR0YWNraW5nVGVhbSk7XG5cbiAgICAgIGlmIChldmVudFZhbHVlICUgMTcgPT09IDApIHtcbiAgICAgICAgLy8gUmFuZG9tIChTdHJpa2VyLCBNaWRmaWVsZGVyKSB2cy4gR29hbGtlZXBlciA+IFJhbmRUaGVpckF0dGFjayB2cy4gUmFuZEdvYWxrZWVwZXJcbiAgICAgICAgZ29hbENoYW5jZShhdHRhY2tpbmdUZWFtLCBkZWZlbmRpbmdUZWFtKTtcbiAgICAgICAgYXR0YWNraW5nVGVhbS5pbmNyZWFzZVZhbHVlcyhnZW5SYW5kb21WYWx1ZSg1KSwnYXR0YWNrJyxbJ21pZGZpZWxkZXInLCAnc3RyaWtlciddKTtcbiAgICAgICAgYXR0YWNraW5nVGVhbS5pbmNyZWFzZVZhbHVlcyhnZW5SYW5kb21WYWx1ZSg1KSwnY3JlYXRpdml0eScsWydtaWRmaWVsZGVyJywgJ3N0cmlrZXInXSk7XG4gICAgICAgIGRlZmVuZGluZ1RlYW0ucmVkdWNlVmFsdWVzKGdlblJhbmRvbVZhbHVlKDUpLCdkZWZlbmNlJyxbJ21pZGZpZWxkZXInLCAnZGVmZW5kZXInLCAnZ29hbGtlZXBlciddKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50VmFsdWUgJSAoZ2VuUmFuZG9tVmFsdWUoMzApICsgOTApID09PSAwKSB7XG4gICAgICAgIC8vIFN0cmlrZXIgdnMuIEdvYWxrZWVwZXIgPiBSYW5kVGhlaXJBdHRhY2sgdnMuIFJhbmRHb2Fsa2VlcGVyUGVuYWx0eVxuICAgICAgICBoYW5kbGVQZW5hbHR5KGF0dGFja2luZ1RlYW0sIGRlZmVuZGluZ1RlYW0pO1xuICAgICAgICBkZWZlbmRpbmdUZWFtLnJlZHVjZVZhbHVlcyhnZW5SYW5kb21WYWx1ZSgxMCksJ2RlZmVuY2UnLFsnbWlkZmllbGRlcicsICdkZWZlbmRlcicsICdnb2Fsa2VlcGVyJ10pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnRWYWx1ZSAlIDkwID09PSAwKSB7XG4gICAgICAgIC8vIFJhbmRvbSBQbGF5ZXIgPT4gRGlzY2lwbGluZSA+IHJhbmRvbVxuICAgICAgICBzdHJhaWdodFJlZChkZWZlbmRpbmdUZWFtKTtcbiAgICAgICAgZGVmZW5kaW5nVGVhbS5yZWR1Y2VWYWx1ZXMoMjUsJ2RlZmVuY2UnLFsnc3RyaWtlcicsJ21pZGZpZWxkZXInLCAnZGVmZW5kZXInLCAnZ29hbGtlZXBlciddKTtcbiAgICAgICAgZGVmZW5kaW5nVGVhbS5yZWR1Y2VWYWx1ZXMoMjUsJ2F0dGFjaycsWydzdHJpa2VyJywnbWlkZmllbGRlcicsICdkZWZlbmRlcicsICdnb2Fsa2VlcGVyJ10pO1xuICAgICAgICBkZWZlbmRpbmdUZWFtLnJlZHVjZVZhbHVlcygyNSwnY3JlYXRpdml0eScsWydzdHJpa2VyJywnbWlkZmllbGRlcicsICdkZWZlbmRlcicsICdnb2Fsa2VlcGVyJ10pO1xuICAgICAgfVxuICAgICAgLy9cbiAgICAgIGlmIChldmVudFZhbHVlICUgMjIgPT09IDApIHtcbiAgICAgICAgLy8gU3RyaWtlciB2cy4gR29hbGtlZXBlciA+IFJhbmRUaGVpckZyZWVraWNrIHZzLiBSYW5kR29hbGtlZXBlclBlbmFsdHlcbiAgICAgICAgaGFuZGxlRnJlZWtpY2soYXR0YWNraW5nVGVhbSwgZGVmZW5kaW5nVGVhbSk7XG4gICAgICAgIGF0dGFja2luZ1RlYW0uaW5jcmVhc2VWYWx1ZXMoNSwnYXR0YWNrJyxbJ21pZGZpZWxkZXInLCAnc3RyaWtlciddKTtcbiAgICAgICAgYXR0YWNraW5nVGVhbS5pbmNyZWFzZVZhbHVlcyg1LCdjcmVhdGl2aXR5JyxbJ21pZGZpZWxkZXInLCAnc3RyaWtlciddKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50VmFsdWUgJSAxOCA9PT0gMCkge1xuICAgICAgICAvLyBSYW5kb21QbGF5ZXIgPT4gZGlzY2lwbGluZSArIG1hdGNodGltZSByYW5kIHZzLiByYW5kb21cbiAgICAgICAgaGFuZGxlRGlzY2lwbGluZShhdHRhY2tpbmdUZWFtLCBkZWZlbmRpbmdUZWFtKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50VmFsdWUgJSAyNSA9PT0gMCkge1xuICAgICAgICBoYW5kbGVJbmp1cnkoYXR0YWNraW5nVGVhbSk7XG4gICAgICAgIGRlZmVuZGluZ1RlYW0ucmVkdWNlVmFsdWVzKDMsJ2NyZWF0aXZpdHknLFsnc3RyaWtlcicsJ21pZGZpZWxkZXInLCAnZGVmZW5kZXInLCAnZ29hbGtlZXBlciddKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgcGxheWluZyBDUFUgbW9kZSwgYXV0byBnZW5lcmF0ZSBzdWJzdGl0dWl0b25zXG4gICAgICBpZihjcHVNb2RlKSB7XG4gICAgICAgIGlmIChldmVudFZhbHVlICUgMTAgPT09IDAgJiYgYXdheVRlYW0uc3VicyA8IDYgJiYgbWF0Y2hUaW1lID4gNTApIHtcbiAgICAgICAgICBjb25zdCBbY2hvc2VuUG9zaXRpb25dID0gcmFuZG9tUG9zaXRpb24oKTtcbiAgICAgICAgICBjb25zdCByZW1vdmVQbGF5ZXIgPSBhd2F5VGVhbS5yYW5kb21QbGF5ZXJCeVBvc2l0aW9uKGNob3NlblBvc2l0aW9uLCAnc3ViYmVkLW9uJyk7XG4gICAgICAgICAgY29uc3QgYWRkUGxheWVyID0gYXdheVRlYW0ucmFuZG9tU3Vic3RpdHV0ZShjaG9zZW5Qb3NpdGlvbik7XG5cbiAgICAgICAgICAvLyBDaGVja2VkIHRoYXQgdGhlcmUgaXMgYSBwbGF5ZXIgaW4gdGhhdCBwb3NpdGlvbiBhdmFpbGFibGUgdG8gY29tZSBvbi4gSWYgbm90LCBkb24ndCBydW4gdGhlIHN1YnN0aXR1dGlvblxuICAgICAgICAgIGlmIChyZW1vdmVQbGF5ZXIgJiYgYWRkUGxheWVyKSB7XG4gICAgICAgICAgICByZW1vdmVQbGF5ZXIucGxheWluZyA9ICFyZW1vdmVQbGF5ZXIucGxheWluZztcbiAgICAgICAgICAgIHN1YnN0aXR1dGUoYXdheVRlYW0sIHJlbW92ZVBsYXllcik7XG4gICAgICAgICAgICBhZGRQbGF5ZXIucGxheWluZyA9ICFhZGRQbGF5ZXIucGxheWluZztcbiAgICAgICAgICAgIHN1YnN0aXR1dGUoYXdheVRlYW0sIGFkZFBsYXllcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFJlZHVjZSBmaXRuZXNzIG9mIHBsYXllcnMgaW4gYSByYW5kb20gcG9zaXRpb25cbiAgICAgIHJhbmRvbVBvc2l0aW9uKCk7XG4gICAgICBkZWZlbmRpbmdUZWFtLnJlZHVjZVZhbHVlcyhnZW5SYW5kb21WYWx1ZSgxMCksJ2ZpdG5lc3MnLFtyYW5kb21Qb3NpdGlvbl0pO1xuXG4gICAgICAvLyBNb3ZlIHRoZSBwb3NzZXNzaW9uIGJhclxuICAgICAgbW92ZSgpO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIHRpbWVyXG4gICAgICB0aW1lQ29udHJvbCgpO1xuICAgIH1cbiAgfSw1MCk7XG5cbiAgLy8gRXZlbnQgTGlzdGVuZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBUZWFtIHNlbGVjdGlvblxuICAkKCcudGVhbS1pbnB1dCcpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgLy8gUkVGQUNUT1I6IG1ha2Ugc2VsZWN0b3JzIGluICR2YXJpYWJsZXMsIHR1cm4gY2xpY2sgaW50byBuYW1lZCBmdW5jdGlvblxuICAgIGNvbnN0IHVzZXJUZWFtID0gZS50YXJnZXQuaW5uZXJIVE1MO1xuICAgIGlmIChob21lVGVhbSA9PT0gbnVsbCkge1xuICAgICAgY29uZmlnVGVhbShob21lVGVhbSwgdXNlclRlYW0pO1xuICAgICAgJCgnLnRpdGxlLW1lc3NhZ2UnKS50ZXh0KCdIb21lIHRlYW0gY2hvc2VuLiBOb3cgY2hvc2UgeW91ciBvcHBvbmVudC4nKTtcbiAgICAgICQoZS50YXJnZXQpLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbmZpZ1RlYW0oYXdheVRlYW0sIHVzZXJUZWFtKTtcbiAgICAgICQoJy50aXRsZS1tZXNzYWdlJykudGV4dCgnT3Bwb25lbnQgc2VsZWN0ZWQuIE5vdyBlZGl0IHRhY3RpY3Mgb3IgcHJvY2VlZCB0byBtYXRjaC4nKTtcbiAgICAgICQoZS50YXJnZXQpLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgfVxuICB9KTtcblxuICAkKCcjcGxheWVyTW9kZScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBjcHVNb2RlID0gIWNwdU1vZGU7XG4gIH0pO1xuXG4gIC8vIFN0YXJ0aW5nIExpbmUgVXBcbiAgLy8gJCgnI3JldmVhbFRlYW0nKS5vbignY2xpY2snLCByZXZlYWxUZWFtKTtcblxuICAvLyBUb2dnbGUgeWVzL25vIHBsYXlpbmdcbiAgJCgnLnRlYW0tcGFuZWwnKS5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkUGxheWVyID0gZS50YXJnZXQuaWQ7XG4gICAgY2hvb3NlUGxheWVycyh0ZWFtVGFjdGljcywgc2VsZWN0ZWRQbGF5ZXIpO1xuICB9KTtcblxuICAkcHJpbWFyeUJ1dHRvbi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgcnVuID0gIXJ1bjtcbiAgICAkKCcjbWF0Y2gtc2V0dXAsIC5pbmZvLW1lc3NhZ2UsIC50ZWFtLXNldHVwJykuaGlkZSgpO1xuICAgICQoJyNtYXRjaC1lbmdpbmUsIC5hd2F5LXRlYW0sIC5ob21lLXRlYW0sIC50aW1lcicpLnNob3coKTtcbiAgICBpZiAocnVuKSB7XG4gICAgICAkcHJpbWFyeUJ1dHRvbi50ZXh0KCdQYXVzZScpO1xuICAgICAgZ2FtZVN0YXJ0ZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAkcHJpbWFyeUJ1dHRvbi50ZXh0KCdQbGF5Jyk7XG4gICAgfVxuXG4gIH0pO1xuXG4gICQoJyNob21lVGVhbScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBzaG93VGFjdGljc1BhZ2UoaG9tZVRlYW0pO1xuICB9KTtcblxuICAkKCcjYXdheVRlYW0nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgc2hvd1RhY3RpY3NQYWdlKGF3YXlUZWFtKTtcbiAgfSk7XG5cbiAgJCgnLmdvLWJhY2snKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgJCgnLnRlYW0tc2V0dXAnKS5oaWRlKCk7XG4gICAgJCgnLm1hdGNoLXNldHVwJykuc2hvdygpO1xuICB9KTtcblxuICAkKCcuZm9ybWF0aW9uJykub24oJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgY29uc3QgbmV3Rm9ybWF0aW9uID0gZS50YXJnZXQudmFsdWU7XG4gICAgdGVhbVRhY3RpY3MuZm9ybWF0aW9uID0gbmV3Rm9ybWF0aW9uO1xuICAgIHJldmVhbFRlYW0odGVhbVRhY3RpY3MpO1xuICB9KTtcblxuICBmdW5jdGlvbiBzaG93VGFjdGljc1BhZ2UodGVhbU9iamVjdCkge1xuICAgIGlmIChydW4pIHtcbiAgICAgIHJ1biA9ICFydW47XG4gICAgfVxuXG4gICAgJHByaW1hcnlCdXR0b24udGV4dCgnUGxheScpO1xuICAgICQoJy5tYXRjaC1zZXR1cCwgLm1hdGNoLWVuZ2luZScpLmhpZGUoKTtcbiAgICAkKCcudGVhbS1zZXR1cCcpLnNob3coKTtcbiAgICBzZXR1cFRhY3RpY3ModGVhbU9iamVjdCk7XG4gICAgdGVhbVRhY3RpY3MgPSB0ZWFtT2JqZWN0O1xuICAgIHJldmVhbFRlYW0odGVhbVRhY3RpY3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0dXBUYWN0aWNzKHRlYW1PYmplY3QpIHtcbiAgICAkKCcudGVhbS1wYW5lbCcpLmh0bWwoJycpO1xuICAgICQoJy5mb3JtYXRpb24nKS52YWwodGVhbU9iamVjdC5mb3JtYXRpb24pO1xuXG4gICAgLy8gU29ydHMgcGxheWVycyBpbiBvcmRlciBvZiBwb3NpdGlvbiBbR0ssIERlZiwgTWlkLCBBdHRdXG4gICAgdGVhbU9iamVjdC5wbGF5ZXJzLnNvcnQoZnVuY3Rpb24oYSxiKXtcbiAgICAgIHJldHVybiBwb3NpdGlvbnMuaW5kZXhPZihhLnBvc2l0aW9uKSA8IHBvc2l0aW9ucy5pbmRleE9mKGIucG9zaXRpb24pID8gLTEgOiAxO1xuICAgIH0pO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZWFtT2JqZWN0LnBsYXllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBsYXllciA9IHRlYW1PYmplY3QucGxheWVyc1tpXTtcblxuICAgICAgLy8gSWYgc3RhcnQgZ2l2ZSBhbiBIVE1MIHRpY2ssIGVsc2UgZ2l2ZSBhbiBIVE1MIGNyb3NzXG4gICAgICBjb25zdCBzdGFydGluZ0VsZXZlbiA9IHBsYXllci5wbGF5aW5nID8gJyYjMTAwMDQ7JyA6ICcmIzEwMDA3Oyc7XG5cbiAgICAgIC8vIEJ1aWxkIHRhYmxlIG9mIHNxdWFkIHBsYXllcnMgLSBpbnNlcnQgcmVsZXZhbnQgY2xhc3MgdG8gcmVmbGVjdCBwbGF5ZXIgc3RhdHVzLCBlLmcuIHNlbnQgb2ZmLCB5ZWxsb3csIGluanVyZWQsIHN1YnN0aXR1dGVkXG4gICAgICAkKCcudGVhbS1wYW5lbCcpLmFwcGVuZChcbiAgICAgICAgYDxwIGNsYXNzPVwicGxheWVyLWxpbmUgJHtwbGF5ZXIucG9zaXRpb259ICR7cGxheWVyLnN0YXR1c31cIiBpZD0nJHtwbGF5ZXIubmFtZX0nPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3RhcnRpbmcgJHtwbGF5ZXIuc3RhdHVzfVwiIGlkPVwiJHtpfVwiPiR7c3RhcnRpbmdFbGV2ZW59PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGxheWVyLXBvc2l0aW9uIFwiPiR7cGxheWVyLnBvc2l0aW9ufTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInBsYXllci1uYW1lXCI+JHtwbGF5ZXIubmFtZX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJwbGF5ZXItc3RhdFwiIGRhdGEtc29ydD1cIiR7cGxheWVyLmF0dGFja31cIiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwxMjgsMCwke3BsYXllci5hdHRhY2svMTAwfSlcIj4ke3BsYXllci5hdHRhY2t9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGxheWVyLXN0YXRcIiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwxMjgsMCwke3BsYXllci5kZWZlbmNlLzEwMH0pXCI+JHtwbGF5ZXIuZGVmZW5jZX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJwbGF5ZXItc3RhdFwiIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDEyOCwwLCR7cGxheWVyLmNyZWF0aXZpdHkvMTAwfVwiKT4ke3BsYXllci5jcmVhdGl2aXR5fTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInBsYXllci1zdGF0XCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMTI4LDAsJHtwbGF5ZXIuZGVmZW5jZS8xMDB9KVwiPiR7cGxheWVyLmRlZmVuY2V9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGxheWVyLXN0YXRcIiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwxMjgsMCwke3BsYXllci5maXRuZXNzLzEwMH0pXCI+JHtwbGF5ZXIuZml0bmVzc308L3NwYW4+XG4gICAgICAgIDwvcD5gXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVhbFRlYW0odGVhbU9iamVjdCkge1xuICAgICQoJy50ZWFtLWRpc3BsYXknKS5odG1sKCcnKTtcblxuICAgIC8vIFNwbGl0IGZvcm1hdGlvbiBpbnRvIGFuIGFycmF5XG4gICAgY29uc3QgZm9ybWF0aW9uID0gWycxJ10uY29uY2F0KHRlYW1PYmplY3QuZm9ybWF0aW9uLnNwbGl0KCctJykpO1xuXG4gICAgbGV0IHBsYXllck51bWJlciA9IDA7XG4gICAgbGV0IHBvc2l0aW9uTnVtYmVyID0gMDtcblxuICAgIHRyeSB7XG4gICAgICAvLyBUcnkgdG8gbWFwIHRocm91Z2ggdGhlIGZvcm1hdGlvbiBhcnJheSwgZS5nLiBbMSw0LDIsMl0gKGluY2x1c2l2ZSBvZiBnb2Fsa2VlcGVyKVxuICAgICAgZm9ybWF0aW9uLm1hcCgoYXJyYXlJdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZXJhdGlvbnMgPSBwYXJzZUZsb2F0KGFycmF5SXRlbSk7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHBsYXllcnMgd2hpbGUgaSAoaW5pdGlhbGx5IDApIGlzIGxlc3MgdGhhbiB0aGUgbnVtYmVyIG9mIHBvc2l0aW9ucyByZXF1aXJlZFxuICAgICAgICB3aGlsZSAoaSA8IGl0ZXJhdGlvbnMpIHtcbiAgICAgICAgICAvLyBJZiBwbGF5ZXIucGxheWluZyA9PT0gdHJ1ZSBPUiBpZiBwbGF5ZXIuc3RhdHVzIGlzICdlamVjdGVkJyAoc2VudCBvZmYpLiBQbGF5ZXJzIHdpdGggcmVkIGNhcmRzIGNvbnRpbnVlIHRvIGJlIGFkZGVkIHRvIHRoZSB0ZWFtIHNoZWV0LCBzbyB0aGF0IHRoZXkgY2Fubm90IGJlIHJlbW92ZWQvcmVwbGFjZWQuIEEgY2xhc3Mgb2YgLnJlZCBpcyBhZGRlZCwgd2hpY2ggZGlhYmxlZHMgdGhlIGFiaWxpdHkgdG8gc3Vic3RpdHV0ZSB0aGVtLiBQbGF5ZXJzIHdpdGggYSBzdGF0dXMgb2YgJ2VqZWN0ZWQnIGhhdmUgYSAucGxheWluZyB2YWx1ZSBvZiBmYWxzZSAtIHRoZXkgbm8gbG9uZ2VyIGluZmx1ZW5jZSBldmVudHMuXG4gICAgICAgICAgaWYgKHRlYW1PYmplY3QucGxheWVyc1twbGF5ZXJOdW1iZXJdLnBsYXlpbmcgfHwgdGVhbU9iamVjdC5wbGF5ZXJzW3BsYXllck51bWJlcl0uc3RhdHVzID09PSAnZWplY3RlZCcpIHtcblxuICAgICAgICAgICAgLy8gSWYgcGxheWVyIGhhcyBiZWVuIHBsYWNlZCBvdXQgb2YgcG9zaXRpb24gYWRkIGEgd2FybmluZyBjbGFzc1xuICAgICAgICAgICAgY29uc3Qgd2FybmluZ01lc3NhZ2UgPSBwb3NpdGlvbnNbcG9zaXRpb25OdW1iZXJdICE9PSB0ZWFtT2JqZWN0LnBsYXllcnNbcGxheWVyTnVtYmVyXS5wb3NpdGlvbiA/ICd3YXJuaW5nJyA6ICcnO1xuXG4gICAgICAgICAgICAvLyBBcHBlbmQgcGxheWVyIG9uIHRvIHRoZSBwaXRjaCBtYXAgd2l0aCBjbGFzc2VzIHRoYXQgaW5kaWNhdGUgdGhlIHBsYXllcidzIHN0YXR1cyxlLmcuIHJlZCBjYXJkLCB5ZWxsb3cgY2FyZCBvciBvdXQgb2YgcG9zaWl0b25cbiAgICAgICAgICAgICQoJy50ZWFtLWRpc3BsYXknKS5hcHBlbmQoXG4gICAgICAgICAgICAgIGA8c3BhbiBjbGFzcz0ncGxheWVyLWJsb2NrICR7d2FybmluZ01lc3NhZ2V9ICR7KHRlYW1PYmplY3QucGxheWVyc1twbGF5ZXJOdW1iZXJdLnN0YXR1cyl9Jz4ke3RlYW1PYmplY3QucGxheWVyc1twbGF5ZXJOdW1iZXJdLm5hbWV9PC9zcGFuPmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0ZWFtT2JqZWN0LnBsYXllcnNbcGxheWVyTnVtYmVyXS5jaG9zZW5Qb3NpdGlvbiA9IHBvc2l0aW9uc1twb3NpdGlvbk51bWJlcl07XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBsYXllck51bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgICQoJy50ZWFtLWRpc3BsYXknKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJzZXBlcmF0ZS1wbGF5ZXJzXCI+Jyk7XG4gICAgICAgIHBvc2l0aW9uTnVtYmVyKys7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoKGVycikge1xuICAgICAgLy8gVGhyb3dzIGFuIGVycm9yIHdoZW4gZmV3ZXIgdGhhbiAxMSBwbGF5ZXJzIGFyZSBzZWxlY3RlZC4gSXQgZGlzcGxheXMgYSB3YXJuaW5nLiBEbyBub3Qgd2FudCB0byBwcmV2ZW50IHNlbGVjdGlvbnMgYXMgdGhlcmUgYXJlIGxlZ2l0bWF0ZSByZWFzb25zIHdoeSBmZXdlciB0aGFuIDExIHBsYXllcnMgbWF5IGJlIHNlbGVjdGVkLCBlLmcuIHJlZCBjYXJkcyBvciBpbmp1cmllc1xuICAgICAgJCgnLnRlYW0tZGlzcGxheScpLmFwcGVuZChgPHAgY2xhc3M9J3RlYW0tc2VsZWN0aW9uLXdhcm5pbmcgc2VwZXJhdGUtcGxheWVycyc+TGVzcyB0aGFuIDExIHBsYXllcnMgc2VsZWN0ZWQhPC9wPmApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNob29zZVBsYXllcnModGVhbU9iamVjdCwgc2VsZWN0ZWRQbGF5ZXIpIHtcbiAgICBjb25zdCAkc2VsZWN0ZWRQbGF5ZXIgPSAkKGAjJHtzZWxlY3RlZFBsYXllcn1gKTtcblxuICAgIC8vIFRvZ2dsZSBzZWxlY3RlZCBwbGF5ZXJzIHBsYXlpbmcgc3RhdHVzICh0cnVlL2ZhbHNlKVxuICAgIHRlYW1PYmplY3QucGxheWVyc1tzZWxlY3RlZFBsYXllcl0ucGxheWluZyA9ICF0ZWFtT2JqZWN0LnBsYXllcnNbc2VsZWN0ZWRQbGF5ZXJdLnBsYXlpbmc7XG5cbiAgICByZXZlYWxUZWFtKHRlYW1UYWN0aWNzKTtcblxuICAgIGlmICh0ZWFtT2JqZWN0LnBsYXllcnNbc2VsZWN0ZWRQbGF5ZXJdLnBsYXlpbmcpIHtcbiAgICAgICRzZWxlY3RlZFBsYXllci5odG1sKCcmIzEwMDA0OycpO1xuICAgICAgaWYgKGdhbWVTdGFydGVkKSB7XG4gICAgICAgICRzZWxlY3RlZFBsYXllci5wYXJlbnQoKS5jc3MoeydiYWNrZ3JvdW5kJzogJ2dyZWVuJ30pO1xuICAgICAgICBjb25zdCBwbGF5ZXJPbiA9IHRlYW1PYmplY3QucGxheWVyc1tzZWxlY3RlZFBsYXllcl07XG4gICAgICAgIHN1YnN0aXR1dGUodGVhbU9iamVjdCwgcGxheWVyT24pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAkc2VsZWN0ZWRQbGF5ZXIuaHRtbCgnJiMxMDAwNzsnKTtcbiAgICAgIGlmIChnYW1lU3RhcnRlZCkge1xuICAgICAgICAkc2VsZWN0ZWRQbGF5ZXIucGFyZW50KCkuY3NzKHsncG9pbnRlci1ldmVudHMnOiAnbm9uZScsICdiYWNrZ3JvdW5kJzogJ3JlZCd9KTtcbiAgICAgICAgY29uc3QgcGxheWVyT2ZmID0gdGVhbU9iamVjdC5wbGF5ZXJzW3NlbGVjdGVkUGxheWVyXTtcbiAgICAgICAgc3Vic3RpdHV0ZSh0ZWFtT2JqZWN0LCBwbGF5ZXJPZmYpO1xuXG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBzdWJzdGl0dXRlKHRlYW1PYmplY3QsIHBsYXllcikge1xuICAgIGlmICh0ZWFtT2JqZWN0LnN1YnMgPCA3KSB7XG4gICAgICBpZiAoIXBsYXllci5wbGF5aW5nKSB7XG4gICAgICAgICQoYCMke3RlYW1PYmplY3QucGxhY2V9RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtYXJyb3ctcmlnaHQnIHN0eWxlPSdjb2xvcjpyZWQ7JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHtwbGF5ZXIubmFtZX0gc3Vic3RpdHV0ZWQ8YnIvPmApO1xuICAgICAgICB0ZWFtT2JqZWN0LnN1YnMgKz0gMTtcbiAgICAgICAgcGxheWVyLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgcGxheWVyLnN0YXR1cyA9ICdzdWJiZWQtb2ZmJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoYCMke3RlYW1PYmplY3QucGxhY2V9RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtYXJyb3ctcmlnaHQnIHN0eWxlPSdjb2xvcjpncmVlbjsnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+ICR7bWF0Y2hUaW1lfSBtaW5zOiAke3BsYXllci5uYW1lfSBzdWJzdGl0dXRlZDxici8+YCk7XG4gICAgICAgIHRlYW1PYmplY3Quc3VicyArPSAxO1xuICAgICAgICBwbGF5ZXIucGxheWluZyA9IHRydWU7XG4gICAgICAgIHBsYXllci5zdGF0dXMgPSAnc3ViYmVkLW9uJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ1lvdSBoYXZlIGhhZCAzIHN1YnMhJyk7XG4gICAgfVxuICB9XG5cbiAgLy8gRnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXG5cbiAgZnVuY3Rpb24gdGltZUNvbnRyb2woKSB7XG4gICAgaWYobWF0Y2hUaW1lID09PSA0NCkge1xuICAgICAgJGNvbW1lbnRhcnlCb3gudGV4dChgVGhhdCdzIGhhbGYtdGltZSFgKTtcbiAgICAgIHJ1biA9ICFydW47XG4gICAgICAkcHJpbWFyeUJ1dHRvbi50ZXh0KCdQbGF5Jyk7XG4gICAgfVxuXG4gICAgaWYobWF0Y2hUaW1lID09PSA5MCkge1xuICAgICAgJGNvbW1lbnRhcnlCb3gudGV4dChgVGhhdCdzIGZ1bGwtdGltZSFgKTtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJRCk7XG4gICAgICAkcHJpbWFyeUJ1dHRvbi50ZXh0KCdGaW5pc2gnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWF0Y2hUaW1lKys7XG4gICAgICAkbWF0Y2hUaW1lLnRleHQobWF0Y2hUaW1lKTtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGdlblJhbmRvbVZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB2YWx1ZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gbW92ZSgpIHtcblxuICAgIGNvbnN0IGhvbWVCYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaG9tZUJhcicpO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSB0d28gdGVhbXMgY3JlYXRpdml0eSBzY29yZXMgYW5kIGNvdmVydCB0aGVtIGludG8gYSBwZXJjZW50YWdlIG91dCBvZiAxMDAgLSB0aGlzIGlzIGZvciB0aGUgcG9zc2Vzc2lvbiBiYXIuXG4gICAgLy8gSXQgKy8tIGEgc21hbGwgbG93IGxldmVsIGludGVnZXIgdG8ga2VlcCBpdCBtb3ZpbmcgY29udGlub3VzbHlcbiAgICB3aWR0aCA9IChob21lVGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdjcmVhdGl2aXR5JykgLyAoaG9tZVRlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnY3JlYXRpdml0eScpICsgYXdheVRlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnY3JlYXRpdml0eScpKSAqIDEwMCkgKyAoTWF0aC5yYW5kb20oKSA8IDAuNSA/IC1nZW5SYW5kb21WYWx1ZSg2KSA6IGdlblJhbmRvbVZhbHVlKDYpKTtcblxuICAgIGhvbWVCYXIuc3R5bGUud2lkdGggPSB3aWR0aCArICclJztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdFRlYW0oKSB7XG4gICAgLy8gR2VuZXJhdGUgYSByYW5kb20gdmFsdWVzIGZyb20gaG9tZSBhbmQgYXdheSB0ZWFtIHVzaW5nIHRoZWlyIGF2ZXJhZ2UgY3JlYXRpdml0eSBzY29yZXMgZnJvbSBwbGF5ZXJzIG9uIHRoZSBwaXRjaFxuICAgIC8vIFRoZSBoaWdoZXIgYSB0ZWFtcyBjcmVhdGl2aXR5IHNjb3JlLCB0aGUgbW9yZSBjaGFuY2VzIHRoZXkgd2lsbCBjcmVhdGVcbiAgICAvLyAyNC4wNS4yMDE3IC0gYWRkZWQgYSBGaXRuZXNzIHZhbHVlIGZvciBldmVyeSBwbGF5ZXIsIHdoaWNoIGRlY3JlYXNlcyB0aHJvdWdoIHRoZSBnYW1lLiBUaGlzIGlzIG5vdyBhZGRlZCB0byB0aGUgcmFuZG9tIGNyZWF0aXZpdHkgc2NvcmUgdG8gZGV0ZXJtaW5lLCB3aGljaCB0ZWFtIGhvbWUvYXdheSBnZXRzIHRoZSBjaGFuY2UuXG4gICAgY29uc3QgaG9tZVJhbmRvbSA9ICBnZW5SYW5kb21WYWx1ZShob21lVGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdjcmVhdGl2aXR5JykgKyBob21lVGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdmaXRuZXNzJykpO1xuICAgIGNvbnN0IGF3YXlSYW5kb20gPSAgZ2VuUmFuZG9tVmFsdWUoYXdheVRlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnY3JlYXRpdml0eScpICsgYXdheVRlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnZml0bmVzcycpKTtcblxuICAgIGlmIChob21lUmFuZG9tID49IGF3YXlSYW5kb20pIHtcbiAgICAgIHJldHVybiBbaG9tZVRlYW0sIGF3YXlUZWFtXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFthd2F5VGVhbSwgaG9tZVRlYW1dO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldHVwRXZlbnQoYXR0YWNraW5nVGVhbSkge1xuICAgICRjb21tZW50YXJ5Qm94LmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGF0dGFja2luZ1RlYW0uY29sb3JzWzBdKTtcbiAgICAkY29tbWVudGFyeUJveC5jc3MoJ2NvbG9yJywgYXR0YWNraW5nVGVhbS5jb2xvcnNbMV0pO1xuICAgIGlmIChnZW5SYW5kb21WYWx1ZSgyMCkgJSA0ID09PSAwKXtcbiAgICAgIGF0dGFja2luZ1RlYW0uaW5jcmVhc2VWYWx1ZXMoMywnYXR0YWNrJyxbJ21pZGZpZWxkZXInLCAnc3RyaWtlciddKTtcbiAgICAgIGF0dGFja2luZ1RlYW0uaW5jcmVhc2VWYWx1ZXMoMywnY3JlYXRpdml0eScsWydtaWRmaWVsZGVyJywgJ3N0cmlrZXInXSk7XG4gICAgICAvLyAnJyA9PT0gTm8gcGxheWVyIHBhc3NlZCBpblxuICAgICAgJGNvbW1lbnRhcnlCb3gudGV4dChnZW5lcmF0ZUNvbW1lbnRhcnkoJ2NoYW5jZScsJycpKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIFJFTU9WRVxuICAvLyBmdW5jdGlvbiBzZWxlY3RQbGF5ZXIodGVhbSkge1xuICAvLyAgIGNvbnN0IGdlblJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGVhbS5wbGF5ZXJzLmxlbmd0aCk7XG4gIC8vICAgcmV0dXJuIHRlYW0ucGxheWVyc1tnZW5SYW5kb21JbmRleF07XG4gIC8vIH1cblxuICBmdW5jdGlvbiBnb2FsQ2hhbmNlKGF0dGFja2luZ1RlYW0sIGRlZmVuZGluZ1RlYW0pIHtcbiAgICAvLyBSZWZhY3RvciB0aGlzXG4gICAgY29uc3QgYXR0YWNraW5nUGxheWVyID0gYXR0YWNraW5nVGVhbS5yYW5kb21QbGF5ZXIoKTtcbiAgICBjb25zdCBkZWZlbmRpbmdQbGF5ZXIgPSBkZWZlbmRpbmdUZWFtLnJhbmRvbVBsYXllckJ5UG9zaXRpb24oJ2RlZmVuZGVyJyk7XG5cbiAgICBpZiAoZ2VuUmFuZG9tVmFsdWUoYXR0YWNraW5nUGxheWVyLmF0dGFjaykgPiBnZW5SYW5kb21WYWx1ZShkZWZlbmRpbmdQbGF5ZXIuZGVmZW5jZSkpIHtcblxuICAgICAgZ2VuZXJhdGVDb21tZW50YXJ5KCdnb2FsJywgYXR0YWNraW5nUGxheWVyKTtcbiAgICAgIHVwZGF0ZVNjb3JlKGF0dGFja2luZ1RlYW0pO1xuXG4gICAgICAvLyBSZWZhY3RvciB0aGVzZSBtZXNzYWdlcyAtIHVzZSBhIGZ1bmN0aW9uIHdoaWNoIHBhc3NlcyBpbiBwbGF5ZXIsIHRlYW1PYmplY3QsIGNvbG9yIGFuZCBpY29uIG5hbWVcbiAgICAgICQoYCMke2F0dGFja2luZ1RlYW0ucGxhY2V9RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtZnV0Ym9sLW8nIHN0eWxlPSdjb2xvcjp3aGl0ZTsnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+ICR7bWF0Y2hUaW1lfSBtaW5zOiAke2F0dGFja2luZ1BsYXllci5uYW1lfSBzY29yZWQ8YnIvPmApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZURpc2NpcGxpbmUoYXR0YWNraW5nVGVhbSwgZGVmZW5kaW5nVGVhbSkge1xuXG4gICAgLy8gUmVmYWN0b3JcbiAgICAvLyBBVFRBQ0tJTkcgVEVBTSBSRURVTkRBTlRcbiAgICAvLyB0ZWFtU3RyaW5nIGNhbiBiZSBzdWJzdGl0dXRlZCBmb3IgZGVmZW5kaW5nVGVhbS5wbGFjZVxuICAgIGNvbnN0IGRlZmVuZGluZ1BsYXllciA9IGRlZmVuZGluZ1RlYW0ucmFuZG9tUGxheWVyKCk7XG5cblxuICAgIC8vIFRha2VzIG1hdGNoIHRpbWUgaW4gYWNjb3VudCwgd2hpY2ggZGVjcmVhc2VzIHRoZSBsaWtlbGlob29kIG9mIGJvb2tpbmdzIGhhcHBlbmluZyBlYXJsaWVyIGluIHRoZSBnYW1lLlxuICAgIGlmICgoZ2VuUmFuZG9tVmFsdWUoZGVmZW5kaW5nUGxheWVyLmRpc2NpcGxpbmUpICsgKDEwMC1tYXRjaFRpbWUpKSA8IDkwICYmIGRlZmVuZGluZ1BsYXllci5zdGF0dXMgIT09ICdlamVjdGVkJykge1xuXG4gICAgICAvLyBBbHJlYWR5IGJvb2tlZD8gU2VuZCBoaW0gb2ZmIVxuICAgICAgaWYgKGRlZmVuZGluZ1BsYXllci5zdGF0dXMgPT09ICd5ZWxsb3cnKSB7XG4gICAgICAgIC8vIFJlZmFjdG9yIGNyZWF0ZSBhIGNsYXNzIG9yIHBhc3MgaW4gYXMgYW4gb2JqZWN0IC0gb25lIGxpbmVcbiAgICAgICAgJGNvbW1lbnRhcnlCb3guY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJyNGRjAwMDAnKTtcbiAgICAgICAgJGNvbW1lbnRhcnlCb3guY3NzKCdjb2xvcicsICcjRkZGRkZGJyk7XG4gICAgICAgIGRlZmVuZGluZ1RlYW0ucmVkdWNlVmFsdWVzKDIwLCdkZWZlbmNlJyxbJ3N0cmlrZXInLCdtaWRmaWVsZGVyJywgJ2RlZmVuZGVyJywgJ2dvYWxrZWVwZXInXSk7XG4gICAgICAgIGRlZmVuZGluZ1RlYW0ucmVkdWNlVmFsdWVzKDIwLCdhdHRhY2snLFsnc3RyaWtlcicsJ21pZGZpZWxkZXInLCAnZGVmZW5kZXInLCAnZ29hbGtlZXBlciddKTtcbiAgICAgICAgZGVmZW5kaW5nVGVhbS5yZWR1Y2VWYWx1ZXMoMjBcbiAgICAgICAgICAsJ2NyZWF0aXZpdHknLFsnc3RyaWtlcicsJ21pZGZpZWxkZXInLCAnZGVmZW5kZXInLCAnZ29hbGtlZXBlciddKTtcblxuICAgICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ3NlY29uZFllbGxvdycsIGRlZmVuZGluZ1BsYXllcik7XG5cbiAgICAgICAgLy8gUmVmYWN0b3IgdGhlc2UgbWVzc2FnZXMgLSB1c2UgYSBmdW5jdGlvbiB3aGljaCBwYXNzZXMgaW4gcGxheWVyLCB0ZWFtT2JqZWN0LCBjb2xvciBhbmQgaWNvbiBuYW1lXG4gICAgICAgICQoYCMke2RlZmVuZGluZ1RlYW0ucGxhY2V9RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtc3F1YXJlIGV2ZW50LWl0ZW0nIHN0eWxlPSdjb2xvcjogcmVkOycgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7ZGVmZW5kaW5nUGxheWVyLm5hbWV9IHNlbnQgb2ZmPGJyLz5gKTtcbiAgICAgICAgZGVmZW5kaW5nUGxheWVyLnN0YXR1cyA9ICdlamVjdGVkJztcbiAgICAgICAgZGVmZW5kaW5nUGxheWVyLnBsYXlpbmcgPSBmYWxzZTtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmVmYWN0b3IgY3JlYXRlIGEgY2xhc3Mgb3IgcGFzcyBpbiBhcyBhbiBvYmplY3QgLSBvbmUgbGluZVxuICAgICAgICAkY29tbWVudGFyeUJveC5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAneWVsbG93Jyk7XG4gICAgICAgICRjb21tZW50YXJ5Qm94LmNzcygnY29sb3InLCAnIzAwMDAwMCcpO1xuICAgICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ3llbGxvdycsIGRlZmVuZGluZ1BsYXllcik7XG4gICAgICAgIGRlZmVuZGluZ1BsYXllci5kZWZlbmNlIC09IDg7XG5cbiAgICAgICAgJChgIyR7ZGVmZW5kaW5nVGVhbS5wbGFjZX1FdmVudHNgKS5hcHBlbmQoYFxuICAgICAgICAgIDxpIGNsYXNzPSdmYSBmYS1zcXVhcmUgZXZlbnQtaXRlbScgc3R5bGU9J2NvbG9yOiB5ZWxsb3c7JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHtkZWZlbmRpbmdQbGF5ZXIubmFtZX0gYm9va2VkPGJyLz5gKTtcbiAgICAgICAgZGVmZW5kaW5nUGxheWVyLnN0YXR1cyA9ICd5ZWxsb3cnO1xuICAgICAgICBkZWZlbmRpbmdQbGF5ZXIuZml0bmVzcyAtPSBnZW5SYW5kb21WYWx1ZSgxMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlSW5qdXJ5KGF0dGFja2luZ1RlYW0pIHtcbiAgICBjb25zdCBhdHRhY2tpbmdQbGF5ZXIgPSBhdHRhY2tpbmdUZWFtLnJhbmRvbVBsYXllcigpO1xuXG4gICAgaWYgKGdlblJhbmRvbVZhbHVlKDEwMSkgJSA0MCA9PT0gMCkge1xuXG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ2luanVyeScsIGF0dGFja2luZ1BsYXllcik7XG4gICAgICAkKGAjJHthdHRhY2tpbmdUZWFtLnBsYWNlfUV2ZW50c2ApLmFwcGVuZChgPGkgY2xhc3M9J2ZhIGZhLXBsdXMnIHN0eWxlPSdjb2xvcjogZ3JlZW47JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHthdHRhY2tpbmdQbGF5ZXIubmFtZX0gaW5qdXJlZDxici8+YCk7XG4gICAgICBpZiAoYXR0YWNraW5nVGVhbS5wbGFjZSA9PT0gJ2F3YXknICYmIGNwdU1vZGUpIHtcbiAgICAgICAgYXR0YWNraW5nUGxheWVyLnBsYXlpbmcgPSAhYXR0YWNraW5nUGxheWVyLnBsYXlpbmc7XG4gICAgICAgIHN1YnN0aXR1dGUoYXdheVRlYW0sIGF0dGFja2luZ1BsYXllcik7XG4gICAgICAgIGNvbnN0IGFkZFBsYXllciA9IGF3YXlUZWFtLnJhbmRvbVN1YnN0aXR1dGUoYXR0YWNraW5nUGxheWVyLnBvc2l0aW9uKTtcbiAgICAgICAgYWRkUGxheWVyLnBsYXlpbmcgPSAhYWRkUGxheWVyLnBsYXlpbmc7XG4gICAgICAgIHN1YnN0aXR1dGUoYXdheVRlYW0sIGFkZFBsYXllcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhdHRhY2tpbmdQbGF5ZXIuZml0bmVzcyA9IDAgKyBnZW5SYW5kb21WYWx1ZSgzMCk7XG4gICAgICAgIGF0dGFja2luZ1BsYXllci5zdGF0dXMgPSAnaW5qdXJlZCc7XG4gICAgICAgIGF0dGFja2luZ1BsYXllci5wbGF5aW5nID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgYXR0YWNraW5nUGxheWVyLmZpdG5lc3MgLT0gZ2VuUmFuZG9tVmFsdWUoMTUpO1xuICAgICAgYXR0YWNraW5nUGxheWVyLmRlZmVuY2UgLT0gZ2VuUmFuZG9tVmFsdWUoMTApO1xuICAgICAgYXR0YWNraW5nUGxheWVyLmF0dGFjayAtPSBnZW5SYW5kb21WYWx1ZSgxMCk7XG4gICAgICAvLyBSZWZhY3RvciAtXG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ25lYXJNaXNzJywgYXR0YWNraW5nUGxheWVyKTtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUZyZWVraWNrKGF0dGFja2luZ1RlYW0sIGRlZmVuZGluZ1RlYW0pIHtcbiAgICBjb25zdCBhdHRhY2tpbmdQbGF5ZXIgPSBhdHRhY2tpbmdUZWFtLnJhbmRvbVBsYXllckJ5UG9zaXRpb24oJ21pZGZpZWxkZXInKTtcbiAgICBjb25zdCBkZWZlbmRpbmdWYWx1ZSA9IChkZWZlbmRpbmdUZWFtLnJhbmRvbVBsYXllckJ5UG9zaXRpb24oJ2dvYWxrZWVwZXInKS5kZWZlbmNlICsgZGVmZW5kaW5nVGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdkZWZlbmRlcicpKTtcblxuICAgIGlmIChhdHRhY2tpbmdQbGF5ZXIuYXR0YWNrID4gZGVmZW5kaW5nVmFsdWUpIHtcbiAgICAgIHVwZGF0ZVNjb3JlKGF0dGFja2luZ1RlYW0pO1xuXG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ2ZyZWVraWNrJywgYXR0YWNraW5nUGxheWVyKTtcbiAgICAgICQoYCMke2F0dGFja2luZ1RlYW0ucGxhY2V9RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtZnV0Ym9sLW8nIHN0eWxlPSdjb2xvcjp3aGl0ZTsnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+ICR7bWF0Y2hUaW1lfSBtaW5zOiAke2F0dGFja2luZ1BsYXllci5uYW1lfSBzY29yZWQ8YnIvPmApO1xuICAgICAgYXR0YWNraW5nUGxheWVyLmF0dGFjayArPSA1O1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ3dhc3RlZEZyZWVraWNrJywgYXR0YWNraW5nUGxheWVyKTtcbiAgICAgIGF0dGFja2luZ1BsYXllci5jcmVhdGl2aXR5IC09IDU7XG4gICAgICBhdHRhY2tpbmdUZWFtLnJlZHVjZVZhbHVlcyhnZW5SYW5kb21WYWx1ZSgxMCksICdhdHRhY2snLCBbJ3N0cmlrZXInLCAnbWlkZmllbGRlciddKTtcbiAgICAgIGF0dGFja2luZ1RlYW0ucmVkdWNlVmFsdWVzKGdlblJhbmRvbVZhbHVlKDEwKSwgJ2NyZWF0aXZpdHknLCBbJ3N0cmlrZXInLCAnbWlkZmllbGRlciddKTtcblxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBoYW5kbGVQZW5hbHR5KGF0dGFja2luZ1RlYW0sIGRlZmVuZGluZ1RlYW0pIHtcblxuICAgIGNvbnN0IGF0dGFja2luZ1BsYXllciA9IGF0dGFja2luZ1RlYW0ucmFuZG9tUGxheWVyQnlQb3NpdGlvbignc3RyaWtlcicpO1xuICAgIGNvbnN0IGRlZmVuZGluZ1BsYXllciA9IGRlZmVuZGluZ1RlYW0ucmFuZG9tUGxheWVyQnlQb3NpdGlvbignZ29hbGtlZXBlcicpO1xuICAgIGNvbnN0IGJvb2tlZFBsYXllciA9IGRlZmVuZGluZ1RlYW0ucmFuZG9tUGxheWVyQnlQb3NpdGlvbignZGVmZW5kZXInKTtcbiAgICAvLyBCb29rIHRoZSBwbGF5ZXI/XG4gICAgaWYgKGdlblJhbmRvbVZhbHVlKDEwMCkgPiAyNSkge1xuICAgICAgYm9va2VkUGxheWVyLnN0YXR1cyA9ICd5ZWxsb3cnO1xuICAgICAgJChgIyR7ZGVmZW5kaW5nVGVhbS5wbGFjZX1FdmVudHNgKS5hcHBlbmQoYDxpIGNsYXNzPSdmYSBmYS1zcXVhcmUgZXZlbnQtaXRlbScgc3R5bGU9J2NvbG9yOiB5ZWxsb3c7JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHtib29rZWRQbGF5ZXIubmFtZX0gYm9va2VkPGJyLz5gKTtcbiAgICB9XG5cbiAgICBpZiAoKGdlblJhbmRvbVZhbHVlKGF0dGFja2luZ1BsYXllci5hdHRhY2spKjIpID4gZ2VuUmFuZG9tVmFsdWUoZGVmZW5kaW5nUGxheWVyLmRlZmVuY2UpKSB7XG5cbiAgICAgIHVwZGF0ZVNjb3JlKGF0dGFja2luZ1RlYW0pO1xuXG4gICAgICAvLyAkY29tbWVudGFyeUJveC50ZXh0KGAke2F0dGFja2luZ1BsYXllci5uYW1lfSdzIGNsaW5pY2FsIGZyb20gdGhlIHNwb3QhIEdvYWwhYCk7XG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ3BlbmFsdHknLCBhdHRhY2tpbmdQbGF5ZXIpO1xuICAgICAgJChgIyR7YXR0YWNraW5nVGVhbS5wbGFjZX1FdmVudHNgKS5hcHBlbmQoYDxpIGNsYXNzPSdmYSBmYS1mdXRib2wtbycgc3R5bGU9J2NvbG9yOndoaXRlJyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHthdHRhY2tpbmdQbGF5ZXIubmFtZX0gc2NvcmVzIHBlbmFsdHk8YnIvPmApO1xuICAgICAgYXR0YWNraW5nUGxheWVyLmF0dGFjayArPSA1O1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ21pc3NlZFBlbmFsdHknLCBhdHRhY2tpbmdQbGF5ZXIpO1xuICAgICAgJChgIyR7YXR0YWNraW5nVGVhbS5wbGFjZX1FdmVudHNgKS5hcHBlbmQoYDxpIGNsYXNzPSdmYSBmYS1mdXRib2wtbycgc3R5bGU9J2NvbG9yOnJlZCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7YXR0YWNraW5nUGxheWVyLm5hbWV9IG1pc3NlZCBwZW5hbHR5PGJyLz5gKTtcbiAgICAgIGRlZmVuZGluZ1BsYXllci5kZWZlbmNlICs9IDEwO1xuICAgICAgYXR0YWNraW5nUGxheWVyLmF0dGFjayAtPSAxMDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdHJhaWdodFJlZChkZWZlbmRpbmdUZWFtKSB7XG4gICAgY29uc3QgZGVmZW5kaW5nUGxheWVyID0gZGVmZW5kaW5nVGVhbS5yYW5kb21QbGF5ZXIoKTtcbiAgICBpZiAoZ2VuUmFuZG9tVmFsdWUoZGVmZW5kaW5nUGxheWVyLmRpc2NpcGxpbmUpICsgKDEwMC1tYXRjaFRpbWUpIDwgMjUpIHtcbiAgICAgIGRlZmVuZGluZ1BsYXllci5wbGF5aW5nID0gZmFsc2U7XG4gICAgICBkZWZlbmRpbmdQbGF5ZXIuc3RhdHVzID0gJ2VqZWN0ZWQnO1xuXG4gICAgICAvLyAkY29tbWVudGFyeUJveC50ZXh0KCdUaGUgcmVmZXJlZSBnaXZlcyBoaW0gYSBzdHJhaWdodCByZWQhJyk7XG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ3N0cmFpZ2h0UmVkJywgZGVmZW5kaW5nUGxheWVyKTtcbiAgICAgICQoYCMke2RlZmVuZGluZ1RlYW0ucGxhY2V9RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtc3F1YXJlJyBzdHlsZT0nIGNvbG9yOiByZWQ7JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHtkZWZlbmRpbmdQbGF5ZXIubmFtZX0gc2VudCBvZmY8YnIvPmApO1xuICAgICAgLy8gaWYgKGRlZmVuZGluZ1RlYW0ucGxhY2UgPT09ICdob21lJykgcGF1c2VQbGF5KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29uZmlnVGVhbSh0ZWFtLCBzZWxlY3Rvcikge1xuICAgIC8vIFJlZmFjdG9yIGFsbCB0ZWFtcyBpbnRvIG9uZSBvYmplY3QsIHRoZW4gcGFzcyBpbiBvYmplY3Rbc2VsZWN0b3JdID0+IHNhdmUgYWJvdXQgMjAgbGluZXMgb2YgY29kZVxuICAgIGlmIChob21lVGVhbSA9PT0gbnVsbCkge1xuICAgICAgJCgnLmhvbWUtdGVhbSAgLnRlYW0tbmFtZScpLnRleHQoc2VsZWN0b3IpO1xuICAgICAgc3dpdGNoIChzZWxlY3Rvcikge1xuICAgICAgICBjYXNlICdUb3R0ZW5oYW0nOlxuICAgICAgICAgIGhvbWVUZWFtID0gc3B1cnM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ01hbiBVbml0ZWQnOlxuICAgICAgICAgIGhvbWVUZWFtID0gbWFuVW5pdGVkO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdMaXZlcnBvb2wnOlxuICAgICAgICAgIGhvbWVUZWFtID0gbGl2ZXJwb29sO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdNYW4gQ2l0eSc6XG4gICAgICAgICAgaG9tZVRlYW0gPSBtYW5DaXR5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFdmVydG9uJzpcbiAgICAgICAgICBob21lVGVhbSA9IGV2ZXJ0b247XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0NoZWxzZWEnOlxuICAgICAgICAgIGhvbWVUZWFtID0gY2hlbHNlYTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTGVpY2VzdGVyJzpcbiAgICAgICAgICBob21lVGVhbSA9IGxlaWNlc3RlcjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQXJzZW5hbCc6XG4gICAgICAgICAgaG9tZVRlYW0gPSBhcnNlbmFsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaG9tZVRlYW0ucGxhY2UgPSAnaG9tZSc7XG4gICAgICAkKCcuaG9tZS10ZWFtLCAjaG9tZUJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGhvbWVUZWFtLmNvbG9yc1swXSk7XG4gICAgICAkKCcuaG9tZS10ZWFtJykuY3NzKCdjb2xvcicsIGhvbWVUZWFtLmNvbG9yc1sxXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5hd2F5LXRlYW0gLnRlYW0tbmFtZScpLnRleHQoc2VsZWN0b3IpO1xuICAgICAgc3dpdGNoIChzZWxlY3Rvcikge1xuICAgICAgICBjYXNlICdUb3R0ZW5oYW0nOlxuICAgICAgICAgIGF3YXlUZWFtID0gc3B1cnM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ01hbiBVbml0ZWQnOlxuICAgICAgICAgIGF3YXlUZWFtID0gbWFuVW5pdGVkO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdMaXZlcnBvb2wnOlxuICAgICAgICAgIGF3YXlUZWFtID0gbGl2ZXJwb29sO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdNYW4gQ2l0eSc6XG4gICAgICAgICAgYXdheVRlYW0gPSBtYW5DaXR5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFdmVydG9uJzpcbiAgICAgICAgICBhd2F5VGVhbSA9IGV2ZXJ0b247XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0NoZWxzZWEnOlxuICAgICAgICAgIGF3YXlUZWFtID0gY2hlbHNlYTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTGVpY2VzdGVyJzpcbiAgICAgICAgICBhd2F5VGVhbSA9IGxlaWNlc3RlcjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQXJzZW5hbCc6XG4gICAgICAgICAgYXdheVRlYW0gPSBhcnNlbmFsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgYXdheVRlYW0ucGxhY2UgPSAnYXdheSc7XG4gICAgICAkKCcuYXdheS10ZWFtLCAucG9zc2Vzc2lvbi1iYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMF0pO1xuICAgICAgJCgnLmF3YXktdGVhbScpLmNzcygnY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMV0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlQ29tbWVudGFyeShzY2VuYXJpbywgcGxheWVyKSB7XG4gICAgY29uc3QgY29tbWVudGFyeSA9IHtcbiAgICAgIGdvYWw6IFsnR29hbCEnLCAnSGVcXCdzIHNjb3JlZCEnLCBgVGhhdCdzIGEgZ3JlYXQgZmluaXNoIWAsIGBXaGF0IGEgZ29hbCBieSAke3BsYXllci5uYW1lfWAsIGAke3BsYXllci5uYW1lfSBmaW5pc2hlcyBvZmYgdGhlIG1vdmUhYF0sXG4gICAgICBmcmVla2ljazogW2BJdCdzIGEgZnJlZWtpY2tgLCBgJHtwbGF5ZXIubmFtZX0gdG8gdGFrZSB0aGUgZnJlZWtpY2tgLCBgSGUgbGluZXMgdXAgdGhlIGZyZWVraWNrYCwgYFRoaXMgaXMgYSBjaGFuY2UgdG8gZ2V0IGEgY3Jvc3MgaW5gXSxcbiAgICAgIHdhc3RlZEZyZWVraWNrOiBbYCR7cGxheWVyLm5hbWV9IGxvc2VzIHBvc3Nlc3Npb25gLCBgVGhhdCdzIGVuZGVkIHVwIGluIHJvdyBaYCwgYFRoZSBhdHRhY2sgYW1vdW50cyB0byBub3RoaW5nYCwgYCR7cGxheWVyLm5hbWV9IGhhcyB3YXN0ZWQgdGhhdCBvcHBvcnR1bml0eWAsIGAke3BsYXllci5uYW1lfSdzIGVmZm9ydCBnb2VzIG92ZXIgdGhlIGJhcmAsIGBIZSBoYW5kcyBiYWNrIHBvc3Nlc3Npb24gdG8gdGhlIG90aGVyIHRlYW1gXSxcbiAgICAgIHllbGxvdzogW2BIZSdzIGdvaW5nIGluIHRoZSBib29rYCwgYE91Y2ghICR7cGxheWVyLm5hbWV9IHdpbGwgZ2V0IGEgeWVsbG93IGZvciB0aGF0YCwgYFRoYXQncyBhIGJvb2tpbmdgLCBgSXQncyBhIHllbGxvdyFgLCBgVGhlIHJlZiBpcyB0YWtpbmcgaGlzIG5hbWVgXSxcbiAgICAgIHNlY29uZFllbGxvdzogW2BIZSdzIGFscmVhZHkgYmVlbiBib29rZWQuLi5gLCBgVGhhdCdzIGEgc2Vjb25kIHllbGxvd2AsIGAke3BsYXllci5uYW1lfSBpcyBzaG93biBhIHJlZCFgLCBgJHtwbGF5ZXIubmFtZX0gaXMgb2ZmYF0sXG4gICAgICBzdHJhaWdodFJlZDogW2Ake3BsYXllci5uYW1lfSBpcyBzaG93biBhIHN0cmFpZ2h0IHJlZCFgLCBgJHtwbGF5ZXIubmFtZX0gaXMgb2ZmYCwgYFRoZSByZWYgaGFzIGdpdmVuIGhpbSBzdHJhaWdodCByZWQhYF0sXG4gICAgICBwZW5hbHR5OiBbYFRoZSByZWZlcmVlIHBvaW50cyB0byB0aGUgc3BvdGAsIGBUaGF0J3MgYSBwZW5hbHR5YCwgYCR7cGxheWVyLm5hbWV9IGlzIGZvdWxlZCBpbiB0aGUgYXJlYWAsIGBUaGUgcmVmIGJsb3dzIGhpcyB3aGlzdGxlLiBQZW5hbHR5LmBdLFxuICAgICAgbWlzc2VkUGVuYWx0eTogW2BTYXZlZCFgLCBgSXQncyBvdmVyIHRoZSBiYXJgLCBgJHtwbGF5ZXIubmFtZX0gaGFzIG1pc3NlZCBpdCFgLCBgT2ggZGVhciEgJHtwbGF5ZXIubmFtZX0ncyBwdXQgaXQgd2lkZSdgXSxcbiAgICAgIGluanVyeTogW2Ake3BsYXllci5uYW1lfSdzIGlzIGdvaW5nIG9mZmAsYCR7cGxheWVyLm5hbWV9IGlzIGluanVyZWRgLGAke3BsYXllci5uYW1lfSBjYW4ndCBjb250aW51ZWBdLFxuICAgICAgY2hhbmNlOiBbYFRoZSBiYWxsIGlzIHdhc3RlZGAsIGBQb3NzZXNzaW9uIGlzIHNsb3BwaWx5IGdpdmVuIGF3YXlgLCBgVGhhdCBpcyB3YXN0ZWRgLCBgVGhlIHJlZmVyZWUgcHVsbHMgYmFjayBwbGF5YCwgYFRoZSBiYWxsIGdvZXMgb3V0IGZvciBhIHRocm93YCwgYEdvb2QgaW50ZXJjZXB0aW9uIWAsIGBIZSdzIHJvYmJlZCBoaW0gb2YgcG9zc2VzaW9uYCwgYFRoYXQgd2FzIGEgd2F5d2FyZCBiYWxsYCwgYEhlIGNhbid0IHF1aXRlIGdldCBvbiB0aGUgZW5kIG9mIHRoYXQgb25lYF0sXG4gICAgICBuZWFyTWlzczogW2Ake3BsYXllci5uYW1lfSBpcyBsaW1waW5nLCBidXQgaGUnbGwgYmUgb2theWAsIGBUaGF0J3MgYSBzb3JlIG9uZS5gLCBgJHtwbGF5ZXIubmFtZX0gbG9va3MgdG8gYmUgc3RydWdnbGluZ2AsIGBUaGVyZSdzIGEgbmFzdHkgY29taW5nIHRvZ2V0aGVyYCwgYFRoZSByZWZlcmVlIHdhdmVzIHBsYXkgb25gXVxuICAgIH07XG4gICAgY29uc3QgcmFuZG9tSW5kZXggPSBnZW5SYW5kb21WYWx1ZShjb21tZW50YXJ5W3NjZW5hcmlvXS5sZW5ndGgpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjb21tZW50YXJ5W3NjZW5hcmlvXVtyYW5kb21JbmRleF07XG4gICAgJGNvbW1lbnRhcnlCb3gudGV4dChgJHttZXNzYWdlfWApO1xuXG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVTY29yZSh0ZWFtT2JqZWN0KSB7XG4gICAgbGV0IHNjb3JlID0gbnVsbDtcbiAgICBsZXQgZ2V0U2NvcmUgPSBudWxsO1xuICAgIGlmICh0ZWFtT2JqZWN0LnBsYWNlID09PSAnaG9tZScpIHtcbiAgICAgIGdldFNjb3JlID0gJGhvbWVTY29yZS50ZXh0KCk7XG4gICAgICBzY29yZSA9IHBhcnNlRmxvYXQoZ2V0U2NvcmUpICsgMTtcbiAgICAgICRob21lU2NvcmUudGV4dChzY29yZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdldFNjb3JlID0gJGF3YXlTY29yZS50ZXh0KCk7XG4gICAgICBzY29yZSA9IHBhcnNlRmxvYXQoZ2V0U2NvcmUpICsgMTtcbiAgICAgICRhd2F5U2NvcmUudGV4dChzY29yZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmFuZG9tUG9zaXRpb24oKSB7XG4gICAgY29uc3QgcmFuZG9tSW5kZXggPSBnZW5SYW5kb21WYWx1ZShwb3NpdGlvbnMubGVuZ3RoKSArIDE7XG4gICAgY29uc3QgY2hvc2VuUG9zaXRpb24gPSBwb3NpdGlvbnNbcmFuZG9tSW5kZXhdO1xuICAgIHJldHVybiBbY2hvc2VuUG9zaXRpb25dO1xuICB9XG59KTtcbiJdfQ==
