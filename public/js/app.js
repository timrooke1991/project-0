"use strict";var _slicedToArray=function(){function e(e,a){var s=[],o=!0,t=!1,r=void 0;try{for(var n,i=e[Symbol.iterator]();!(o=(n=i.next()).done)&&(s.push(n.value),!a||s.length!==a);o=!0);}catch(e){t=!0,r=e}finally{try{!o&&i.return&&i.return()}finally{if(t)throw r}}return s}return function(a,s){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return e(a,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();$(function(){function e(e){$(".team-panel").html(""),$(".formation").val(e.formation),e.players.sort(function(e,a){return E.indexOf(e.position)<E.indexOf(a.position)?-1:1});for(var a=0;a<e.players.length;a++){var s=e.players[a],o=s.playing?"&#10004;":"&#10007;";$(".team-panel").append('<p class="player-line '+s.position+" "+s.status+"\" id='"+s.name+"'>\n          <span class=\"starting "+s.status+'" id="'+a+'">'+o+'</span>\n          <span class="player-position ">'+s.position+'</span>\n          <span class="player-name">'+s.name+'</span>\n          <span class="player-stat">'+s.attack+'</span>\n          <span class="player-stat">'+s.defence+'</span>\n          <span class="player-stat">'+s.creativity+'</span>\n          <span class="player-stat">'+s.defence+'</span>\n          <span class="player-stat">'+s.fitness+"</span>\n        </p>")}}function a(e){$(".team-display").html("");var a=["1"].concat(e.formation.split("-")),s=0,o=0;try{a.map(function(a){for(var t=parseFloat(a),r=0;r<t;){if(e.players[s].playing||"ejected"===e.players[s].status){var n=E[o]!==e.players[s].position?"warning":"";$(".team-display").append("<span class='player-block "+n+" "+e.players[s].status+"'>"+e.players[s].name+"</span>"),e.players[s].chosenPosition=E[o],r++}console.log(s),s++}$(".team-display").append('<div class="seperate-players">'),o++})}catch(e){$(".team-display").append("<p class='team-selection-warning seperate-players'>Less than 11 players selected!</p>")}}function s(e,s){if(e.players[s].playing=!e.players[s].playing,a(w),e.players[s].playing){if($("#"+s).html("&#10004;"),F){console.log("clicked"),$("#"+s).parent().css({background:"green"});var t=e.players[s];o(e,t)}}else if($("#"+s).html("&#10007;"),F){$("#"+s).parent().css({"pointer-events":"none",background:"red"});var r=e.players[s];o(e,r)}}function o(e,a){e.subs<7?a.playing?($("#"+e.place+"Events").append("<i class='fa fa-arrow-right' style='font-size: 22px; color:green; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+a.name+" substituted<br/>"),e.subs+=1,a.playing=!0,a.status="subbed-on"):($("#"+e.place+"Events").append("<i class='fa fa-arrow-right' style='font-size: 22px; color:red; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+a.name+" substituted<br/>"),e.subs+=1,a.playing=!1,a.status="subbed-off"):console.log("You have had 3 subs!")}function t(){44===x&&(g.text("That's half-time!"),P=!P,k.text("Play")),90===x?(g.text("That's full-time!"),clearInterval(z),k.text("Finish")):(x++,h.text(x))}function r(e){return Math.floor(Math.random()*e)}function n(){var e=document.getElementById("homeBar");T=V.averagePlayerValues("creativity")/(V.averagePlayerValues("creativity")+B.averagePlayerValues("creativity"))*100+(Math.random()<.5?-r(6):r(6)),console.log(V.averagePlayerValues("creativity")),console.log(B.averagePlayerValues("creativity")),e.style.width=T+"%"}function i(){return r(V.averagePlayerValues("creativity")+V.averagePlayerValues("fitness"))>=r(B.averagePlayerValues("creativity")+B.averagePlayerValues("fitness"))?(g.css("background-color",V.colors[0]),g.css("color",V.colors[1]),r(20)%4==0&&(g.text(f("chance","")),V.increaseValues(3,"attack",["midfielder","striker"]),V.increaseValues(3,"creativity",["midfielder","striker"])),[V,"home",B]):(g.css("background-color",B.colors[0]),g.css("color",B.colors[1]),r(20)%4==0&&(B.increaseValues(3,"attack",["midfielder","striker"]),B.increaseValues(3,"creativity",["midfielder","striker"]),g.text(f("chance",""))),[B,"away",V])}function l(e,a,s){var o=null,t=null,n=e.randomPlayer(),i=s.randomPlayerByPosition("defender");r(n.attack)>r(i.defence)&&("home"===a?(t=b.text(),o=parseFloat(t)+1,b.text(o)):(t=v.text(),o=parseFloat(t)+1,v.text(o)),f("goal",n),$("#"+a+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:white; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+n.name+" scored<br/>"))}function c(e,a,s){console.log("YELLOW");var o=s.randomPlayer(),t="home"===a?"away":"home";r(o.discipline)+(100-x)<90&&"ejected"!==o.status&&("yellow"===o.status?(g.css("background-color","#FF0000"),g.css("color","#FFFFFF"),f("secondYellow",o),$("#"+t+"Events").append("<i class='fa fa-square event-item' style='font-size: 24px; color: red; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+o.name+" sent off<br/>"),o.status="ejected"):(g.css("background-color","yellow"),g.css("color","#000000"),f("yellow",o),o.defence-=8,$("#"+t+"Events").append("\n          <i class='fa fa-square event-item' style='font-size: 24px; color: yellow; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+o.name+" booked<br/>"),o.status="yellow",o.fitness-=r(5)))}function d(e,a){var s=e.randomPlayer();if(r(101)%40==0)if(f("injury",s),$("#"+a+"Events").append("<i class='fa fa-plus' style='font-size: 26px; color: green; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+s.name+" injured<br/>"),"away"===e.place){s.playing=!s.playing,o(B,s);var t=B.randomSubstitute(s.position);t.playing=!t.playing,o(B,t)}else"home"===e.place&&(s.fitness=0+r(30),s.status="injured",s.playing=!1);else s.fitness-=r(15),s.defence-=r(10),s.attack-=r(150),g.text(s.name+"'s limping, but he'll be okay")}function p(e,a,s){var o=e.randomPlayerByPosition("midfielder"),t=s.randomPlayerByPosition("goalkeeper").defence+s.averagePlayerValues("defender");if(o.attack>t){var r=null,n=null;"home"===a?(n=b.text(),r=parseFloat(n)+1,b.text(r)):(n=v.text(),r=parseFloat(n)+1,v.text(r)),f("freekick",o),$("#"+a+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:white; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+o.name+" scored<br/>"),o.attack+=5}else f("wastedFreekick",o),o.creativity-=2,e.reduceValues(10,"attack",["striker","midfielder","defender"])}function m(e,a,s){var o=e.randomPlayerByPosition("striker"),t=s.randomPlayerByPosition("goalkeeper"),n=s.randomPlayerByPosition("defender"),i="home"===a?"away":"home";if(r(100)>25&&(n.status="yellow",$("#"+i+"Events").append("<i class='fa fa-square event-item' style='font-size: 24px; color: yellow; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+n.name+" booked<br/>")),2*r(o.attack)>r(t.defence)){var l=null,c=null;"home"===a?(c=b.text(),l=parseFloat(c)+1,b.text(l)):(c=v.text(),l=parseFloat(c)+1,v.text(l)),f("penalty",o),$("#"+a+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:white; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+o.name+" scores penalty<br/>"),o.attack+=5}else f("missedPenalty",o),$("#"+a+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:red; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+o.name+" missed penalty<br/>"),t.defence+=10,o.attack-=10}function u(e,a){var s=e.randomPlayer();if(r(s.discipline)+(100-x)<25){s.playing=!1,s.status="ejected";var o="home"===a?"away":"home";f("straightRed",s),$("#"+o+"Events").append("<i class='fa fa-square' style='font-size: 24px; color: red; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+s.name+" sent off<br/>")}}function y(e,a){if(null===V){switch($(".home-team  .team-name").text(a),a){case"Tottenham":V=spurs,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Man United":V=manUnited,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Liverpool":V=liverpool,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Man City":V=manCity,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Everton":V=everton,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Chelsea":V=chelsea,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Leicester":V=leicester,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Arsenal":V=arsenal,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1])}V.place="home",console.log(V)}else{switch($(".away-team .team-name").text(a),a){case"Tottenham":B=spurs,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Man United":B=manUnited,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Liverpool":B=liverpool,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Man City":B=manCity,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Everton":B=everton,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Chelsea":B=chelsea,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Leicester":B=leicester,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Arsenal":B=arsenal,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1])}B.place="away",console.log(B)}console.log(a)}function f(e,a){var s={goal:["Goal!","He's scored!","That's a great finish!","What a goal by "+a.name,a.name+" finishes off the move!"],freekick:["It's a freekick",a.name+" to take the freekick","He lines up the freekick","This is a chance to get a cross in"],wastedFreekick:[a.name+" loses possession","That's ended up in row Z","The attack amounts to nothing",a.name+" has wasted that opportunity",a.name+"'s effort goes over the bar","He hands back possession to the other team"],yellow:["He's going in the book","Ouch! "+a.name+" will get a yellow for that","That's a booking","It's a yellow!","The ref is taking his name"],secondYellow:["He's already been booked...","That's a second yellow",a.name+" is shown a red!",a.name+" is off"],straightRed:[a.name+" is shown a straight red!",a.name+" is off","The ref has given him straight red!"],penalty:["The referee points to the spot","That's a penalty",a.name+" is fouled in the area","The ref blows his whistle. Penalty."],missedPenalty:["Saved!","It's over the bar",a.name+" has missed it!","Oh dear! "+a.name+"'s put it wide'"],injury:[a.name+"'s is going off",a.name+" is injured",a.name+" can't continue"],chance:["The ball is wasted","Possession is sloppily given away","That is wasted","The referee pulls back play","The ball goes out for a throw","Good interception!","He's robbed him of possesion"]},o=r(s[e].length),t=s[e][o];g.text(""+t)}var h=$(".changing-minutes"),g=$("#commentaryBox"),k=$(".primary-button"),b=$(".home-team .score"),v=$(".away-team .score"),w=null,x=0,P=!1,T=50,V=null,B=null,F=!1,E=["goalkeeper","defender","midfielder","striker"],z=setInterval(function(){if(P){var e=r(100)+1;console.log(x+": "+e);var a=i(),s=_slicedToArray(a,3),y=s[0],f=s[1],h=s[2];if(e%18==0&&(l(y,f,h),y.increaseValues(5,"attack",["midfielder","striker"]),y.increaseValues(5,"creativity",["midfielder","striker"]),h.reduceValues(5,"defence",["midfielder","defender","goalkeeper"])),e%(r(30)+90)==0&&(m(y,f,h),h.reduceValues(3,"defence",["midfielder","defender","goalkeeper"])),e%90==0&&(u(h,f),h.reduceValues(10,"defence",["striker","midfielder","defender","goalkeeper"]),h.reduceValues(10,"attack",["striker","midfielder","defender","goalkeeper"]),h.reduceValues(10,"creativity",["striker","midfielder","defender","goalkeeper"])),e%22==0&&(p(y,f,h),y.increaseValues(5,"attack",["midfielder","striker"]),y.increaseValues(5,"creativity",["midfielder","striker"])),e%18==0&&c(y,f,h),e%25==0&&(d(y,f),h.reduceValues(3,"creativity",["striker","midfielder","defender","goalkeeper"])),e%10==0&&B.subs<6&&x>50){var g=r(E.length)+1,k=E[g];if(E[g]){var b=B.randomPlayerByPosition(k,"subbed-on");b.playing=!b.playing,o(B,b);var v=B.randomSubstitute(k);v.playing=!v.playing,o(B,v)}}var $=r(E.length)+1,w=E[$];h.reduceValues(r(10),"fitness",[w]),n(),t()}},10);$(".team-input").on("click",function(e){var a=e.target.innerHTML;null===V?(y(V,a),console.log("homeTeam now selected!"),$(".title-message").text("Home team chosen. Now chose your opponent.")):(y(B,a),console.log("awayTeam now selected!"),$(".title-message").text("Opponent selected. Now edit tactics or proceed to match."))}),$("#revealTeam").on("click",function(){a(w)}),$(".team-panel").on("click",function(e){var a=e.target.id;s(w,a)}),k.on("click",function(){P=!P,$("#match-setup, .info-message, .team-setup").hide(),$("#match-engine, .away-team, .home-team, .timer").show(),P?(k.text("Pause"),F=!0):k.text("Play")}),$("#homeTeam").on("click",function(){P&&(P=!P),k.text("Play"),$(".match-setup, .match-engine").hide(),$(".team-setup").show(),e(V),w=V,a(w)}),$("#awayTeam").on("click",function(){P&&(P=!P),k.text("Play"),$(".match-setup, .match-engine").hide(),$(".team-setup").show(),e(B),w=B,a(w)}),$(".go-back").on("click",function(){$(".team-setup").hide(),$(".match-setup").show()}),$(".formation").on("change",function(e){var s=e.target.value;w.formation=s,a(w)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwic2V0dXBUYWN0aWNzIiwidGVhbU9iamVjdCIsImh0bWwiLCJ2YWwiLCJmb3JtYXRpb24iLCJ0ZWFtVGFjdGljcyIsIm5ld0Zvcm1hdGlvbiIsInJldmVhbFRlYW0iLCJhIiwicG9zaXRpb24iLCJwb3NpdGlvbnMiLCJpbmRleE9mIiwiYiIsInBsYXllcnMiLCJsZW5ndGgiLCJpIiwicGxheWVyIiwic3RhcnRpbmdFbGV2ZW4iLCJzdGF0dXMiLCJuYW1lIiwicGxheWluZyIsImF0dGFjayIsImRlZmVuY2UiLCJjcmVhdGl2aXR5IiwiZml0bmVzcyIsInBsYXllck51bWJlciIsInBvc2l0aW9uTnVtYmVyIiwiY29uY2F0Iiwic3BsaXQiLCJwYXJzZUZsb2F0IiwibWFwIiwiYXJyYXlJdGVtIiwid2FybmluZ01lc3NhZ2UiLCJpdGVyYXRpb25zIiwiYXBwZW5kIiwiY29uc29sZSIsImNob3NlblBvc2l0aW9uIiwibG9nIiwiZ2FtZVN0YXJ0ZWQiLCJzZWxlY3RlZFBsYXllciIsInN1YnN0aXR1dGUiLCJwbGF5ZXJPbiIsInBhcmVudCIsImNzcyIsImJhY2tncm91bmQiLCJwbGF5ZXJPZmYiLCJwb2ludGVyLWV2ZW50cyIsInN1YnMiLCJwbGFjZSIsIm1hdGNoVGltZSIsIiRjb21tZW50YXJ5Qm94IiwidGV4dCIsIiRwcmltYXJ5QnV0dG9uIiwiJG1hdGNoVGltZSIsImdlblJhbmRvbVZhbHVlIiwiY2xlYXJJbnRlcnZhbCIsImZsb29yIiwiYXZlcmFnZVBsYXllclZhbHVlcyIsImF3YXlUZWFtIiwibW92ZSIsImF3YXlSYW5kb20iLCJ3aWR0aCIsImhvbWVSYW5kb20iLCJob21lVGVhbSIsIk1hdGgiLCJyYW5kb20iLCJjb2xvcnMiLCJlbGVtIiwic3R5bGUiLCJpbmNyZWFzZVZhbHVlcyIsImdlbmVyYXRlQ29tbWVudGFyeSIsInNlbGVjdFBsYXllciIsInRlYW0iLCJnZW5SYW5kb21JbmRleCIsInNjb3JlIiwidGVhbVN0cmluZyIsImRlZmVuZGluZ1RlYW0iLCJnZXRTY29yZSIsIiRhd2F5U2NvcmUiLCJyYW5kb21QbGF5ZXIiLCJyYW5kb21QbGF5ZXJCeVBvc2l0aW9uIiwiYXR0YWNraW5nUGxheWVyIiwiZGVmZW5kaW5nUGxheWVyIiwiJGhvbWVTY29yZSIsImhhbmRsZURpc2NpcGxpbmUiLCJhdHRhY2tpbmdUZWFtIiwiZGlzY2lwbGluZSIsImFkZFBsYXllciIsImhhbmRsZUZyZWVraWNrIiwiZGVmZW5kaW5nVmFsdWUiLCJyZWR1Y2VWYWx1ZXMiLCJoYW5kbGVQZW5hbHR5IiwiYm9va2VkUGxheWVyIiwic2VsZWN0b3IiLCJzcHVycyIsImNvbmZpZ1RlYW0iLCJsaXZlcnBvb2wiLCJtYW5Vbml0ZWQiLCJtYW5DaXR5IiwiZXZlcnRvbiIsImNoZWxzZWEiLCJsZWljZXN0ZXIiLCJhcnNlbmFsIiwiY29tbWVudGFyeSIsImdvYWwiLCJmcmVla2ljayIsInNlY29uZFllbGxvdyIsInN0cmFpZ2h0UmVkIiwiaW5qdXJ5IiwibWVzc2FnZSIsInNjZW5hcmlvIiwicmFuZG9tSW5kZXgiLCJ3YXN0ZWRGcmVla2ljayIsInllbGxvdyIsInBlbmFsdHkiLCJtaXNzZWRQZW5hbHR5IiwiY2hhbmNlIiwicnVuIiwiZXZlbnRWYWx1ZSIsInRpbWVySUQiLCJzZXRJbnRlcnZhbCIsInNlbGVjdFRlYW0iLCJnb2FsQ2hhbmNlIiwicmFuZG9tUG9zaXRpb24iLCJoYW5kbGVJbmp1cnkiLCJyZW1vdmVQbGF5ZXIiLCJyYW5kb21TdWJzdGl0dXRlIiwidGltZUNvbnRyb2wiLCJ1c2VyVGVhbSIsIm9uIiwiZSIsInRhcmdldCIsImlkIiwiY2hvb3NlUGxheWVycyIsImhpZGUiLCJzaG93IiwidmFsdWUiXSwibWFwcGluZ3MiOiJtY0FBQUEsR0FBRSxXQXVLQyxRQUhEQyxHQUFBQyxHQVlFRixFQUFFLGVBQWVHLEtBQUssSUFQdEJILEVBQUEsY0FBRkksSUFBbUJGLEVBQVVHLFdBRTNCQyxFQUFBQSxRQUFZRCxLQUFZRSxTQUFBQSxF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RCxFQUFGRixLQUlFK0MsRUFBQUEsYUFBQUEsR0FBZUQsUUFBSyxXQUNsQmtFLElBQ0FBLEdBQUFBLEdBRUZoSCxFQUFjMEQsS0FBQUEsUUFDZHhELEVBQUFBLCtCQUFBK0gsT0FURnZJLEVBQUEsZUFBQXdJLE9Bb0JFdkksRUFBYTBELEdBUGJyRCxFQUFhNEgsRUFDYjFILEVBQVNGLEtBR1QrQyxFQUFBQSxZQUFBQSxHQUFlRCxRQUFLLFdBQ3BCcEQsRUFBRSxlQUFBdUksT0FDRnZJLEVBQUUsZ0JBQWV3SSxTQUdqQmhJLEVBQUFBLGNBQVdGLEdBQUFBLFNBQVgsU0FBQTZILEdBVEYsR0FBQTVILEdBQUE0SCxFQUFBQyxPQUFBSyxLQW1CRW5JLEdBQVlELFVBQVlFLEVBUHhCQyxFQUFGRiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKCgpID0+IHtcbiAgY29uc3QgJG1hdGNoVGltZSA9ICQoJy5jaGFuZ2luZy1taW51dGVzJyk7XG4gIGNvbnN0ICRjb21tZW50YXJ5Qm94ID0gJCgnI2NvbW1lbnRhcnlCb3gnKTtcbiAgY29uc3QgJHByaW1hcnlCdXR0b24gPSAkKCcucHJpbWFyeS1idXR0b24nKTtcbiAgY29uc3QgJGhvbWVTY29yZSA9ICQoJy5ob21lLXRlYW0gLnNjb3JlJyk7XG4gIGNvbnN0ICRhd2F5U2NvcmUgPSAkKCcuYXdheS10ZWFtIC5zY29yZScpO1xuICAvLyBjb25zdCAkaG9tZVRlYW0gPSAkKCcuaG9tZS10ZWFtJyk7XG4gIC8vIGNvbnN0ICRhd2F5VGVhbSA9ICQoJy5hd2F5LXRlYW0nKTtcbiAgbGV0IHRlYW1UYWN0aWNzID0gbnVsbDtcblxuICBsZXQgbWF0Y2hUaW1lID0gMDtcbiAgbGV0IHJ1biA9IGZhbHNlO1xuICBsZXQgd2lkdGggPSA1MDtcbiAgbGV0IGhvbWVUZWFtID0gbnVsbDtcbiAgbGV0IGF3YXlUZWFtID0gbnVsbDtcbiAgbGV0IGdhbWVTdGFydGVkID0gZmFsc2U7XG4gIGNvbnN0IHBvc2l0aW9ucyA9IFsnZ29hbGtlZXBlcicsICdkZWZlbmRlcicsICdtaWRmaWVsZGVyJywgJ3N0cmlrZXInXTtcblxuICAvLyBNQVRDSCBMT0dJQ1xuICBjb25zdCB0aW1lcklEID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgaWYgKHJ1biApIHtcblxuICAgICAgY29uc3QgZXZlbnRWYWx1ZSA9IGdlblJhbmRvbVZhbHVlKDEwMCkgKyAxO1xuICAgICAgY29uc29sZS5sb2coYCR7bWF0Y2hUaW1lfTogJHtldmVudFZhbHVlfWApO1xuXG4gICAgICAvLyBDcmVhdGl2aXR5IFN1bUNyZWF0aXZpdHkgdnMuIFN1bUNyZWF0aXZpdHlcbiAgICAgIGNvbnN0IFthdHRhY2tpbmdUZWFtLCB0ZWFtU3RyaW5nLCBkZWZlbmRpbmdUZWFtXSA9IHNlbGVjdFRlYW0oKTtcblxuICAgICAgLy8gY29uc3QgY2hvc2VuUGxheWVyID0gc2VsZWN0UGxheWVyKHRlYW1PYmplY3QpO1xuICAgICAgLy8gY29uc29sZS5sb2coY2hvc2VuUGxheWVyKTtcbiAgICAgIC8vIFdobyBoYXMgdGhlIGV2ZW50P1xuICAgICAgaWYgKGV2ZW50VmFsdWUgJSAxOCA9PT0gMCkge1xuICAgICAgICAvLyBSYW5kb20gKFN0cmlrZXIsIE1pZGZpZWxkZXIpIHZzLiBHb2Fsa2VlcGVyID4gUmFuZFRoZWlyQXR0YWNrIHZzLiBSYW5kR29hbGtlZXBlclxuICAgICAgICBnb2FsQ2hhbmNlKGF0dGFja2luZ1RlYW0sIHRlYW1TdHJpbmcsIGRlZmVuZGluZ1RlYW0pO1xuICAgICAgICBhdHRhY2tpbmdUZWFtLmluY3JlYXNlVmFsdWVzKDUsJ2F0dGFjaycsWydtaWRmaWVsZGVyJywgJ3N0cmlrZXInXSk7XG4gICAgICAgIGF0dGFja2luZ1RlYW0uaW5jcmVhc2VWYWx1ZXMoNSwnY3JlYXRpdml0eScsWydtaWRmaWVsZGVyJywgJ3N0cmlrZXInXSk7XG4gICAgICAgIGRlZmVuZGluZ1RlYW0ucmVkdWNlVmFsdWVzKDUsJ2RlZmVuY2UnLFsnbWlkZmllbGRlcicsICdkZWZlbmRlcicsICdnb2Fsa2VlcGVyJ10pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnRWYWx1ZSAlIChnZW5SYW5kb21WYWx1ZSgzMCkgKyA5MCkgPT09IDApIHtcbiAgICAgICAgLy8gU3RyaWtlciB2cy4gR29hbGtlZXBlciA+IFJhbmRUaGVpckF0dGFjayB2cy4gUmFuZEdvYWxrZWVwZXJQZW5hbHR5XG4gICAgICAgIGhhbmRsZVBlbmFsdHkoYXR0YWNraW5nVGVhbSwgdGVhbVN0cmluZywgZGVmZW5kaW5nVGVhbSk7XG4gICAgICAgIGRlZmVuZGluZ1RlYW0ucmVkdWNlVmFsdWVzKDMsJ2RlZmVuY2UnLFsnbWlkZmllbGRlcicsICdkZWZlbmRlcicsICdnb2Fsa2VlcGVyJ10pO1xuICAgICAgfVxuICAgICAgLy9cbiAgICAgIGlmIChldmVudFZhbHVlICUgOTAgPT09IDApIHtcbiAgICAgICAgLy8gUmFuZG9tIFBsYXllciA9PiBEaXNjaXBsaW5lID4gcmFuZG9tXG4gICAgICAgIHN0cmFpZ2h0UmVkKGRlZmVuZGluZ1RlYW0sIHRlYW1TdHJpbmcpO1xuICAgICAgICBkZWZlbmRpbmdUZWFtLnJlZHVjZVZhbHVlcygxMCwnZGVmZW5jZScsWydzdHJpa2VyJywnbWlkZmllbGRlcicsICdkZWZlbmRlcicsICdnb2Fsa2VlcGVyJ10pO1xuICAgICAgICBkZWZlbmRpbmdUZWFtLnJlZHVjZVZhbHVlcygxMCwnYXR0YWNrJyxbJ3N0cmlrZXInLCdtaWRmaWVsZGVyJywgJ2RlZmVuZGVyJywgJ2dvYWxrZWVwZXInXSk7XG4gICAgICAgIGRlZmVuZGluZ1RlYW0ucmVkdWNlVmFsdWVzKDEwLCdjcmVhdGl2aXR5JyxbJ3N0cmlrZXInLCdtaWRmaWVsZGVyJywgJ2RlZmVuZGVyJywgJ2dvYWxrZWVwZXInXSk7XG4gICAgICB9XG4gICAgICAvL1xuICAgICAgaWYgKGV2ZW50VmFsdWUgJSAyMiA9PT0gMCkge1xuICAgICAgICAvLyBTdHJpa2VyIHZzLiBHb2Fsa2VlcGVyID4gUmFuZFRoZWlyRnJlZWtpY2sgdnMuIFJhbmRHb2Fsa2VlcGVyUGVuYWx0eVxuICAgICAgICBoYW5kbGVGcmVla2ljayhhdHRhY2tpbmdUZWFtLCB0ZWFtU3RyaW5nLCBkZWZlbmRpbmdUZWFtKTtcbiAgICAgICAgYXR0YWNraW5nVGVhbS5pbmNyZWFzZVZhbHVlcyg1LCdhdHRhY2snLFsnbWlkZmllbGRlcicsICdzdHJpa2VyJ10pO1xuICAgICAgICBhdHRhY2tpbmdUZWFtLmluY3JlYXNlVmFsdWVzKDUsJ2NyZWF0aXZpdHknLFsnbWlkZmllbGRlcicsICdzdHJpa2VyJ10pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnRWYWx1ZSAlIDE4ID09PSAwKSB7XG4gICAgICAgIC8vIFJhbmRvbVBsYXllciA9PiBkaXNjaXBsaW5lICsgbWF0Y2h0aW1lIHJhbmQgdnMuIHJhbmRvbVxuICAgICAgICBoYW5kbGVEaXNjaXBsaW5lKGF0dGFja2luZ1RlYW0sIHRlYW1TdHJpbmcsIGRlZmVuZGluZ1RlYW0pO1xuXG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudFZhbHVlICUgMjUgPT09IDApIHtcbiAgICAgICAgaGFuZGxlSW5qdXJ5KGF0dGFja2luZ1RlYW0sIHRlYW1TdHJpbmcpO1xuICAgICAgICBkZWZlbmRpbmdUZWFtLnJlZHVjZVZhbHVlcygzLCdjcmVhdGl2aXR5JyxbJ3N0cmlrZXInLCdtaWRmaWVsZGVyJywgJ2RlZmVuZGVyJywgJ2dvYWxrZWVwZXInXSk7XG4gICAgICB9XG5cbiAgICAgIGlmKHRydWUpIHtcbiAgICAgICAgaWYgKGV2ZW50VmFsdWUgJSAxMCA9PT0gMCAmJiBhd2F5VGVhbS5zdWJzIDwgNiAmJiBtYXRjaFRpbWUgPiA1MCkge1xuICAgICAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gZ2VuUmFuZG9tVmFsdWUocG9zaXRpb25zLmxlbmd0aCkgKyAxO1xuICAgICAgICAgIGNvbnN0IHJhbmRvbVBvc2l0aW9uID0gcG9zaXRpb25zW3JhbmRvbUluZGV4XTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyYW5kb21JbmRleCk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cocmFuZG9tUG9zaXRpb24pO1xuICAgICAgICAgIGlmIChwb3NpdGlvbnNbcmFuZG9tSW5kZXhdKSB7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVQbGF5ZXIgPSBhd2F5VGVhbS5yYW5kb21QbGF5ZXJCeVBvc2l0aW9uKHJhbmRvbVBvc2l0aW9uLCAnc3ViYmVkLW9uJyk7XG4gICAgICAgICAgICByZW1vdmVQbGF5ZXIucGxheWluZyA9ICFyZW1vdmVQbGF5ZXIucGxheWluZztcbiAgICAgICAgICAgIHN1YnN0aXR1dGUoYXdheVRlYW0sIHJlbW92ZVBsYXllcik7XG4gICAgICAgICAgICBjb25zdCBhZGRQbGF5ZXIgPSBhd2F5VGVhbS5yYW5kb21TdWJzdGl0dXRlKHJhbmRvbVBvc2l0aW9uKTtcbiAgICAgICAgICAgIGFkZFBsYXllci5wbGF5aW5nID0gIWFkZFBsYXllci5wbGF5aW5nO1xuICAgICAgICAgICAgc3Vic3RpdHV0ZShhd2F5VGVhbSwgYWRkUGxheWVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUmVkdWNlIEZpdG5lc3NcbiAgICAgIGlmICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gZ2VuUmFuZG9tVmFsdWUocG9zaXRpb25zLmxlbmd0aCkgKyAxO1xuICAgICAgICBjb25zdCByYW5kb21Qb3NpdGlvbiA9IHBvc2l0aW9uc1tyYW5kb21JbmRleF07XG4gICAgICAgIGRlZmVuZGluZ1RlYW0ucmVkdWNlVmFsdWVzKGdlblJhbmRvbVZhbHVlKDEwKSwnZml0bmVzcycsW3JhbmRvbVBvc2l0aW9uXSk7XG4gICAgICB9XG4gICAgICBtb3ZlKCk7XG4gICAgICB0aW1lQ29udHJvbCgpO1xuICAgIH1cbiAgfSwxMCk7XG5cbiAgLy8gRXZlbnQgTGlzdGVuZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gVGVhbSBzZWxlY3Rpb25cbiAgJCgnLnRlYW0taW5wdXQnKS5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgIGNvbnN0IHVzZXJUZWFtID0gZS50YXJnZXQuaW5uZXJIVE1MO1xuICAgIGlmIChob21lVGVhbSA9PT0gbnVsbCkge1xuICAgICAgY29uZmlnVGVhbShob21lVGVhbSwgdXNlclRlYW0pO1xuICAgICAgY29uc29sZS5sb2coJ2hvbWVUZWFtIG5vdyBzZWxlY3RlZCEnKTtcbiAgICAgICQoJy50aXRsZS1tZXNzYWdlJykudGV4dCgnSG9tZSB0ZWFtIGNob3Nlbi4gTm93IGNob3NlIHlvdXIgb3Bwb25lbnQuJyk7XG4gICAgICAvLyBlLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25maWdUZWFtKGF3YXlUZWFtLCB1c2VyVGVhbSk7XG4gICAgICBjb25zb2xlLmxvZygnYXdheVRlYW0gbm93IHNlbGVjdGVkIScpO1xuICAgICAgJCgnLnRpdGxlLW1lc3NhZ2UnKS50ZXh0KCdPcHBvbmVudCBzZWxlY3RlZC4gTm93IGVkaXQgdGFjdGljcyBvciBwcm9jZWVkIHRvIG1hdGNoLicpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gU3RhcnRpbmcgTGluZSBVcFxuICAkKCcjcmV2ZWFsVGVhbScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICByZXZlYWxUZWFtKHRlYW1UYWN0aWNzKTtcbiAgfSk7XG5cbiAgLy8gVG9nZ2xlIHllcy9ubyBwbGF5aW5nXG4gICQoJy50ZWFtLXBhbmVsJykub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICBjb25zdCBzZWxlY3RlZFBsYXllciA9IGUudGFyZ2V0LmlkO1xuICAgIGNob29zZVBsYXllcnModGVhbVRhY3RpY3MsIHNlbGVjdGVkUGxheWVyKTtcbiAgfSk7XG5cbiAgJHByaW1hcnlCdXR0b24ub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIHJ1biA9ICFydW47XG4gICAgJCgnI21hdGNoLXNldHVwLCAuaW5mby1tZXNzYWdlLCAudGVhbS1zZXR1cCcpLmhpZGUoKTtcbiAgICAkKCcjbWF0Y2gtZW5naW5lLCAuYXdheS10ZWFtLCAuaG9tZS10ZWFtLCAudGltZXInKS5zaG93KCk7XG4gICAgaWYgKHJ1bikge1xuICAgICAgJHByaW1hcnlCdXR0b24udGV4dCgnUGF1c2UnKTtcbiAgICAgIGdhbWVTdGFydGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHByaW1hcnlCdXR0b24udGV4dCgnUGxheScpO1xuICAgIH1cblxuICB9KTtcblxuICAkKCcjaG9tZVRlYW0nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKHJ1bikge1xuICAgICAgcnVuID0gIXJ1bjtcbiAgICB9XG4gICAgJHByaW1hcnlCdXR0b24udGV4dCgnUGxheScpO1xuICAgICQoJy5tYXRjaC1zZXR1cCwgLm1hdGNoLWVuZ2luZScpLmhpZGUoKTtcbiAgICAkKCcudGVhbS1zZXR1cCcpLnNob3coKTtcbiAgICBzZXR1cFRhY3RpY3MoaG9tZVRlYW0pO1xuICAgIHRlYW1UYWN0aWNzID0gaG9tZVRlYW07XG4gICAgcmV2ZWFsVGVhbSh0ZWFtVGFjdGljcyk7XG5cbiAgfSk7XG5cbiAgJCgnI2F3YXlUZWFtJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmIChydW4pIHtcbiAgICAgIHJ1biA9ICFydW47XG4gICAgfVxuICAgICRwcmltYXJ5QnV0dG9uLnRleHQoJ1BsYXknKTtcbiAgICAkKCcubWF0Y2gtc2V0dXAsIC5tYXRjaC1lbmdpbmUnKS5oaWRlKCk7XG4gICAgJCgnLnRlYW0tc2V0dXAnKS5zaG93KCk7XG4gICAgc2V0dXBUYWN0aWNzKGF3YXlUZWFtKTtcbiAgICB0ZWFtVGFjdGljcyA9IGF3YXlUZWFtO1xuICAgIHJldmVhbFRlYW0odGVhbVRhY3RpY3MpO1xuICB9KTtcblxuICAkKCcuZ28tYmFjaycpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAkKCcudGVhbS1zZXR1cCcpLmhpZGUoKTtcbiAgICAkKCcubWF0Y2gtc2V0dXAnKS5zaG93KCk7XG4gIH0pO1xuXG4gICQoJy5mb3JtYXRpb24nKS5vbignY2hhbmdlJywgKGUpID0+IHtcbiAgICBjb25zdCBuZXdGb3JtYXRpb24gPSBlLnRhcmdldC52YWx1ZTtcbiAgICB0ZWFtVGFjdGljcy5mb3JtYXRpb24gPSBuZXdGb3JtYXRpb247XG4gICAgcmV2ZWFsVGVhbSh0ZWFtVGFjdGljcyk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHNldHVwVGFjdGljcyh0ZWFtT2JqZWN0KSB7XG4gICAgJCgnLnRlYW0tcGFuZWwnKS5odG1sKCcnKTtcbiAgICAkKCcuZm9ybWF0aW9uJykudmFsKHRlYW1PYmplY3QuZm9ybWF0aW9uKTtcblxuICAgIHRlYW1PYmplY3QucGxheWVycy5zb3J0KGZ1bmN0aW9uKGEsYil7XG4gICAgICByZXR1cm4gcG9zaXRpb25zLmluZGV4T2YoYS5wb3NpdGlvbikgPCBwb3NpdGlvbnMuaW5kZXhPZihiLnBvc2l0aW9uKSA/IC0xIDogMTtcbiAgICB9KTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVhbU9iamVjdC5wbGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwbGF5ZXIgPSB0ZWFtT2JqZWN0LnBsYXllcnNbaV07XG4gICAgICBjb25zdCBzdGFydGluZ0VsZXZlbiA9IHBsYXllci5wbGF5aW5nID8gJyYjMTAwMDQ7JyA6ICcmIzEwMDA3Oyc7XG4gICAgICAvLyBjb25zdCBwbGF5aW5nU3RhdHVzID0gcGxheWVyLnBsYXlpbmcgPyAnb24tZmllbGQnIDogJ29uLWJlbmNoJztcblxuICAgICAgJCgnLnRlYW0tcGFuZWwnKS5hcHBlbmQoXG4gICAgICAgIGA8cCBjbGFzcz1cInBsYXllci1saW5lICR7cGxheWVyLnBvc2l0aW9ufSAke3BsYXllci5zdGF0dXN9XCIgaWQ9JyR7cGxheWVyLm5hbWV9Jz5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInN0YXJ0aW5nICR7cGxheWVyLnN0YXR1c31cIiBpZD1cIiR7aX1cIj4ke3N0YXJ0aW5nRWxldmVufTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInBsYXllci1wb3NpdGlvbiBcIj4ke3BsYXllci5wb3NpdGlvbn08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJwbGF5ZXItbmFtZVwiPiR7cGxheWVyLm5hbWV9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGxheWVyLXN0YXRcIj4ke3BsYXllci5hdHRhY2t9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGxheWVyLXN0YXRcIj4ke3BsYXllci5kZWZlbmNlfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInBsYXllci1zdGF0XCI+JHtwbGF5ZXIuY3JlYXRpdml0eX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJwbGF5ZXItc3RhdFwiPiR7cGxheWVyLmRlZmVuY2V9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGxheWVyLXN0YXRcIj4ke3BsYXllci5maXRuZXNzfTwvc3Bhbj5cbiAgICAgICAgPC9wPmBcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2VQbGF5KCkge1xuICAgIGlmIChydW4pIHtcbiAgICAgIHJ1biA9ICFydW47XG4gICAgfVxuXG4gICAgJHByaW1hcnlCdXR0b24udGV4dCgnUGxheScpO1xuICAgICQoJy5tYXRjaC1zZXR1cCwgLm1hdGNoLWVuZ2luZScpLmhpZGUoKTtcbiAgICBzZXR1cFRhY3RpY3MoaG9tZVRlYW0pO1xuICAgIHRlYW1UYWN0aWNzID0gaG9tZVRlYW07XG4gICAgcmV2ZWFsVGVhbSh0ZWFtVGFjdGljcyk7XG4gICAgJCgnLnRlYW0tc2V0dXAnKS5zaG93KCk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVhbFRlYW0odGVhbU9iamVjdCkge1xuICAgICQoJy50ZWFtLWRpc3BsYXknKS5odG1sKCcnKTtcbiAgICBjb25zdCBmb3JtYXRpb24gPSBbJzEnXS5jb25jYXQodGVhbU9iamVjdC5mb3JtYXRpb24uc3BsaXQoJy0nKSk7XG5cbiAgICBsZXQgcGxheWVyTnVtYmVyID0gMDtcbiAgICBsZXQgcG9zaXRpb25OdW1iZXIgPSAwO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvcm1hdGlvbi5tYXAoKGFycmF5SXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBpdGVyYXRpb25zID0gcGFyc2VGbG9hdChhcnJheUl0ZW0pO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgaXRlcmF0aW9ucykge1xuICAgICAgICAgIC8vIGFkZGVkIGVqZWN0ZWRcbiAgICAgICAgICBpZiAodGVhbU9iamVjdC5wbGF5ZXJzW3BsYXllck51bWJlcl0ucGxheWluZyB8fCB0ZWFtT2JqZWN0LnBsYXllcnNbcGxheWVyTnVtYmVyXS5zdGF0dXMgPT09ICdlamVjdGVkJykge1xuICAgICAgICAgICAgY29uc3Qgd2FybmluZ01lc3NhZ2UgPSBwb3NpdGlvbnNbcG9zaXRpb25OdW1iZXJdICE9PSB0ZWFtT2JqZWN0LnBsYXllcnNbcGxheWVyTnVtYmVyXS5wb3NpdGlvbiA/ICd3YXJuaW5nJyA6ICcnO1xuICAgICAgICAgICAgJCgnLnRlYW0tZGlzcGxheScpLmFwcGVuZChcbiAgICAgICAgICAgICAgYDxzcGFuIGNsYXNzPSdwbGF5ZXItYmxvY2sgJHt3YXJuaW5nTWVzc2FnZX0gJHsodGVhbU9iamVjdC5wbGF5ZXJzW3BsYXllck51bWJlcl0uc3RhdHVzKX0nPiR7dGVhbU9iamVjdC5wbGF5ZXJzW3BsYXllck51bWJlcl0ubmFtZX08L3NwYW4+YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRlYW1PYmplY3QucGxheWVyc1twbGF5ZXJOdW1iZXJdLmNob3NlblBvc2l0aW9uID0gcG9zaXRpb25zW3Bvc2l0aW9uTnVtYmVyXTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5sb2cocGxheWVyTnVtYmVyKTtcbiAgICAgICAgICBwbGF5ZXJOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICAkKCcudGVhbS1kaXNwbGF5JykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwic2VwZXJhdGUtcGxheWVyc1wiPicpO1xuICAgICAgICBwb3NpdGlvbk51bWJlcisrO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaChlcnIpIHtcbiAgICAgICQoJy50ZWFtLWRpc3BsYXknKS5hcHBlbmQoYDxwIGNsYXNzPSd0ZWFtLXNlbGVjdGlvbi13YXJuaW5nIHNlcGVyYXRlLXBsYXllcnMnPkxlc3MgdGhhbiAxMSBwbGF5ZXJzIHNlbGVjdGVkITwvcD5gKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaG9vc2VQbGF5ZXJzKHRlYW1PYmplY3QsIHNlbGVjdGVkUGxheWVyKSB7XG4gICAgdGVhbU9iamVjdC5wbGF5ZXJzW3NlbGVjdGVkUGxheWVyXS5wbGF5aW5nID0gIXRlYW1PYmplY3QucGxheWVyc1tzZWxlY3RlZFBsYXllcl0ucGxheWluZztcbiAgICAvL2NvbnNvbGUubG9nKHRlYW1PYmplY3QucGxheWVyc1tzZWxlY3RlZFBsYXllcl0ucGxheWluZyk7XG4gICAgcmV2ZWFsVGVhbSh0ZWFtVGFjdGljcyk7XG4gICAgaWYgKHRlYW1PYmplY3QucGxheWVyc1tzZWxlY3RlZFBsYXllcl0ucGxheWluZykge1xuICAgICAgJChgIyR7c2VsZWN0ZWRQbGF5ZXJ9YCkuaHRtbCgnJiMxMDAwNDsnKTtcbiAgICAgIGlmIChnYW1lU3RhcnRlZCkge1xuICAgICAgICBjb25zb2xlLmxvZygnY2xpY2tlZCcpO1xuICAgICAgICAkKGAjJHtzZWxlY3RlZFBsYXllcn1gKS5wYXJlbnQoKS5jc3MoeydiYWNrZ3JvdW5kJzogJ2dyZWVuJ30pO1xuICAgICAgICBjb25zdCBwbGF5ZXJPbiA9IHRlYW1PYmplY3QucGxheWVyc1tzZWxlY3RlZFBsYXllcl07XG4gICAgICAgIHN1YnN0aXR1dGUodGVhbU9iamVjdCwgcGxheWVyT24pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAkKGAjJHtzZWxlY3RlZFBsYXllcn1gKS5odG1sKCcmIzEwMDA3OycpO1xuICAgICAgaWYgKGdhbWVTdGFydGVkKSB7XG4gICAgICAgICQoYCMke3NlbGVjdGVkUGxheWVyfWApLnBhcmVudCgpLmNzcyh7J3BvaW50ZXItZXZlbnRzJzogJ25vbmUnLCAnYmFja2dyb3VuZCc6ICdyZWQnfSk7XG4gICAgICAgIGNvbnN0IHBsYXllck9mZiA9IHRlYW1PYmplY3QucGxheWVyc1tzZWxlY3RlZFBsYXllcl07XG4gICAgICAgIHN1YnN0aXR1dGUodGVhbU9iamVjdCwgcGxheWVyT2ZmKTtcblxuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gc3Vic3RpdHV0ZSh0ZWFtT2JqZWN0LCBwbGF5ZXIpIHtcbiAgICBpZiAodGVhbU9iamVjdC5zdWJzIDwgNykge1xuICAgICAgaWYgKCFwbGF5ZXIucGxheWluZykge1xuICAgICAgICAkKGAjJHt0ZWFtT2JqZWN0LnBsYWNlfUV2ZW50c2ApLmFwcGVuZChgPGkgY2xhc3M9J2ZhIGZhLWFycm93LXJpZ2h0JyBzdHlsZT0nZm9udC1zaXplOiAyMnB4OyBjb2xvcjpyZWQ7IHBhZGRpbmctdG9wOjVweCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7cGxheWVyLm5hbWV9IHN1YnN0aXR1dGVkPGJyLz5gKTtcbiAgICAgICAgdGVhbU9iamVjdC5zdWJzICs9IDE7XG4gICAgICAgIHBsYXllci5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIHBsYXllci5zdGF0dXMgPSAnc3ViYmVkLW9mZic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKGAjJHt0ZWFtT2JqZWN0LnBsYWNlfUV2ZW50c2ApLmFwcGVuZChgPGkgY2xhc3M9J2ZhIGZhLWFycm93LXJpZ2h0JyBzdHlsZT0nZm9udC1zaXplOiAyMnB4OyBjb2xvcjpncmVlbjsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHtwbGF5ZXIubmFtZX0gc3Vic3RpdHV0ZWQ8YnIvPmApO1xuICAgICAgICB0ZWFtT2JqZWN0LnN1YnMgKz0gMTtcbiAgICAgICAgcGxheWVyLnBsYXlpbmcgPSB0cnVlO1xuICAgICAgICBwbGF5ZXIuc3RhdHVzID0gJ3N1YmJlZC1vbic7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdZb3UgaGF2ZSBoYWQgMyBzdWJzIScpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuXG4gIGZ1bmN0aW9uIHRpbWVDb250cm9sKCkge1xuXG4gICAgaWYobWF0Y2hUaW1lID09PSA0NCkge1xuICAgICAgJGNvbW1lbnRhcnlCb3gudGV4dChgVGhhdCdzIGhhbGYtdGltZSFgKTtcbiAgICAgIHJ1biA9ICFydW47XG4gICAgICAkcHJpbWFyeUJ1dHRvbi50ZXh0KCdQbGF5Jyk7XG4gICAgfVxuXG4gICAgaWYobWF0Y2hUaW1lID09PSA5MCkge1xuICAgICAgJGNvbW1lbnRhcnlCb3gudGV4dChgVGhhdCdzIGZ1bGwtdGltZSFgKTtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJRCk7XG4gICAgICAkcHJpbWFyeUJ1dHRvbi50ZXh0KCdGaW5pc2gnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWF0Y2hUaW1lKys7XG4gICAgICAkbWF0Y2hUaW1lLnRleHQobWF0Y2hUaW1lKTtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGdlblJhbmRvbVZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB2YWx1ZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gbW92ZSgpIHtcblxuICAgIC8vIE5lZWQgdG8gc29ydCB0aGlzXG4gICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdob21lQmFyJyk7XG5cbiAgICB3aWR0aCA9IChob21lVGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdjcmVhdGl2aXR5JykgLyAoaG9tZVRlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnY3JlYXRpdml0eScpICsgYXdheVRlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnY3JlYXRpdml0eScpKSAqIDEwMCkgKyAoTWF0aC5yYW5kb20oKSA8IDAuNSA/IC1nZW5SYW5kb21WYWx1ZSg2KSA6IGdlblJhbmRvbVZhbHVlKDYpKTtcbiAgICBjb25zb2xlLmxvZyhob21lVGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdjcmVhdGl2aXR5JykpO1xuICAgIGNvbnNvbGUubG9nKGF3YXlUZWFtLmF2ZXJhZ2VQbGF5ZXJWYWx1ZXMoJ2NyZWF0aXZpdHknKSk7XG4gICAgZWxlbS5zdHlsZS53aWR0aCA9IHdpZHRoICsgJyUnO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VsZWN0VGVhbSgpIHtcbiAgICBjb25zdCBob21lUmFuZG9tID0gIGdlblJhbmRvbVZhbHVlKGhvbWVUZWFtLmF2ZXJhZ2VQbGF5ZXJWYWx1ZXMoJ2NyZWF0aXZpdHknKSArIGhvbWVUZWFtLmF2ZXJhZ2VQbGF5ZXJWYWx1ZXMoJ2ZpdG5lc3MnKSk7XG4gICAgY29uc3QgYXdheVJhbmRvbSA9ICBnZW5SYW5kb21WYWx1ZShhd2F5VGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdjcmVhdGl2aXR5JykgKyBhd2F5VGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdmaXRuZXNzJykpO1xuXG4gICAgaWYgKGhvbWVSYW5kb20gPj0gYXdheVJhbmRvbSkge1xuICAgICAgJGNvbW1lbnRhcnlCb3guY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgaG9tZVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICRjb21tZW50YXJ5Qm94LmNzcygnY29sb3InLCBob21lVGVhbS5jb2xvcnNbMV0pO1xuICAgICAgaWYgKGdlblJhbmRvbVZhbHVlKDIwKSAlIDQgPT09IDApIHtcbiAgICAgICAgJGNvbW1lbnRhcnlCb3gudGV4dChnZW5lcmF0ZUNvbW1lbnRhcnkoJ2NoYW5jZScsJycpKTtcbiAgICAgICAgaG9tZVRlYW0uaW5jcmVhc2VWYWx1ZXMoMywnYXR0YWNrJyxbJ21pZGZpZWxkZXInLCAnc3RyaWtlciddKTtcbiAgICAgICAgaG9tZVRlYW0uaW5jcmVhc2VWYWx1ZXMoMywnY3JlYXRpdml0eScsWydtaWRmaWVsZGVyJywgJ3N0cmlrZXInXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gW2hvbWVUZWFtLCAnaG9tZScsIGF3YXlUZWFtXTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGNvbW1lbnRhcnlCb3guY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgYXdheVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICRjb21tZW50YXJ5Qm94LmNzcygnY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMV0pO1xuICAgICAgaWYgKGdlblJhbmRvbVZhbHVlKDIwKSAlIDQgPT09IDApe1xuICAgICAgICBhd2F5VGVhbS5pbmNyZWFzZVZhbHVlcygzLCdhdHRhY2snLFsnbWlkZmllbGRlcicsICdzdHJpa2VyJ10pO1xuICAgICAgICBhd2F5VGVhbS5pbmNyZWFzZVZhbHVlcygzLCdjcmVhdGl2aXR5JyxbJ21pZGZpZWxkZXInLCAnc3RyaWtlciddKTtcbiAgICAgICAgJGNvbW1lbnRhcnlCb3gudGV4dChnZW5lcmF0ZUNvbW1lbnRhcnkoJ2NoYW5jZScsJycpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbYXdheVRlYW0sICdhd2F5JywgaG9tZVRlYW1dO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdFBsYXllcih0ZWFtKSB7XG4gICAgY29uc3QgZ2VuUmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0ZWFtLnBsYXllcnMubGVuZ3RoKTtcbiAgICByZXR1cm4gdGVhbS5wbGF5ZXJzW2dlblJhbmRvbUluZGV4XTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvYWxDaGFuY2UoYXR0YWNraW5nVGVhbSwgdGVhbVN0cmluZywgZGVmZW5kaW5nVGVhbSkge1xuICAgIC8vIFJlZmFjdG9yIHRoaXNcbiAgICBsZXQgc2NvcmUgPSBudWxsO1xuICAgIGxldCBnZXRTY29yZSA9IG51bGw7XG4gICAgY29uc3QgYXR0YWNraW5nUGxheWVyID0gYXR0YWNraW5nVGVhbS5yYW5kb21QbGF5ZXIoKTtcbiAgICBjb25zdCBkZWZlbmRpbmdQbGF5ZXIgPSBkZWZlbmRpbmdUZWFtLnJhbmRvbVBsYXllckJ5UG9zaXRpb24oJ2RlZmVuZGVyJyk7XG5cbiAgICBpZiAoZ2VuUmFuZG9tVmFsdWUoYXR0YWNraW5nUGxheWVyLmF0dGFjaykgPiBnZW5SYW5kb21WYWx1ZShkZWZlbmRpbmdQbGF5ZXIuZGVmZW5jZSkpIHtcbiAgICAgIGlmICh0ZWFtU3RyaW5nID09PSAnaG9tZScpIHtcbiAgICAgICAgZ2V0U2NvcmUgPSAkaG9tZVNjb3JlLnRleHQoKTtcbiAgICAgICAgc2NvcmUgPSBwYXJzZUZsb2F0KGdldFNjb3JlKSArIDE7XG4gICAgICAgICRob21lU2NvcmUudGV4dChzY29yZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZXRTY29yZSA9ICRhd2F5U2NvcmUudGV4dCgpO1xuICAgICAgICBzY29yZSA9IHBhcnNlRmxvYXQoZ2V0U2NvcmUpICsgMTtcbiAgICAgICAgJGF3YXlTY29yZS50ZXh0KHNjb3JlKTtcbiAgICAgIH1cbiAgICAgIC8vJGNvbW1lbnRhcnlCb3gudGV4dChgR29hbCFgKTtcbiAgICAgIGdlbmVyYXRlQ29tbWVudGFyeSgnZ29hbCcsIGF0dGFja2luZ1BsYXllcik7XG5cbiAgICAgICQoYCMke3RlYW1TdHJpbmd9RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtZnV0Ym9sLW8nIHN0eWxlPSdmb250LXNpemU6IDIycHg7IGNvbG9yOndoaXRlOyBwYWRkaW5nLXRvcDo1cHgnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+ICR7bWF0Y2hUaW1lfSBtaW5zOiAke2F0dGFja2luZ1BsYXllci5uYW1lfSBzY29yZWQ8YnIvPmApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZURpc2NpcGxpbmUoYXR0YWNraW5nVGVhbSwgdGVhbVN0cmluZywgZGVmZW5kaW5nVGVhbSkge1xuICAgIGNvbnNvbGUubG9nKCdZRUxMT1cnKTtcbiAgICBjb25zdCBkZWZlbmRpbmdQbGF5ZXIgPSBkZWZlbmRpbmdUZWFtLnJhbmRvbVBsYXllcigpO1xuICAgIGNvbnN0IHRlYW0gPSB0ZWFtU3RyaW5nID09PSAnaG9tZScgPyAnYXdheScgOiAnaG9tZSc7XG4gICAgaWYgKChnZW5SYW5kb21WYWx1ZShkZWZlbmRpbmdQbGF5ZXIuZGlzY2lwbGluZSkgKyAoMTAwLW1hdGNoVGltZSkpIDwgOTAgJiYgZGVmZW5kaW5nUGxheWVyLnN0YXR1cyAhPT0gJ2VqZWN0ZWQnKSB7XG4gICAgICAvLyBBbHJlYWR5IGJvb2tlZD8gU2VuZCBoaW0gb2ZmIVxuICAgICAgaWYgKGRlZmVuZGluZ1BsYXllci5zdGF0dXMgPT09ICd5ZWxsb3cnKSB7XG4gICAgICAgICRjb21tZW50YXJ5Qm94LmNzcygnYmFja2dyb3VuZC1jb2xvcicsICcjRkYwMDAwJyk7XG4gICAgICAgICRjb21tZW50YXJ5Qm94LmNzcygnY29sb3InLCAnI0ZGRkZGRicpO1xuXG4gICAgICAgIGdlbmVyYXRlQ29tbWVudGFyeSgnc2Vjb25kWWVsbG93JywgZGVmZW5kaW5nUGxheWVyKTtcbiAgICAgICAgJChgIyR7dGVhbX1FdmVudHNgKS5hcHBlbmQoYDxpIGNsYXNzPSdmYSBmYS1zcXVhcmUgZXZlbnQtaXRlbScgc3R5bGU9J2ZvbnQtc2l6ZTogMjRweDsgY29sb3I6IHJlZDsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHtkZWZlbmRpbmdQbGF5ZXIubmFtZX0gc2VudCBvZmY8YnIvPmApO1xuICAgICAgICBkZWZlbmRpbmdQbGF5ZXIuc3RhdHVzID0gJ2VqZWN0ZWQnO1xuICAgICAgICAvLyBkZWZlbmRpbmdQbGF5ZXIuc3RhdHVzID0gJ2VqZWN0ZWQnO1xuICAgICAgICAvLyBkZWZlbmRpbmdQbGF5ZXIucGxheWluZyA9IGZhbHNlO1xuICAgICAgICAvLyBpZiAoZGVmZW5kaW5nVGVhbS5wbGFjZSA9PT0gJ2hvbWUnKSBwYXVzZVBsYXkoKTtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGNvbW1lbnRhcnlCb3guY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJ3llbGxvdycpO1xuICAgICAgICAkY29tbWVudGFyeUJveC5jc3MoJ2NvbG9yJywgJyMwMDAwMDAnKTtcbiAgICAgICAgLy8gJGNvbW1lbnRhcnlCb3gudGV4dChgJHtkZWZlbmRpbmdQbGF5ZXIubmFtZX0gZ2V0cyBhIHllbGxvdyFgKTtcbiAgICAgICAgZ2VuZXJhdGVDb21tZW50YXJ5KCd5ZWxsb3cnLCBkZWZlbmRpbmdQbGF5ZXIpO1xuICAgICAgICBkZWZlbmRpbmdQbGF5ZXIuZGVmZW5jZSAtPSA4O1xuICAgICAgICAvLyBTdG9yZSBtZXNhZ2VzIGFuZCBkZXRhaWxzIGluIGFuIGdhbWUgT2JqZWN0XG4gICAgICAgICQoYCMke3RlYW19RXZlbnRzYCkuYXBwZW5kKGBcbiAgICAgICAgICA8aSBjbGFzcz0nZmEgZmEtc3F1YXJlIGV2ZW50LWl0ZW0nIHN0eWxlPSdmb250LXNpemU6IDI0cHg7IGNvbG9yOiB5ZWxsb3c7IHBhZGRpbmctdG9wOjVweCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7ZGVmZW5kaW5nUGxheWVyLm5hbWV9IGJvb2tlZDxici8+YCk7XG4gICAgICAgIGRlZmVuZGluZ1BsYXllci5zdGF0dXMgPSAneWVsbG93JztcbiAgICAgICAgZGVmZW5kaW5nUGxheWVyLmZpdG5lc3MgLT0gZ2VuUmFuZG9tVmFsdWUoNSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlSW5qdXJ5KGF0dGFja2luZ1RlYW0sIHRlYW1TdHJpbmcpIHtcbiAgICBjb25zdCBhdHRhY2tpbmdQbGF5ZXIgPSBhdHRhY2tpbmdUZWFtLnJhbmRvbVBsYXllcigpO1xuICAgIC8vIFRIRVJFIENPVUxEIEJFIEFOIElOSlVSWVxuICAgIGlmIChnZW5SYW5kb21WYWx1ZSgxMDEpICUgNDAgPT09IDApIHtcbiAgICAgIC8vICRjb21tZW50YXJ5Qm94LnRleHQoYCR7YXR0YWNraW5nUGxheWVyLm5hbWV9IGdldHMgdGFrZW4gb2ZmIG9uIGEgc3RyZXRjaGVyIWApO1xuICAgICAgZ2VuZXJhdGVDb21tZW50YXJ5KCdpbmp1cnknLCBhdHRhY2tpbmdQbGF5ZXIpO1xuICAgICAgJChgIyR7dGVhbVN0cmluZ31FdmVudHNgKS5hcHBlbmQoYDxpIGNsYXNzPSdmYSBmYS1wbHVzJyBzdHlsZT0nZm9udC1zaXplOiAyNnB4OyBjb2xvcjogZ3JlZW47IHBhZGRpbmctdG9wOjVweCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7YXR0YWNraW5nUGxheWVyLm5hbWV9IGluanVyZWQ8YnIvPmApO1xuICAgICAgaWYgKGF0dGFja2luZ1RlYW0ucGxhY2UgPT09ICdhd2F5Jykge1xuICAgICAgICBhdHRhY2tpbmdQbGF5ZXIucGxheWluZyA9ICFhdHRhY2tpbmdQbGF5ZXIucGxheWluZztcbiAgICAgICAgc3Vic3RpdHV0ZShhd2F5VGVhbSwgYXR0YWNraW5nUGxheWVyKTtcbiAgICAgICAgY29uc3QgYWRkUGxheWVyID0gYXdheVRlYW0ucmFuZG9tU3Vic3RpdHV0ZShhdHRhY2tpbmdQbGF5ZXIucG9zaXRpb24pO1xuICAgICAgICBhZGRQbGF5ZXIucGxheWluZyA9ICFhZGRQbGF5ZXIucGxheWluZztcbiAgICAgICAgc3Vic3RpdHV0ZShhd2F5VGVhbSwgYWRkUGxheWVyKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0YWNraW5nVGVhbS5wbGFjZSA9PT0gJ2hvbWUnKSB7XG4gICAgICAgIGF0dGFja2luZ1BsYXllci5maXRuZXNzID0gMCArIGdlblJhbmRvbVZhbHVlKDMwKTtcbiAgICAgICAgYXR0YWNraW5nUGxheWVyLnN0YXR1cyA9ICdpbmp1cmVkJztcbiAgICAgICAgYXR0YWNraW5nUGxheWVyLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgLy8gcGF1c2VQbGF5KCk7XG4gICAgICB9XG4gICAgICAvLyBhdHRhY2tpbmdQbGF5ZXIucGxheWluZyA9IGZhbHNlO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIGF0dGFja2luZ1BsYXllci5maXRuZXNzIC09IGdlblJhbmRvbVZhbHVlKDE1KTtcbiAgICAgIGF0dGFja2luZ1BsYXllci5kZWZlbmNlIC09IGdlblJhbmRvbVZhbHVlKDEwKTs7XG4gICAgICBhdHRhY2tpbmdQbGF5ZXIuYXR0YWNrIC09IGdlblJhbmRvbVZhbHVlKDE1MCk7O1xuICAgICAgJGNvbW1lbnRhcnlCb3gudGV4dChgJHthdHRhY2tpbmdQbGF5ZXIubmFtZX0ncyBsaW1waW5nLCBidXQgaGUnbGwgYmUgb2theWApO1xuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlRnJlZWtpY2soYXR0YWNraW5nVGVhbSwgdGVhbVN0cmluZywgZGVmZW5kaW5nVGVhbSkge1xuICAgIGNvbnN0IGF0dGFja2luZ1BsYXllciA9IGF0dGFja2luZ1RlYW0ucmFuZG9tUGxheWVyQnlQb3NpdGlvbignbWlkZmllbGRlcicpO1xuICAgIGNvbnN0IGRlZmVuZGluZ1ZhbHVlID0gKGRlZmVuZGluZ1RlYW0ucmFuZG9tUGxheWVyQnlQb3NpdGlvbignZ29hbGtlZXBlcicpLmRlZmVuY2UgKyBkZWZlbmRpbmdUZWFtLmF2ZXJhZ2VQbGF5ZXJWYWx1ZXMoJ2RlZmVuZGVyJykpO1xuXG4gICAgaWYgKGF0dGFja2luZ1BsYXllci5hdHRhY2sgPiBkZWZlbmRpbmdWYWx1ZSkge1xuICAgICAgLy8gUmVmYWN0b3IgdGhpc1xuICAgICAgbGV0IHNjb3JlID0gbnVsbDtcbiAgICAgIGxldCBnZXRTY29yZSA9IG51bGw7XG4gICAgICBpZiAodGVhbVN0cmluZyA9PT0gJ2hvbWUnKSB7XG4gICAgICAgIGdldFNjb3JlID0gJGhvbWVTY29yZS50ZXh0KCk7XG4gICAgICAgIHNjb3JlID0gcGFyc2VGbG9hdChnZXRTY29yZSkgKyAxO1xuICAgICAgICAkaG9tZVNjb3JlLnRleHQoc2NvcmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2V0U2NvcmUgPSAkYXdheVNjb3JlLnRleHQoKTtcbiAgICAgICAgc2NvcmUgPSBwYXJzZUZsb2F0KGdldFNjb3JlKSArIDE7XG4gICAgICAgICRhd2F5U2NvcmUudGV4dChzY29yZSk7XG4gICAgICB9XG5cbiAgICAgIC8vJGNvbW1lbnRhcnlCb3gudGV4dChgSXQncyBhIHdvbmRlciBnb2FsISBHb2FsIWApO1xuICAgICAgZ2VuZXJhdGVDb21tZW50YXJ5KCdmcmVla2ljaycsIGF0dGFja2luZ1BsYXllcik7XG4gICAgICAkKGAjJHt0ZWFtU3RyaW5nfUV2ZW50c2ApLmFwcGVuZChgPGkgY2xhc3M9J2ZhIGZhLWZ1dGJvbC1vJyBzdHlsZT0nZm9udC1zaXplOiAyMnB4OyBjb2xvcjp3aGl0ZTsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHthdHRhY2tpbmdQbGF5ZXIubmFtZX0gc2NvcmVkPGJyLz5gKTtcbiAgICAgIGF0dGFja2luZ1BsYXllci5hdHRhY2sgKz0gNTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuZXJhdGVDb21tZW50YXJ5KCd3YXN0ZWRGcmVla2ljaycsIGF0dGFja2luZ1BsYXllcik7XG4gICAgICBhdHRhY2tpbmdQbGF5ZXIuY3JlYXRpdml0eSAtPSAyO1xuICAgICAgYXR0YWNraW5nVGVhbS5yZWR1Y2VWYWx1ZXMoMTAsICdhdHRhY2snLCBbJ3N0cmlrZXInLCAnbWlkZmllbGRlcicsICdkZWZlbmRlciddKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gaGFuZGxlUGVuYWx0eShhdHRhY2tpbmdUZWFtLCB0ZWFtU3RyaW5nLCBkZWZlbmRpbmdUZWFtKSB7XG5cbiAgICBjb25zdCBhdHRhY2tpbmdQbGF5ZXIgPSBhdHRhY2tpbmdUZWFtLnJhbmRvbVBsYXllckJ5UG9zaXRpb24oJ3N0cmlrZXInKTtcbiAgICBjb25zdCBkZWZlbmRpbmdQbGF5ZXIgPSBkZWZlbmRpbmdUZWFtLnJhbmRvbVBsYXllckJ5UG9zaXRpb24oJ2dvYWxrZWVwZXInKTtcbiAgICBjb25zdCBib29rZWRQbGF5ZXIgPSBkZWZlbmRpbmdUZWFtLnJhbmRvbVBsYXllckJ5UG9zaXRpb24oJ2RlZmVuZGVyJyk7XG4gICAgY29uc3QgdGVhbSA9IHRlYW1TdHJpbmcgPT09ICdob21lJyA/ICdhd2F5JyA6ICdob21lJztcbiAgICAvLyBCb29rIHRoZSBwbGF5ZXI/XG4gICAgaWYgKGdlblJhbmRvbVZhbHVlKDEwMCkgPiAyNSkge1xuICAgICAgLy8gY29uc29sZS5sb2coJ2hlcmUnKTtcbiAgICAgIGJvb2tlZFBsYXllci5zdGF0dXMgPSAneWVsbG93JztcbiAgICAgICQoYCMke3RlYW19RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtc3F1YXJlIGV2ZW50LWl0ZW0nIHN0eWxlPSdmb250LXNpemU6IDI0cHg7IGNvbG9yOiB5ZWxsb3c7IHBhZGRpbmctdG9wOjVweCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7Ym9va2VkUGxheWVyLm5hbWV9IGJvb2tlZDxici8+YCk7XG4gICAgfVxuXG4gICAgaWYgKChnZW5SYW5kb21WYWx1ZShhdHRhY2tpbmdQbGF5ZXIuYXR0YWNrKSoyKSA+IGdlblJhbmRvbVZhbHVlKGRlZmVuZGluZ1BsYXllci5kZWZlbmNlKSkge1xuXG4gICAgICBsZXQgc2NvcmUgPSBudWxsO1xuICAgICAgbGV0IGdldFNjb3JlID0gbnVsbDtcbiAgICAgIGlmICh0ZWFtU3RyaW5nID09PSAnaG9tZScpIHtcbiAgICAgICAgZ2V0U2NvcmUgPSAkaG9tZVNjb3JlLnRleHQoKTtcbiAgICAgICAgc2NvcmUgPSBwYXJzZUZsb2F0KGdldFNjb3JlKSArIDE7XG4gICAgICAgICRob21lU2NvcmUudGV4dChzY29yZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZXRTY29yZSA9ICRhd2F5U2NvcmUudGV4dCgpO1xuICAgICAgICBzY29yZSA9IHBhcnNlRmxvYXQoZ2V0U2NvcmUpICsgMTtcbiAgICAgICAgJGF3YXlTY29yZS50ZXh0KHNjb3JlKTtcbiAgICAgIH1cblxuICAgICAgLy8gJGNvbW1lbnRhcnlCb3gudGV4dChgJHthdHRhY2tpbmdQbGF5ZXIubmFtZX0ncyBjbGluaWNhbCBmcm9tIHRoZSBzcG90ISBHb2FsIWApO1xuICAgICAgZ2VuZXJhdGVDb21tZW50YXJ5KCdwZW5hbHR5JywgYXR0YWNraW5nUGxheWVyKTtcbiAgICAgICQoYCMke3RlYW1TdHJpbmd9RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtZnV0Ym9sLW8nIHN0eWxlPSdmb250LXNpemU6IDIycHg7IGNvbG9yOndoaXRlOyBwYWRkaW5nLXRvcDo1cHgnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+ICR7bWF0Y2hUaW1lfSBtaW5zOiAke2F0dGFja2luZ1BsYXllci5uYW1lfSBzY29yZXMgcGVuYWx0eTxici8+YCk7XG4gICAgICBhdHRhY2tpbmdQbGF5ZXIuYXR0YWNrICs9IDU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbmVyYXRlQ29tbWVudGFyeSgnbWlzc2VkUGVuYWx0eScsIGF0dGFja2luZ1BsYXllcik7XG4gICAgICAkKGAjJHt0ZWFtU3RyaW5nfUV2ZW50c2ApLmFwcGVuZChgPGkgY2xhc3M9J2ZhIGZhLWZ1dGJvbC1vJyBzdHlsZT0nZm9udC1zaXplOiAyMnB4OyBjb2xvcjpyZWQ7IHBhZGRpbmctdG9wOjVweCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7YXR0YWNraW5nUGxheWVyLm5hbWV9IG1pc3NlZCBwZW5hbHR5PGJyLz5gKTtcbiAgICAgIGRlZmVuZGluZ1BsYXllci5kZWZlbmNlICs9IDEwO1xuICAgICAgYXR0YWNraW5nUGxheWVyLmF0dGFjayAtPSAxMDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdHJhaWdodFJlZChkZWZlbmRpbmdUZWFtLCB0ZWFtU3RyaW5nKSB7XG4gICAgY29uc3QgZGVmZW5kaW5nUGxheWVyID0gZGVmZW5kaW5nVGVhbS5yYW5kb21QbGF5ZXIoKTtcbiAgICBpZiAoZ2VuUmFuZG9tVmFsdWUoZGVmZW5kaW5nUGxheWVyLmRpc2NpcGxpbmUpICsgKDEwMC1tYXRjaFRpbWUpIDwgMjUpIHtcbiAgICAgIGRlZmVuZGluZ1BsYXllci5wbGF5aW5nID0gZmFsc2U7XG4gICAgICBkZWZlbmRpbmdQbGF5ZXIuc3RhdHVzID0gJ2VqZWN0ZWQnO1xuICAgICAgY29uc3QgdGVhbSA9IHRlYW1TdHJpbmcgPT09ICdob21lJyA/ICdhd2F5JyA6ICdob21lJztcbiAgICAgIC8vICRjb21tZW50YXJ5Qm94LnRleHQoJ1RoZSByZWZlcmVlIGdpdmVzIGhpbSBhIHN0cmFpZ2h0IHJlZCEnKTtcbiAgICAgIGdlbmVyYXRlQ29tbWVudGFyeSgnc3RyYWlnaHRSZWQnLCBkZWZlbmRpbmdQbGF5ZXIpO1xuICAgICAgJChgIyR7dGVhbX1FdmVudHNgKS5hcHBlbmQoYDxpIGNsYXNzPSdmYSBmYS1zcXVhcmUnIHN0eWxlPSdmb250LXNpemU6IDI0cHg7IGNvbG9yOiByZWQ7IHBhZGRpbmctdG9wOjVweCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7ZGVmZW5kaW5nUGxheWVyLm5hbWV9IHNlbnQgb2ZmPGJyLz5gKTtcbiAgICAgIC8vIGlmIChkZWZlbmRpbmdUZWFtLnBsYWNlID09PSAnaG9tZScpIHBhdXNlUGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbmZpZ1RlYW0odGVhbSwgc2VsZWN0b3IpIHtcbiAgICBpZiAoaG9tZVRlYW0gPT09IG51bGwpIHtcbiAgICAgICQoJy5ob21lLXRlYW0gIC50ZWFtLW5hbWUnKS50ZXh0KHNlbGVjdG9yKTtcbiAgICAgIHN3aXRjaCAoc2VsZWN0b3IpIHtcbiAgICAgICAgY2FzZSAnVG90dGVuaGFtJzpcbiAgICAgICAgICBob21lVGVhbSA9IHNwdXJzO1xuICAgICAgICAgICQoJy5ob21lLXRlYW0sICNob21lQmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgaG9tZVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtJykuY3NzKCdjb2xvcicsIGhvbWVUZWFtLmNvbG9yc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ01hbiBVbml0ZWQnOlxuICAgICAgICAgIGhvbWVUZWFtID0gbWFuVW5pdGVkO1xuICAgICAgICAgICQoJy5ob21lLXRlYW0sICNob21lQmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgaG9tZVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtJykuY3NzKCdjb2xvcicsIGhvbWVUZWFtLmNvbG9yc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0xpdmVycG9vbCc6XG4gICAgICAgICAgaG9tZVRlYW0gPSBsaXZlcnBvb2w7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbSwgI2hvbWVCYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBob21lVGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5ob21lLXRlYW0nKS5jc3MoJ2NvbG9yJywgaG9tZVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTWFuIENpdHknOlxuICAgICAgICAgIGhvbWVUZWFtID0gbWFuQ2l0eTtcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtLCAjaG9tZUJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGhvbWVUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbScpLmNzcygnY29sb3InLCBob21lVGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFdmVydG9uJzpcbiAgICAgICAgICBob21lVGVhbSA9IGV2ZXJ0b247XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbSwgI2hvbWVCYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBob21lVGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5ob21lLXRlYW0nKS5jc3MoJ2NvbG9yJywgaG9tZVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQ2hlbHNlYSc6XG4gICAgICAgICAgaG9tZVRlYW0gPSBjaGVsc2VhO1xuICAgICAgICAgICQoJy5ob21lLXRlYW0sICNob21lQmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgaG9tZVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtJykuY3NzKCdjb2xvcicsIGhvbWVUZWFtLmNvbG9yc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0xlaWNlc3Rlcic6XG4gICAgICAgICAgaG9tZVRlYW0gPSBsZWljZXN0ZXI7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbSwgI2hvbWVCYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBob21lVGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5ob21lLXRlYW0nKS5jc3MoJ2NvbG9yJywgaG9tZVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQXJzZW5hbCc6XG4gICAgICAgICAgaG9tZVRlYW0gPSBhcnNlbmFsO1xuICAgICAgICAgICQoJy5ob21lLXRlYW0sICNob21lQmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgaG9tZVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtJykuY3NzKCdjb2xvcicsIGhvbWVUZWFtLmNvbG9yc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBob21lVGVhbS5wbGFjZSA9ICdob21lJztcbiAgICAgIGNvbnNvbGUubG9nKGhvbWVUZWFtKTtcbiAgICB9IGVsc2Uge1xuXG4gICAgICAkKCcuYXdheS10ZWFtIC50ZWFtLW5hbWUnKS50ZXh0KHNlbGVjdG9yKTtcblxuICAgICAgc3dpdGNoIChzZWxlY3Rvcikge1xuICAgICAgICBjYXNlICdUb3R0ZW5oYW0nOlxuICAgICAgICAgIGF3YXlUZWFtID0gc3B1cnM7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbSwgLnBvc3Nlc3Npb24tYmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgYXdheVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICAgICAkKCcuYXdheS10ZWFtJykuY3NzKCdjb2xvcicsIGF3YXlUZWFtLmNvbG9yc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ01hbiBVbml0ZWQnOlxuICAgICAgICAgIGF3YXlUZWFtID0gbWFuVW5pdGVkO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0sIC5wb3NzZXNzaW9uLWJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGF3YXlUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbScpLmNzcygnY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdMaXZlcnBvb2wnOlxuICAgICAgICAgIGF3YXlUZWFtID0gbGl2ZXJwb29sO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0sIC5wb3NzZXNzaW9uLWJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGF3YXlUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbScpLmNzcygnY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdNYW4gQ2l0eSc6XG4gICAgICAgICAgYXdheVRlYW0gPSBtYW5DaXR5O1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0sIC5wb3NzZXNzaW9uLWJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGF3YXlUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbScpLmNzcygnY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFdmVydG9uJzpcbiAgICAgICAgICBhd2F5VGVhbSA9IGV2ZXJ0b247XG4gICAgICAgICAgJCgnLmF3YXktdGVhbSwgLnBvc3Nlc3Npb24tYmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgYXdheVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICAgICAkKCcuYXdheS10ZWFtJykuY3NzKCdjb2xvcicsIGF3YXlUZWFtLmNvbG9yc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0NoZWxzZWEnOlxuICAgICAgICAgIGF3YXlUZWFtID0gY2hlbHNlYTtcbiAgICAgICAgICAkKCcuYXdheS10ZWFtLCAucG9zc2Vzc2lvbi1iYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0nKS5jc3MoJ2NvbG9yJywgYXdheVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTGVpY2VzdGVyJzpcbiAgICAgICAgICBhd2F5VGVhbSA9IGxlaWNlc3RlcjtcbiAgICAgICAgICAkKCcuYXdheS10ZWFtLCAucG9zc2Vzc2lvbi1iYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0nKS5jc3MoJ2NvbG9yJywgYXdheVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQXJzZW5hbCc6XG4gICAgICAgICAgYXdheVRlYW0gPSBhcnNlbmFsO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0sIC5wb3NzZXNzaW9uLWJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGF3YXlUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbScpLmNzcygnY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgYXdheVRlYW0ucGxhY2UgPSAnYXdheSc7XG4gICAgICBjb25zb2xlLmxvZyhhd2F5VGVhbSk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coc2VsZWN0b3IpO1xuICAgIC8vIFBhc3MgaW4gdGhlIG9iamVjdCB2YWx1ZXMgdG8gaG9tZVRlYW1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlQ29tbWVudGFyeShzY2VuYXJpbywgcGxheWVyKSB7XG4gICAgY29uc3QgY29tbWVudGFyeSA9IHtcbiAgICAgIGdvYWw6IFsnR29hbCEnLCAnSGVcXCdzIHNjb3JlZCEnLCBgVGhhdCdzIGEgZ3JlYXQgZmluaXNoIWAsIGBXaGF0IGEgZ29hbCBieSAke3BsYXllci5uYW1lfWAsIGAke3BsYXllci5uYW1lfSBmaW5pc2hlcyBvZmYgdGhlIG1vdmUhYF0sXG4gICAgICBmcmVla2ljazogW2BJdCdzIGEgZnJlZWtpY2tgLCBgJHtwbGF5ZXIubmFtZX0gdG8gdGFrZSB0aGUgZnJlZWtpY2tgLCBgSGUgbGluZXMgdXAgdGhlIGZyZWVraWNrYCwgYFRoaXMgaXMgYSBjaGFuY2UgdG8gZ2V0IGEgY3Jvc3MgaW5gXSxcbiAgICAgIHdhc3RlZEZyZWVraWNrOiBbYCR7cGxheWVyLm5hbWV9IGxvc2VzIHBvc3Nlc3Npb25gLCBgVGhhdCdzIGVuZGVkIHVwIGluIHJvdyBaYCwgYFRoZSBhdHRhY2sgYW1vdW50cyB0byBub3RoaW5nYCwgYCR7cGxheWVyLm5hbWV9IGhhcyB3YXN0ZWQgdGhhdCBvcHBvcnR1bml0eWAsIGAke3BsYXllci5uYW1lfSdzIGVmZm9ydCBnb2VzIG92ZXIgdGhlIGJhcmAsIGBIZSBoYW5kcyBiYWNrIHBvc3Nlc3Npb24gdG8gdGhlIG90aGVyIHRlYW1gXSxcbiAgICAgIHllbGxvdzogW2BIZSdzIGdvaW5nIGluIHRoZSBib29rYCwgYE91Y2ghICR7cGxheWVyLm5hbWV9IHdpbGwgZ2V0IGEgeWVsbG93IGZvciB0aGF0YCwgYFRoYXQncyBhIGJvb2tpbmdgLCBgSXQncyBhIHllbGxvdyFgLCBgVGhlIHJlZiBpcyB0YWtpbmcgaGlzIG5hbWVgXSxcbiAgICAgIHNlY29uZFllbGxvdzogW2BIZSdzIGFscmVhZHkgYmVlbiBib29rZWQuLi5gLCBgVGhhdCdzIGEgc2Vjb25kIHllbGxvd2AsIGAke3BsYXllci5uYW1lfSBpcyBzaG93biBhIHJlZCFgLCBgJHtwbGF5ZXIubmFtZX0gaXMgb2ZmYF0sXG4gICAgICBzdHJhaWdodFJlZDogW2Ake3BsYXllci5uYW1lfSBpcyBzaG93biBhIHN0cmFpZ2h0IHJlZCFgLCBgJHtwbGF5ZXIubmFtZX0gaXMgb2ZmYCwgYFRoZSByZWYgaGFzIGdpdmVuIGhpbSBzdHJhaWdodCByZWQhYF0sXG4gICAgICBwZW5hbHR5OiBbYFRoZSByZWZlcmVlIHBvaW50cyB0byB0aGUgc3BvdGAsIGBUaGF0J3MgYSBwZW5hbHR5YCwgYCR7cGxheWVyLm5hbWV9IGlzIGZvdWxlZCBpbiB0aGUgYXJlYWAsIGBUaGUgcmVmIGJsb3dzIGhpcyB3aGlzdGxlLiBQZW5hbHR5LmBdLFxuICAgICAgbWlzc2VkUGVuYWx0eTogW2BTYXZlZCFgLCBgSXQncyBvdmVyIHRoZSBiYXJgLCBgJHtwbGF5ZXIubmFtZX0gaGFzIG1pc3NlZCBpdCFgLCBgT2ggZGVhciEgJHtwbGF5ZXIubmFtZX0ncyBwdXQgaXQgd2lkZSdgXSxcbiAgICAgIGluanVyeTogW2Ake3BsYXllci5uYW1lfSdzIGlzIGdvaW5nIG9mZmAsYCR7cGxheWVyLm5hbWV9IGlzIGluanVyZWRgLGAke3BsYXllci5uYW1lfSBjYW4ndCBjb250aW51ZWBdLFxuICAgICAgY2hhbmNlOiBbYFRoZSBiYWxsIGlzIHdhc3RlZGAsIGBQb3NzZXNzaW9uIGlzIHNsb3BwaWx5IGdpdmVuIGF3YXlgLCBgVGhhdCBpcyB3YXN0ZWRgLCBgVGhlIHJlZmVyZWUgcHVsbHMgYmFjayBwbGF5YCwgYFRoZSBiYWxsIGdvZXMgb3V0IGZvciBhIHRocm93YCwgYEdvb2QgaW50ZXJjZXB0aW9uIWAsIGBIZSdzIHJvYmJlZCBoaW0gb2YgcG9zc2VzaW9uYF1cbiAgICB9O1xuICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gZ2VuUmFuZG9tVmFsdWUoY29tbWVudGFyeVtzY2VuYXJpb10ubGVuZ3RoKTtcbiAgICBjb25zdCBtZXNzYWdlID0gY29tbWVudGFyeVtzY2VuYXJpb11bcmFuZG9tSW5kZXhdO1xuICAgICRjb21tZW50YXJ5Qm94LnRleHQoYCR7bWVzc2FnZX1gKTtcblxuICB9XG5cbn0pO1xuIl19
