"use strict";var _slicedToArray=function(){function e(e,a){var s=[],o=!0,t=!1,r=void 0;try{for(var n,i=e[Symbol.iterator]();!(o=(n=i.next()).done)&&(s.push(n.value),!a||s.length!==a);o=!0);}catch(e){t=!0,r=e}finally{try{!o&&i.return&&i.return()}finally{if(t)throw r}}return s}return function(a,s){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return e(a,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();$(function(){function e(e){$(".team-panel").html(""),$(".formation").val(e.formation),e.players.sort(function(e,a){return E.indexOf(e.position)<E.indexOf(a.position)?-1:1});for(var a=0;a<e.players.length;a++){var s=e.players[a],o=s.playing?"&#10004;":"&#10007;";$(".team-panel").append('<p class="player-line '+s.position+" "+s.status+"\" id='"+s.name+"'>\n          <span class=\"starting "+s.status+'" id="'+a+'">'+o+'</span>\n          <span class="player-position ">'+s.position+'</span>\n          <span class="player-name">'+s.name+'</span>\n          <span class="player-stat">'+s.attack+'</span>\n          <span class="player-stat">'+s.defence+'</span>\n          <span class="player-stat">'+s.creativity+'</span>\n          <span class="player-stat">'+s.defence+'</span>\n          <span class="player-stat">'+s.fitness+"</span>\n        </p>")}}function a(e){$(".team-display").html("");var a=["1"].concat(e.formation.split("-")),s=0,o=0;try{a.map(function(a){for(var t=parseFloat(a),r=0;r<t;){if(e.players[s].playing||"ejected"===e.players[s].status){var n=E[o]!==e.players[s].position?"warning":"";$(".team-display").append("<span class='player-block "+n+" "+e.players[s].status+"'>"+e.players[s].name+"</span>"),e.players[s].chosenPosition=E[o],r++}console.log(s),s++}$(".team-display").append('<div class="seperate-players">'),o++})}catch(e){$(".team-display").append("<p class='team-selection-warning seperate-players'>Less than 11 players selected!</p>")}}function s(e,s){if(e.players[s].playing=!e.players[s].playing,a(w),e.players[s].playing){if($("#"+s).html("&#10004;"),F){console.log("clicked"),$("#"+s).parent().css({background:"green"});var t=e.players[s];o(e,t)}}else if($("#"+s).html("&#10007;"),F){$("#"+s).parent().css({"pointer-events":"none",background:"red"});var r=e.players[s];o(e,r)}}function o(e,a){e.subs<7?a.playing?($("#"+e.place+"Events").append("<i class='fa fa-arrow-right' style='font-size: 22px; color:green; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+a.name+" substituted<br/>"),e.subs+=1,a.playing=!0,a.status="subbed-on"):($("#"+e.place+"Events").append("<i class='fa fa-arrow-right' style='font-size: 22px; color:red; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+a.name+" substituted<br/>"),e.subs+=1,a.playing=!1,a.status="subbed-off"):console.log("You have had 3 subs!")}function t(){44===x&&(g.text("That's half-time!"),P=!P,k.text("Play")),90===x?(g.text("That's full-time!"),clearInterval(z),k.text("Finish")):(x++,h.text(x))}function r(e){return Math.floor(Math.random()*e)}function n(){var e=document.getElementById("homeBar");T=V.averagePlayerValues("creativity")/(V.averagePlayerValues("creativity")+B.averagePlayerValues("creativity"))*100+(Math.random()<.5?-r(6):r(6)),console.log(V.averagePlayerValues("creativity")),console.log(B.averagePlayerValues("creativity")),e.style.width=T+"%"}function i(){return r(V.averagePlayerValues("creativity")+V.averagePlayerValues("fitness"))>=r(B.averagePlayerValues("creativity")+B.averagePlayerValues("fitness"))?(g.css("background-color",V.colors[0]),g.css("color",V.colors[1]),r(20)%4==0&&(g.text(f("chance","")),V.increaseValues(3,"attack",["midfielder","striker"]),V.increaseValues(3,"creativity",["midfielder","striker"])),[V,"home",B]):(g.css("background-color",B.colors[0]),g.css("color",B.colors[1]),r(20)%4==0&&(B.increaseValues(3,"attack",["midfielder","striker"]),B.increaseValues(3,"creativity",["midfielder","striker"]),g.text(f("chance",""))),[B,"away",V])}function l(e,a,s){var o=null,t=null,n=e.randomPlayer(),i=s.randomPlayerByPosition("defender");r(n.attack)>r(i.defence)&&("home"===a?(t=b.text(),o=parseFloat(t)+1,b.text(o)):(t=v.text(),o=parseFloat(t)+1,v.text(o)),f("goal",n),$("#"+a+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:white; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+n.name+" scored<br/>"))}function c(e,a,s){console.log("YELLOW");var o=s.randomPlayer(),t="home"===a?"away":"home";r(o.discipline)+(100-x)<90&&"ejected"!==o.status&&("yellow"===o.status?(g.css("background-color","#FF0000"),g.css("color","#FFFFFF"),f("secondYellow",o),$("#"+t+"Events").append("<i class='fa fa-square event-item' style='font-size: 24px; color: red; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+o.name+" sent off<br/>"),o.status="ejected",o.playing=!1):(g.css("background-color","yellow"),g.css("color","#000000"),f("yellow",o),o.defence-=8,$("#"+t+"Events").append("\n          <i class='fa fa-square event-item' style='font-size: 24px; color: yellow; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+o.name+" booked<br/>"),o.status="yellow",o.fitness-=r(5)))}function d(e,a){var s=e.randomPlayer();if(r(101)%40==0)if(f("injury",s),$("#"+a+"Events").append("<i class='fa fa-plus' style='font-size: 26px; color: green; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+s.name+" injured<br/>"),"away"===e.place){s.playing=!s.playing,o(B,s);var t=B.randomSubstitute(s.position);t.playing=!t.playing,o(B,t)}else"home"===e.place&&(s.fitness=0+r(30),s.status="injured",s.playing=!1);else s.fitness-=r(15),s.defence-=r(10),s.attack-=r(150),g.text(s.name+"'s limping, but he'll be okay")}function p(e,a,s){var o=e.randomPlayerByPosition("midfielder"),t=s.randomPlayerByPosition("goalkeeper").defence+s.averagePlayerValues("defender");if(o.attack>t){var r=null,n=null;"home"===a?(n=b.text(),r=parseFloat(n)+1,b.text(r)):(n=v.text(),r=parseFloat(n)+1,v.text(r)),f("freekick",o),$("#"+a+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:white; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+o.name+" scored<br/>"),o.attack+=5}else f("wastedFreekick",o),o.creativity-=2,e.reduceValues(10,"attack",["striker","midfielder","defender"])}function m(e,a,s){var o=e.randomPlayerByPosition("striker"),t=s.randomPlayerByPosition("goalkeeper"),n=s.randomPlayerByPosition("defender"),i="home"===a?"away":"home";if(r(100)>25&&(n.status="yellow",$("#"+i+"Events").append("<i class='fa fa-square event-item' style='font-size: 24px; color: yellow; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+n.name+" booked<br/>")),2*r(o.attack)>r(t.defence)){var l=null,c=null;"home"===a?(c=b.text(),l=parseFloat(c)+1,b.text(l)):(c=v.text(),l=parseFloat(c)+1,v.text(l)),f("penalty",o),$("#"+a+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:white; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+o.name+" scores penalty<br/>"),o.attack+=5}else f("missedPenalty",o),$("#"+a+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:red; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+o.name+" missed penalty<br/>"),t.defence+=10,o.attack-=10}function u(e,a){var s=e.randomPlayer();if(r(s.discipline)+(100-x)<25){s.playing=!1,s.status="ejected";var o="home"===a?"away":"home";f("straightRed",s),$("#"+o+"Events").append("<i class='fa fa-square' style='font-size: 24px; color: red; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+s.name+" sent off<br/>")}}function y(e,a){if(null===V){switch($(".home-team  .team-name").text(a),a){case"Tottenham":V=spurs,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Man United":V=manUnited,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Liverpool":V=liverpool,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Man City":V=manCity,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Everton":V=everton,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Chelsea":V=chelsea,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Leicester":V=leicester,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Arsenal":V=arsenal,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1])}V.place="home",console.log(V)}else{switch($(".away-team .team-name").text(a),a){case"Tottenham":B=spurs,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Man United":B=manUnited,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Liverpool":B=liverpool,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Man City":B=manCity,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Everton":B=everton,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Chelsea":B=chelsea,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Leicester":B=leicester,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Arsenal":B=arsenal,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1])}B.place="away",console.log(B)}console.log(a)}function f(e,a){var s={goal:["Goal!","He's scored!","That's a great finish!","What a goal by "+a.name,a.name+" finishes off the move!"],freekick:["It's a freekick",a.name+" to take the freekick","He lines up the freekick","This is a chance to get a cross in"],wastedFreekick:[a.name+" loses possession","That's ended up in row Z","The attack amounts to nothing",a.name+" has wasted that opportunity",a.name+"'s effort goes over the bar","He hands back possession to the other team"],yellow:["He's going in the book","Ouch! "+a.name+" will get a yellow for that","That's a booking","It's a yellow!","The ref is taking his name"],secondYellow:["He's already been booked...","That's a second yellow",a.name+" is shown a red!",a.name+" is off"],straightRed:[a.name+" is shown a straight red!",a.name+" is off","The ref has given him straight red!"],penalty:["The referee points to the spot","That's a penalty",a.name+" is fouled in the area","The ref blows his whistle. Penalty."],missedPenalty:["Saved!","It's over the bar",a.name+" has missed it!","Oh dear! "+a.name+"'s put it wide'"],injury:[a.name+"'s is going off",a.name+" is injured",a.name+" can't continue"],chance:["The ball is wasted","Possession is sloppily given away","That is wasted","The referee pulls back play","The ball goes out for a throw","Good interception!","He's robbed him of possesion"]},o=r(s[e].length),t=s[e][o];g.text(""+t)}var h=$(".changing-minutes"),g=$("#commentaryBox"),k=$(".primary-button"),b=$(".home-team .score"),v=$(".away-team .score"),w=null,x=0,P=!1,T=50,V=null,B=null,F=!1,E=["goalkeeper","defender","midfielder","striker"],z=setInterval(function(){if(P){var e=r(100)+1;console.log(x+": "+e);var a=i(),s=_slicedToArray(a,3),y=s[0],f=s[1],h=s[2];if(e%18==0&&(l(y,f,h),y.increaseValues(5,"attack",["midfielder","striker"]),y.increaseValues(5,"creativity",["midfielder","striker"]),h.reduceValues(5,"defence",["midfielder","defender","goalkeeper"])),e%(r(30)+90)==0&&(m(y,f,h),h.reduceValues(3,"defence",["midfielder","defender","goalkeeper"])),e%90==0&&(u(h,f),h.reduceValues(10,"defence",["striker","midfielder","defender","goalkeeper"]),h.reduceValues(10,"attack",["striker","midfielder","defender","goalkeeper"]),h.reduceValues(10,"creativity",["striker","midfielder","defender","goalkeeper"])),e%22==0&&(p(y,f,h),y.increaseValues(5,"attack",["midfielder","striker"]),y.increaseValues(5,"creativity",["midfielder","striker"])),e%18==0&&c(y,f,h),e%25==0&&(d(y,f),h.reduceValues(3,"creativity",["striker","midfielder","defender","goalkeeper"])),e%10==0&&B.subs<6&&x>50){var g=r(E.length)+1,k=E[g];if(E[g]){var b=B.randomPlayerByPosition(k,"subbed-on");b.playing=!b.playing,o(B,b);var v=B.randomSubstitute(k);v.playing=!v.playing,o(B,v)}}var $=r(E.length)+1,w=E[$];h.reduceValues(r(10),"fitness",[w]),n(),t()}},10);$(".team-input").on("click",function(e){var a=e.target.innerHTML;null===V?(y(V,a),console.log("homeTeam now selected!"),$(".title-message").text("Home team chosen. Now chose your opponent.")):(y(B,a),console.log("awayTeam now selected!"),$(".title-message").text("Opponent selected. Now edit tactics or proceed to match."))}),$("#revealTeam").on("click",function(){a(w)}),$(".team-panel").on("click",function(e){var a=e.target.id;s(w,a)}),k.on("click",function(){P=!P,$("#match-setup, .info-message, .team-setup").hide(),$("#match-engine, .away-team, .home-team, .timer").show(),P?(k.text("Pause"),F=!0):k.text("Play")}),$("#homeTeam").on("click",function(){P&&(P=!P),k.text("Play"),$(".match-setup, .match-engine").hide(),$(".team-setup").show(),e(V),w=V,a(w)}),$("#awayTeam").on("click",function(){P&&(P=!P),k.text("Play"),$(".match-setup, .match-engine").hide(),$(".team-setup").show(),e(B),w=B,a(w)}),$(".go-back").on("click",function(){$(".team-setup").hide(),$(".match-setup").show()}),$(".formation").on("change",function(e){var s=e.target.value;w.formation=s,a(w)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwic2V0dXBUYWN0aWNzIiwidGVhbU9iamVjdCIsImh0bWwiLCJ2YWwiLCJmb3JtYXRpb24iLCJ0ZWFtVGFjdGljcyIsIm5ld0Zvcm1hdGlvbiIsInJldmVhbFRlYW0iLCJhIiwicG9zaXRpb24iLCJwb3NpdGlvbnMiLCJpbmRleE9mIiwiYiIsInBsYXllcnMiLCJsZW5ndGgiLCJpIiwicGxheWVyIiwic3RhcnRpbmdFbGV2ZW4iLCJzdGF0dXMiLCJuYW1lIiwicGxheWluZyIsImF0dGFjayIsImRlZmVuY2UiLCJjcmVhdGl2aXR5IiwiZml0bmVzcyIsInBsYXllck51bWJlciIsInBvc2l0aW9uTnVtYmVyIiwiY29uY2F0Iiwic3BsaXQiLCJwYXJzZUZsb2F0IiwibWFwIiwiYXJyYXlJdGVtIiwid2FybmluZ01lc3NhZ2UiLCJpdGVyYXRpb25zIiwiYXBwZW5kIiwiY29uc29sZSIsImNob3NlblBvc2l0aW9uIiwibG9nIiwiZ2FtZVN0YXJ0ZWQiLCJzZWxlY3RlZFBsYXllciIsInN1YnN0aXR1dGUiLCJwbGF5ZXJPbiIsInBhcmVudCIsImNzcyIsImJhY2tncm91bmQiLCJwbGF5ZXJPZmYiLCJwb2ludGVyLWV2ZW50cyIsInN1YnMiLCJwbGFjZSIsIm1hdGNoVGltZSIsIiRjb21tZW50YXJ5Qm94IiwidGV4dCIsIiRwcmltYXJ5QnV0dG9uIiwiJG1hdGNoVGltZSIsImdlblJhbmRvbVZhbHVlIiwiY2xlYXJJbnRlcnZhbCIsImZsb29yIiwiYXZlcmFnZVBsYXllclZhbHVlcyIsImF3YXlUZWFtIiwibW92ZSIsImF3YXlSYW5kb20iLCJ3aWR0aCIsImhvbWVSYW5kb20iLCJob21lVGVhbSIsIk1hdGgiLCJyYW5kb20iLCJjb2xvcnMiLCJlbGVtIiwic3R5bGUiLCJpbmNyZWFzZVZhbHVlcyIsImdlbmVyYXRlQ29tbWVudGFyeSIsInNlbGVjdFBsYXllciIsInRlYW0iLCJnZW5SYW5kb21JbmRleCIsInNjb3JlIiwidGVhbVN0cmluZyIsImRlZmVuZGluZ1RlYW0iLCJnZXRTY29yZSIsIiRhd2F5U2NvcmUiLCJyYW5kb21QbGF5ZXIiLCJyYW5kb21QbGF5ZXJCeVBvc2l0aW9uIiwiYXR0YWNraW5nUGxheWVyIiwiZGVmZW5kaW5nUGxheWVyIiwiJGhvbWVTY29yZSIsImhhbmRsZURpc2NpcGxpbmUiLCJhdHRhY2tpbmdUZWFtIiwiZGlzY2lwbGluZSIsImhhbmRsZUluanVyeSIsImFkZFBsYXllciIsImhhbmRsZUZyZWVraWNrIiwiZGVmZW5kaW5nVmFsdWUiLCJyZWR1Y2VWYWx1ZXMiLCJoYW5kbGVQZW5hbHR5IiwiYm9va2VkUGxheWVyIiwic3RyYWlnaHRSZWQiLCJzcHVycyIsIm1hblVuaXRlZCIsImxpdmVycG9vbCIsInNlbGVjdG9yIiwibWFuQ2l0eSIsImV2ZXJ0b24iLCJjaGVsc2VhIiwibGVpY2VzdGVyIiwiYXJzZW5hbCIsImNvbW1lbnRhcnkiLCJnb2FsIiwiZnJlZWtpY2siLCJ3YXN0ZWRGcmVla2ljayIsInBlbmFsdHkiLCJjaGFuY2UiLCJtZXNzYWdlIiwieWVsbG93Iiwic2Vjb25kWWVsbG93IiwibWlzc2VkUGVuYWx0eSIsImluanVyeSIsInJhbmRvbUluZGV4Iiwic2NlbmFyaW8iLCJydW4iLCJldmVudFZhbHVlIiwidGltZXJJRCIsInNldEludGVydmFsIiwic2VsZWN0VGVhbSIsImdvYWxDaGFuY2UiLCJyYW5kb21Qb3NpdGlvbiIsInJlbW92ZVBsYXllciIsInJhbmRvbVN1YnN0aXR1dGUiLCJ0aW1lQ29udHJvbCIsImNvbmZpZ1RlYW0iLCJ1c2VyVGVhbSIsIm9uIiwiZSIsInRhcmdldCIsImlkIiwiY2hvb3NlUGxheWVycyIsImhpZGUiLCJzaG93IiwidmFsdWUiXSwibWFwcGluZ3MiOiJtY0FBQUEsR0FBRSxXQXVLQyxRQUhEQyxHQUFBQyxHQVlFRixFQUFFLGVBQWVHLEtBQUssSUFQdEJILEVBQUEsY0FBRkksSUFBbUJGLEVBQVVHLFdBRTNCQyxFQUFBQSxRQUFZRCxLQUFZRSxTQUFBQSxFQUFBQSxHQUN4QkMsTUFBQUEsR0FBV0YsUUFBWEcsRUFBQUMsVUFBQUMsRUFBQUMsUUFBQUMsRUFBQUgsV0FBQSxFQUFBLEdBR0YsS0FBQSxHQUFTVCxHQUFBQSxFQUFBQSxFQUFhQyxFQUF0QlksUUFBa0NDLE9BQUFDLElBQUEsQ0FDOUIsR0FBQUMsR0FBZWQsRUFBakJXLFFBQUFFLEdBQ0VFLEVBQWtCaEIsRUFBV0csUUFBL0IsV0FBQSxVQUdFTCxHQUFBLGVBQWlCWSxPQUFqQix5QkFERkssRUFBQVAsU0FDRSxJQURGTyxFQUFBRSxPQUNFLFVBREZGLEVBQUFHLEtBQ0Usd0NBVTRCSCxFQUFPRSxPQVZuQyxTQVVrREgsRUFWbEQsS0FVd0RFLEVBVnhELHFEQUdxQ0gsRUFBdkNMLFNBSEUsZ0RBSWtDTSxFQUFsQ0ksS0FKQSxnREFLOEJDLEVBQVVDLE9BTHhDLGdEQU1BTCxFQUFBTSxRQU5BLGdEQWVnQ04sRUFBT08sV0FmdkMsZ0RBUUFQLEVBQUFNLFFBUkEsZ0RBb0JETixFQUFBUSxRQXBCQywwQkF5Q0YsUUFBSUMsR0FBQUEsR0FDSjFCLEVBQUEsaUJBQUkyQixLQUFKLEdBSEEsSUFBTXRCLElBQWEsS0FBS3VCLE9BQU8xQixFQUFXRyxVQUFVd0IsTUFBTSxNQU14RHhCLEVBQWMsRUFDWnNCLEVBQW1CRyxDQUVuQixLQUNFekIsRUFBQTBCLElBQUEsU0FBQUMsR0FHRWhDLElBRkYsR0FBSUUsR0FBV1ksV0FBUVksR0FDckJWLEVBQU1pQixFQUNKakIsRUFBQWtCLEdBQWlCQyxDQUluQm5CLEdBQUFBLEVBQUFBLFFBQUFBLEdBQUFBLFNBQUFBLFlBQUFBLEVBQUFBLFFBQUFBLEdBQUFBLE9BQUFBLENBQ0QsR0FBQWlCLEdBQUF0QixFQUFBZ0IsS0FBQXpCLEVBQUFZLFFBQUFZLEdBQUFoQixTQUFBLFVBQUEsRUFDRDBCLEdBQUFBLGlCQUFZVixPQUFaVSw2QkFDQVYsRUFEQVUsSUFDQVYsRUFBQUEsUUFBQUEsR0FBQUEsT0FEQVUsS0FDQVYsRUFBQUEsUUFBQUEsR0FBQUEsS0FEQVUsV0FHQWxDLEVBQUFZLFFBQWlCcUIsR0FBT0UsZUFBQTFCLEVBQTFCZ0IsR0FDQUEsSUFFRlMsUUFBV0UsSUFBQVosR0FDVEEsSUFFTDFCLEVBQUEsaUJBQUFtQyxPQUFBLGtDQUxLUixNQVFKekIsTUFBQUEsR0FDQUYsRUFBQSxpQkFBQW1DLE9BQUEsMEZBSUUsUUFBSUksR0FBYXJDLEVBQUFzQyxHQUlmQyxHQUhBTCxFQUFBQSxRQUFZSSxHQUFabkIsU0FBQW5CLEVBQUFZLFFBQUEwQixHQUFBbkIsUUFFQWIsRUFBTWtDLEdBQ05ELEVBQVd2QyxRQUFBQSxHQUFYbUIsU0FOSixHQU9HckIsRUFBQUEsSUFBQXdDLEdBQUFyQyxLQUFBLFlBUEhvQyxFQVFPLENBQ0x2QyxRQUFNd0MsSUFBQUEsV0FDTnhDLEVBQUFBLElBQUl1QyxHQUFhSSxTQUFBQyxLQUFBQyxXQUFBLFNBQ2Y3QyxJQUFBQSxHQUFNd0MsRUFBa0JHLFFBQXhCSCxFQUNBQyxHQUFNSyxFQUFZNUMsUUFNdkIsSUFGRUYsRUFBQUEsSUFBQXdDLEdBQUFyQyxLQUFBLFlBRUZvQyxFQUFBLENBUEt2QyxFQUFBQSxJQUFNd0MsR0FBa0JHLFNBQVNDLEtBQUtHLGlCQUFrQixPQUFRRixXQUFjLE9BU3BGLElBQVNKLEdBQVd2QyxFQUFZZSxRQUFRdUIsRUFDbEN0QyxHQUFXOEMsRUFBVUYsSUFPckI5QyxRQUFBQSxHQUFNRSxFQUFOZSxHQUNBZixFQUFXOEMsS0FBWCxFQUNBL0IsRUFBT0ksU0FNWnJCLEVBQUFBLElBQUFFLEVBQUErQyxNQUFBLFVBQUFkLE9BQUEsOEdBQUFlLEVBQUEsVUFBQWpDLEVBQUFHLEtBQUEscUJBUEtsQixFQUFXOEMsTUFBUSxFQVN6Qi9CLEVBQUFJLFNBQUEsRUFQTUosRUFBT0UsT0FBUyxjQUFoQkYsRUFBQUEsSUFBQUEsRUFBZ0JnQyxNQUFoQmhDLFVBQUFrQixPQUFBbEIsNEdBQUFpQyxFQUFBakMsVUFBQUEsRUFBQUcsS0FBQUgscUJBQ0RmLEVBQUE4QyxNQUFBLEVBWEgvQixFQVlPSSxTQUFBLEVBQ0xlLEVBQVFFLE9BQUksY0FBWkYsUUFBUUUsSUFBSSx3QkFpQlphLFFBQUFBLEtBRWVDLEtBQWZDLElBSEZGLEVBSU9DLEtBSlAscUJBS0VGLEdBQUFBLEVBQ0FJLEVBQUFGLEtBQWdCRixTQU5ELEtBQWRBLEdBV0xDLEVBQVNJLEtBQVQscUJBQ0VDLGNBQWFDLEdBQ2RKLEVBQUFELEtBQUEsWUFFREYsSUFUSUksRUFBV0YsS0FBS0YsSUFlbEJkLFFBQUFBLEdBQXFCc0IsR0FDckJ0QixNQUFRRSxNQUFJcUIsTUFBQUEsS0FBU0QsU0FBQUEsR0FQdkIsUUFBU0UsS0FhUCxHQUFNQyxHQUFBQSxTQUFjTixlQUFlSSxVQUVuQ0csR0FBSUMsRUFBY0Ysb0JBQVksZUFBQUcsRUFBQU4sb0JBQUEsY0FBQUMsRUFBQUQsb0JBQUEsZUFBQSxLQUFBTyxLQUFBQyxTQUFBLElBQUFYLEVBQUEsR0FBQUEsRUFBQSxJQUM1QkosUUFBQUEsSUFBQUEsRUFBbUJPLG9CQUFvQk0sZUFDdkNiLFFBQUFBLElBQUFBLEVBQW1CTyxvQkFBa0JTLGVBQ3JDQyxFQUFBQyxNQUFJZCxNQUFBQSxFQUFxQixJQUd2QlMsUUFBQUEsS0FJRmIsTUFIQ0ksR0FBQVMsRUFBQU4sb0JBQUEsY0FBQU0sRUFBQU4sb0JBQUEsYUFDaUJILEVBQVFJLEVBQTFCRCxvQkFBQSxjQUFBQyxFQUFBRCxvQkFBQSxhQUdBUCxFQUFlUCxJQUFJLG1CQUFrQnVCLEVBQXJDQSxPQUFBLElBQ0FoQixFQUFJSSxJQUFlLFFBQWZTLEVBQTZCRyxPQUFBLElBQy9CUixFQUFTVyxJQUFULEdBQTBCLElBQzFCWCxFQUFTVyxLQUFBQSxFQUFULFNBQXdDLEtBQ3hDbkIsRUFBQUEsZUFBb0JvQixFQUFBQSxVQUFBQSxhQUE0QixZQUNqRFAsRUFBQU0sZUFBQSxFQUFBLGNBQUEsYUFBQSxjQUVGTixFQUFBLE9BQUFMLEtBUkNSLEVBQWVQLElBQUksbUJBQW9CZSxFQUFTUSxPQUFPLElBVzNEaEIsRUFBU3FCLElBQWFDLFFBQU1kLEVBQUFRLE9BQUEsSUFDcEJPLEVBQWlCVCxJQUFLUixHQUFNUSxJQUNsQ04sRUFBWTdDLGVBQVE0RCxFQUFBQSxVQUFwQixhQUFBLFlBQ0RmLEVBQUFXLGVBQUEsRUFBQSxjQUFBLGFBQUEsWUFUS25CLEVBQWVDLEtBQUttQixFQUFtQixTQUFTLE9BWXBEWixFQUFBLE9BQUFLLElBU0lXLFFBQUFBLEdBQVE3QyxFQUFBOEMsRUFBUkMsR0FFRCxHQUpERixHQUlPLEtBQ0xHLEVBQVdDLEtBQ1hKLEVBQW1CRyxFQUFuQkUsZUFDQUQsRUFBZ0JKLEVBQWhCTSx1QkFBQSxXQUVGMUIsR0FBQTJCLEVBQUE1RCxRQUFBaUMsRUFBQTRCLEVBQUE1RCxXQUNtQixTQUFuQmdELEdBVEVPLEVBQVdNLEVBQVdoQyxPQVd4QnBELEVBQU00RSxXQUFORSxHQUEwQjNDLEVBQzNCaUQsRUFBQWhDLEtBQUF1QixLQVJHRyxFQUFXQyxFQUFXM0IsT0FXNUJ1QixFQUFTVSxXQUFUUCxHQUEwQlEsRUFDeEJsRCxFQUFZZ0IsS0FBWnVCLElBR0FKLEVBQW9CWSxPQUFBQSxHQUVsQm5GLEVBQUFBLElBQUltRixFQUFKLFVBQUloRCxPQUFKLDJHQUF5Q2UsRUFBekMsVUFBeUNnQyxFQUFBOUQsS0FBekMsaUJBS0VtRCxRQUFBQSxHQUFtQmUsRUFBZ0JILEVBQUFBLEdBQ25DbkYsUUFBQUEsSUFBTXlFLFNBQ05VLElBQUFBLEdBQWdCaEUsRUFBaEI2RCxlQUNBUCxFQUFBLFNBQUFHLEVBQUEsT0FBQSxNQUNBTyxHQUFnQjlELEVBQWhCa0UsYUFBQSxJQUFBckMsR0FBQSxJQUFBLFlBQUFpQyxFQUFBaEUsU0FHSyxXQVpQZ0UsRUFZT2hFLFFBQ0xnQyxFQUFlUCxJQUFJLG1CQUFvQixXQUN2Q08sRUFBZVAsSUFBSSxRQUFTLFdBRzVCdUMsRUFBZ0I1RCxlQUFoQjRELEdBQ0FuRixFQUFBQSxJQUFBeUUsRUFBQSxVQUFBdEMsT0FBQSxtSEFBQWUsRUFBQSxVQUFBaUMsRUFBQS9ELEtBQUEsa0JBQ0FwQixFQUFBbUIsT0FBb0JnQixVQUdwQmdELEVBQWdCMUQsU0FBaEIsSUFUQTBCLEVBQWVQLElBQUksbUJBQW9CLFVBYzdDTyxFQUFBUCxJQUFzQjBDLFFBQUFBLFdBRXBCZixFQUFBLFNBQUFZLEdBQ0k1QixFQUFlaEMsU0FBZixFQUVGZ0QsRUFBQUEsSUFBQUEsRUFBQUEsVUFBbUJwQyxPQUFuQm9DLGtJQUNBckIsRUFEQXFCLFVBQ0FZLEVBQXlJakMsS0FEeklxQixnQkFFQVksRUFBa0JsQyxPQUFkLFNBQ0ZpQyxFQUFnQjdELFNBQVc2RCxFQUFBQSxLQUs1QixRQU5ETSxHQU1XRixFQUFBVixHQUNUTSxHQUFBQSxHQUFnQnpELEVBQWM4QixjQUU5QjJCLElBQUFBLEVBQUFBLEtBQWdCN0QsSUFBVSxFQWI5QixHQWVHa0QsRUFBQSxTQUFBVyxHQUNEbEYsRUFBQUEsSUFBQTRFLEVBQUEsVUFBQXpDLE9BQUEsd0dBQUFlLEVBQUEsVUFBQWdDLEVBQUE5RCxLQUFBLGlCQUVLLFNBbEJQa0UsRUFrQk9yQyxNQUFBLENBQ0xpQyxFQUFnQnpELFNBQVc4QixFQUEzQmxDLFFBQ0E2RCxFQUFBQSxFQUFBQSxFQUNBQSxJQUFBQSxHQUFnQjVELEVBQVVpQyxpQkFBb0IyQixFQUFBeEUsU0FDOUN5QyxHQUFBQSxTQUF1QitCLEVBQUFBLFFBQ3hCekMsRUFBQWtCLEVBQUE4QixPQUVGLFNBQUFILEVBQUFyQyxRQWRLaUMsRUFBZ0J6RCxRQUFVLEVBQUk4QixFQUFlLElBZ0JuRDJCLEVBQVNRLE9BQWVKLFVBQ2hCSixFQUFBQSxTQUFrQkksT0FNdEJKLEdBQWV6RCxTQUFmOEIsRUFBQSxJQUNBMkIsRUFBSU4sU0FBdUJyQixFQUFBLElBQ3pCdUIsRUFBV00sUUFBV2hDLEVBQXRCLEtBQ0F1QixFQUFRN0MsS0FBV2dELEVBQW5CMUQsS0FBQXVELGlDQUtBSSxRQUFBQSxHQUFnQkosRUFBaEJDLEVBQUFDLEdBQ0QsR0FBQUssR0FBQUksRUFBQUwsdUJBQUEsY0FkR1UsRUFBa0JkLEVBQWNJLHVCQUF1QixjQUFjMUQsUUFBVXNELEVBQWNuQixvQkFBb0IsV0FpQnJIYSxJQUFBQSxFQUFBQSxPQUFtQm9CLEVBQVlULENBRS9CQSxHQUFBQSxHQUFBQSxLQWpCRkosRUFrQk8sSUFDYyxVQUFuQlAsR0FDQVcsRUFBQUEsRUFBZ0IxRCxPQUNoQjhELEVBQUFBLFdBQWNNLEdBQWlCLEVBQ2hDUixFQUFBaEMsS0FBQXVCLEtBRUhHLEVBQVNlLEVBQWNQLE9BZGpCWCxFQUFRN0MsV0FBV2dELEdBQVksRUFnQjdCSSxFQUFBQSxLQUFBQSxJQUlOWCxFQUFBLFdBQUFXLEdBQ0FsRixFQUFBQSxJQUFJdUQsRUFBSixVQUFBcEIsT0FBQSwyR0FBOEJlLEVBQTlCLFVBQThCZ0MsRUFBQTlELEtBQTlCLGdCQUNFOEQsRUFBQTVELFFBQUEsTUFFQXRCLEdBQUEsaUJBQUFrRixHQUNEQSxFQUFBMUQsWUFBQSxFQWRDOEQsRUFBY00sYUFBYSxHQUFJLFVBQVcsVUFBVyxhQUFjLGFBa0JuRSxRQUFJakIsR0FBSlcsRUFBQVYsRUFBQUMsR0FFQSxHQUFJRCxHQUFlVSxFQUFRTCx1QkFBQSxXQUN6QkgsRUFBV00sRUFBWEgsdUJBQUEsY0FDQU4sRUFBUTdDLEVBQXVCbUQsdUJBQS9CLFlBQ0FHLEVBQUEsU0FBQUEsRUFBQSxPQUFBLE1BUUZiLElBTkVPLEVBQVdDLEtBQVczQixLQUV0QjJCLEVBQVczQixPQUFLdUIsU0FDakIzRSxFQUFBQSxJQUFBeUUsRUFBQSxVQUFBdEMsT0FBQSxzSEFBQWUsRUFBQSxVQUFBNEMsRUFBQTFFLEtBQUEsaUJBRzZCOEQsRUFBOUJYLEVBQUFBLEVBQThCVyxRQUE5QjNCLEVBQUE0QixFQUFBNUQsU0FBQSxDQUVBMkQsR0FBQUEsR0FBQUEsS0FqQkZKLEVBa0JPLElBQ2MsVUFBbkJQLEdBQ0F2RSxFQUFNNEUsRUFBTnhCLE9BQ0ErQixFQUFBQSxXQUFnQjVELEdBQWhCLEVBQ0EyRCxFQUFBQSxLQUFnQjVELEtBRW5Cd0QsRUFBQUMsRUFBQTNCLE9BZEt1QixFQUFRN0MsV0FBV2dELEdBQVksRUFnQnJDQyxFQUFTZ0IsS0FBWWxCLElBSWpCTSxFQUFnQmhFLFVBQVMrRCxHQUN6QmxGLEVBQUFBLElBQU15RSxFQUFOLFVBQTRCdEMsT0FBNUIsMkdBQUFlLEVBQUEsVUFBQWdDLEVBQUE5RCxLQUFBLHdCQUNBOEQsRUFBQTVELFFBQUEsTUFFQXRCLEdBQUEsZ0JBQUFrRixHQUNBbEYsRUFBQUEsSUFBQTRFLEVBQUEsVUFBQXpDLE9BQUEseUdBQUFlLEVBQUEsVUFBQWdDLEVBQUE5RCxLQUFBLHdCQUNEK0QsRUFBQTVELFNBQUEsR0FDRjJELEVBQUE1RCxRQUFBLEdBSUd0QixRQUFFK0YsR0FBQWxCLEVBQUZELEdBQ0EsR0FBQU8sR0FBQU4sRUFBQUcsY0FDRSxJQUFBekIsRUFBSzRCLEVBQUxJLGFBQUEsSUFBQXJDLEdBQUEsR0FBQSxDQUNFYyxFQUFXZ0MsU0FBWCxFQUNBaEcsRUFBRW1CLE9BQUEsU0FDRm5CLElBQUV5RSxHQUFrQixTQUFsQkcsRUFBMkJaLE9BQVNHLE1BRXhDSSxHQUFBLGNBQUFZLEdBQ0VuQixFQUFBQSxJQUFBQSxFQUFBQSxVQUFXaUMsT0FBWGpDLHdHQUFBZCxFQUFBYyxVQUFBbUIsRUFBQS9ELEtBQUE0QyxtQkFLQUEsUUFBQUEsR0FBV2tDLEVBQUFBLEdBQ1hsRyxHQUFFLE9BQUZBLEVBQUUsQ0FFRixPQURBQSxFQUFBQSwwQkFBb0JvRCxLQUFTWSxHQUM3Qm1DLEdBQ0YsSUFBSyxZQUNIbkMsRUFBV29DLE1BQ1hwRyxFQUFFLHdCQUF3QjRDLElBQUksbUJBQW9Cb0IsRUFBU0csT0FBTyxJQUNsRW5FLEVBQUUsY0FBYzRDLElBQUksUUFBU29CLEVBQVNHLE9BQU8sR0FDN0MsTUFDRixLQUFLLGFBQ0hILEVBQVdxQyxVQUNYckcsRUFBRSx3QkFBd0I0QyxJQUFJLG1CQUFvQm9CLEVBQVNHLE9BQU8sSUFDbEVuRSxFQUFFLGNBQWM0QyxJQUFJLFFBQVNvQixFQUFTRyxPQUFPLEdBQzdDLE1BQ0YsS0FBSyxZQUNISCxFQUFXc0MsVUFDWHRHLEVBQUUsd0JBQXdCNEMsSUFBSSxtQkFBb0JvQixFQUFTRyxPQUFPLElBQ2xFbkUsRUFBRSxjQUFjNEMsSUFBSSxRQUFTb0IsRUFBU0csT0FBTyxHQUM3QyxNQUNGLEtBQUssV0FDSEgsRUFBV3VDLFFBQ1h2RyxFQUFFLHdCQUF3QjRDLElBQUksbUJBQW9Cb0IsRUFBU0csT0FBTyxJQUNsRW5FLEVBQUUsY0FBYzRDLElBQUksUUFBU29CLEVBQVNHLE9BQU8sR0FDN0MsTUFDRixLQUFLLFVBQ0hILEVBQVd3QyxRQUNYeEcsRUFBRSx3QkFBd0I0QyxJQUFJLG1CQUFvQm9CLEVBQVNHLE9BQU8sSUFDbEVuRSxFQUFFLGNBQWM0QyxJQUFJLFFBQVNvQixFQUFTRyxPQUFPLEdBQzdDLE1BeENKLEtBQUEsVUEwQ0FILEVBQUFzQyxRQUNBbEUsRUFBQUEsd0JBQUFRLElBQUEsbUJBQUFvQixFQUFBRyxPQUFBLElBN0NGbkUsRUE4Q08sY0FBQTRDLElBQUEsUUFBQW9CLEVBQUFHLE9BQUEsR0FkRCxNQWdCRixLQUFBLFlBZEVILEVBQVd1QyxVQWdCZnZHLEVBQUEsd0JBQUE0QyxJQUFBLG1CQUFBb0IsRUFBQUcsT0FBQSxJQUNFbkUsRUFBQSxjQUFBNEMsSUFBQSxRQUFBb0IsRUFBQUcsT0FBQSxHQUNFUixNQUNBM0QsS0FBRSxVQUNGQSxFQUFFd0csUUFDRnhHLEVBQUEsd0JBQUE0QyxJQUFBLG1CQUFBb0IsRUFBQUcsT0FBQSxJQUNGbkUsRUFBQSxjQUFBNEMsSUFBQSxRQUFBb0IsRUFBQUcsT0FBQSxJQUdFbkUsRUFBRWlELE1BQUEsT0FDRmIsUUFBQUUsSUFBQTBCLE9BQ0YsQ0FJRSxPQUZBaEUsRUFBQUEseUJBQUVvRCxLQUFBK0MsR0FFRkEsR0FDRixJQUFLLFlBQ0h4QyxFQUFXeUMsTUFDWHBHLEVBQUUsK0JBQStCNEMsSUFBSSxtQkFBb0JlLEVBQVNRLE9BQU8sSUFDekVuRSxFQUFFLGNBQWM0QyxJQUFJLFFBQVNlLEVBQVNRLE9BQU8sR0FDN0MsTUFDRixLQUFLLGFBQ0hSLEVBQVcwQyxVQUNYckcsRUFBRSwrQkFBK0I0QyxJQUFJLG1CQUFvQmUsRUFBU1EsT0FBTyxJQUN6RW5FLEVBQUUsY0FBYzRDLElBQUksUUFBU2UsRUFBU1EsT0FBTyxHQUM3QyxNQUNGLEtBQUssWUFDSFIsRUFBVzJDLFVBQ1h0RyxFQUFFLCtCQUErQjRDLElBQUksbUJBQW9CZSxFQUFTUSxPQUFPLElBQ3pFbkUsRUFBRSxjQUFjNEMsSUFBSSxRQUFTZSxFQUFTUSxPQUFPLEdBQzdDLE1BQ0YsS0FBSyxXQUNIUixFQUFXNEMsUUFDWHZHLEVBQUUsK0JBQStCNEMsSUFBSSxtQkFBb0JlLEVBQVNRLE9BQU8sSUFDekVuRSxFQUFFLGNBQWM0QyxJQUFJLFFBQVNlLEVBQVNRLE9BQU8sR0FDN0MsTUFDRixLQUFLLFVBQ0hSLEVBQVc2QyxRQUNYeEcsRUFBRSwrQkFBK0I0QyxJQUFJLG1CQUFvQmUsRUFBU1EsT0FBTyxJQUN6RW5FLEVBQUUsY0FBYzRDLElBQUksUUFBU2UsRUFBU1EsT0FBTyxHQUM3QyxNQXhDSixLQUFBLFVBMENBUixFQUFBMkMsUUFDQWxFLEVBQUFBLCtCQUFBUSxJQUFBLG1CQUFBZSxFQUFBUSxPQUFBLElBQ0RuRSxFQUFBLGNBQUE0QyxJQUFBLFFBQUFlLEVBQUFRLE9BQUEsR0FkSyxNQWdCTi9CLEtBQVFFLFlBQ1JxQixFQUFBNEMsVUFDRHZHLEVBQUEsK0JBQUE0QyxJQUFBLG1CQUFBZSxFQUFBUSxPQUFBLElBZE9uRSxFQUFFLGNBQWM0QyxJQUFJLFFBQVNlLEVBQVNRLE9BQU8sR0FnQnJELE1BQ1FzQyxLQUFBQSxVQUNKQyxFQUFNRixRQUNORyxFQUFBQSwrQkFBaUMxRixJQUFPRyxtQkFBOUJ1QyxFQUFBUSxPQUFBLElBQ1Z5QyxFQUFBQSxjQUFvQjNGLElBQU9HLFFBQVh1QyxFQUFBUSxPQUFBLElBR2hCNEIsRUFBQUEsTUFBaUI5RSxPQUNqQjRGLFFBQUFBLElBQVNsRCxHQUdUbUQsUUFBQUEsSUFBUVgsR0FJVmhELFFBQUFBLEdBQXVCNEQsRUFBdkI5RixHQUVELEdBQUF3RixJQXBvQkhDLE1BQUEsUUFBQSxlQUFBLHlCQUFBLGtCQUFBekYsRUFBQUcsS0FBQUgsRUFBQUcsS0FBQSwyQkFzbkJNdUYsVUFBVSxrQkFBdUIxRixFQUFPRyxLQUE5Qix3QkFBQSwyQkFBQSxzQ0FDVndGLGdCQUFvQjNGLEVBQU9HLEtBQVgsb0JBQUEsMkJBQUEsZ0NBQW9HSCxFQUFPRyxLQUEzRywrQkFBa0pILEVBQU9HLEtBQXpKLDhCQUFBLDhDQUNoQjRGLFFBQVEseUJBQUEsU0FBb0MvRixFQUFPRyxLQUEzQyw4QkFBQSxtQkFBQSxpQkFBQSw4QkFDUjZGLGNBQWMsOEJBQUEseUJBQTZEaEcsRUFBT0csS0FBcEUsbUJBQStGSCxFQUFPRyxLQUF0RyxXQUNkMkUsYUFBaUI5RSxFQUFPRyxLQUFYLDRCQUErQ0gsRUFBT0csS0FBdEQsVUFBQSx1Q0FDYnlGLFNBQVMsaUNBQUEsbUJBQTBENUYsRUFBT0csS0FBakUseUJBQUEsdUNBQ1Q4RixlQUFlLFNBQUEsb0JBQW1DakcsRUFBT0csS0FBMUMsa0JBQUEsWUFBNkVILEVBQU9HLEtBQXBGLG1CQUNmK0YsUUFBWWxHLEVBQU9HLEtBQVgsa0JBQW9DSCxFQUFPRyxLQUEzQyxjQUFnRUgsRUFBT0csS0FBdkUsbUJBQ1IwRixRQUFRLHFCQUFBLG9DQUFBLGlCQUFBLDhCQUFBLGdDQUFBLHFCQUFBLGlDQUVKTSxFQUFjN0QsRUFBZWtELEVBQVdZLEdBQVV0RyxRQUNsRGdHLEVBQVVOLEVBQVdZLEdBQVVELEVBQ3JDakUsR0FBZUMsS0FBZixHQUF1QjJELEdBam9CekIsR0FBTXpELEdBQWF0RCxFQUFFLHFCQUNmbUQsRUFBaUJuRCxFQUFFLGtCQUNuQnFELEVBQWlCckQsRUFBRSxtQkFIekJvRixFQUFNcEYsRUFBQSxxQkFDQXNELEVBQWV0RCxFQUFBLHFCQUdmb0YsRUFBYXBGLEtBRW5Ca0QsRUFBQSxFQUNBb0UsR0FBQSxFQUNJaEgsRUFBQUEsR0FLQTBELEVBQVcsS0FIWGQsRUFBQUEsS0FDQW9FLEdBQUosRUFDSXhELEdBQUosYUFBQSxXQUFBLGFBQUEsV0FHSXZCLEVBQUFBLFlBQUosV0FDQSxHQUFNNUIsRUFBQUEsQ0FFTixHQUFBNEcsR0FBQWhFLEVBQUEsS0FBQSxDQUNNaUUsU0FBQUEsSUFBVUMsRUFBVkQsS0FBc0JELEVBSHRCNUcsSUFBQUEsR0FNRitHLElBTkUvRyxFQUFBQSxlQUFBQSxFQUFBQSxHQU1JNEcsRUFOSjVHLEVBQUFBLEdBTWlCNEMsRUFOakI1QyxFQUFBQSxHQU1nQ2tFLEVBTmhDbEUsRUFBQUEsRUE2Q0EsSUF6Q000RyxFQUFBLElBTTJDRyxJQU4zQ0MsRUFNRHJDLEVBTkNWLEVBQUFDLEdBQUFTLEVBQUFoQixlQUFBLEVBQUEsVUFBQSxhQUFBLFlBQUFnQixFQU0wQlQsZUFOMUIsRUFBQSxjQUFBLGFBQUEsWUFnQk5BLEVBQWNlLGFBQWEsRUFBRSxXQUFXLGFBQWMsV0FBWSxnQkFOcEUyQixHQUFBaEUsRUFBQSxJQUFBLEtBQUEsSUFXRXNDLEVBQWNQLEVBQWVWLEVBQVlDLEdBVjNDQSxFQUFJMEMsYUFBdUIsRUFBQSxXQUFBLGFBQUEsV0FBQSxnQkFHekJqQyxFQUFjaEIsSUFBQUEsSUFFZE8sRUFBQUEsRUFBMkJELEdBQzVCQyxFQUFBZSxhQUFBLEdBQUEsV0FBQSxVQUFBLGFBQUEsV0FBQSxlQVlDZixFQUFjZSxhQUFhLEdBQUcsVUFBVSxVQUFVLGFBQWMsV0FBWSxlQVY5RWYsRUFBSTBDLGFBQWNoRSxHQUFBQSxjQUFkLFVBQThDLGFBQUEsV0FBQSxnQkFHaERzQixFQUFjZSxJQUFBQSxJQUVoQkYsRUFBQUosRUFBQVYsRUFBQUMsR0FDQVMsRUFBSWlDLGVBQXVCLEVBQUEsVUFBQSxhQUFBLFlBQ3pCakMsRUFBQWhCLGVBQUEsRUFBQSxjQUFBLGFBQUEsYUFHQU8sRUFBY2UsSUFBQUEsR0FFZlAsRUFBQUMsRUFBQVYsRUFBQUMsR0FJQ2EsRUFBZUosSUFBQUEsSUFDZkEsRUFBQUEsRUFBQVYsR0FDQVUsRUFBY2hCLGFBQUFBLEVBQWUsY0FBRSxVQUFjLGFBQWMsV0FBM0QsZ0JBSUFpRCxFQUFBLElBQUEsR0FBQTVELEVBQUFYLEtBQUEsR0FBQUUsRUFBQSxHQUFBLENBQ0FtQyxHQUFBQSxHQUFpQkMsRUFBZVYsRUFBWUMsUUFBNUMsRUFFRCtDLEVBQUFqSCxFQUFBeUcsRUFHQzVCLElBQUFBLEVBQWFGLEdBQWVWLENBQzVCQyxHQUFBQSxHQUFjZSxFQUFlWCx1QkFBd0IyQyxFQUFjLFlBQ3BFQyxHQUFBeEcsU0FBQXdHLEVBQUF4RyxRQVdLb0IsRUFBV2tCLEVBQVVrRSxFQVR4QixJQUFNcEMsR0FBQTlCLEVBQUFtRSxpQkFBQUYsRUFDSEwsR0FBQUEsU0FBQTlCLEVBQXlCOUIsUUFDM0JsQixFQUFNMkUsRUFBYzdELElBT2xCZCxHQUFBQSxHQUFXa0IsRUFBVWtFLEVBQXJCOUcsUUFBQSxFQUNBNkcsRUFBa0JqRSxFQUFTbUUsRUFDM0JyQyxHQUFVcEUsYUFBV29FLEVBQXJCLElBQUEsV0FBQW1DLElBRURoRSxJQUNGbUUsTUFZTCxHQU5JL0gsR0FBQSxlQUFNNEgsR0FBQUEsUUFBaUJqSCxTQUFBQSxHQUN2QmtFLEdBQUFBLEdBQUFBLEVBQWNlLE9BQUFBLFNBQ2YsUUFBQTVCLEdBQ0RKLEVBQUFBLEVBQUFBLEdBQ0FtRSxRQUFBQSxJQUFBQSwwQkFDRC9ILEVBQUEsa0JBQUFvRCxLQUFBLGdEQUdINEUsRUFBQXJFLEVBQUFzRSxHQUNBN0YsUUFBQUUsSUFBQSwwQkFDRXRDLEVBQUEsa0JBQWtCb0QsS0FBUywrREFLekJwRCxFQUFBQSxlQUFFa0ksR0FBQSxRQUF1QixXQUN6QjFILEVBQUFGLEtBSUFOLEVBQUFBLGVBQUVrSSxHQUFBLFFBQXVCLFNBQUFDLEdBQzFCLEdBQUEzRixHQUFBMkYsRUFBQUMsT0FBQUMsRUFYSEMsR0FBQWhJLEVBQUFrQyxLQWVBeEMsRUFBQWtJLEdBQWlCQSxRQUFqQixXQUNFMUgsR0FBQUEsRUFERlIsRUFBQSw0Q0FBQXVJLE9BYUV2SSxFQUFFLGlEQUFpRHdJLE9BVHJEbEIsR0FDRWpFLEVBQUZELEtBQW9CLFNBQ2xCYixHQUFNQyxHQURSYSxFQUFBRCxLQUFBLFVBUUVwRCxFQUFBQSxhQUFFa0ksR0FBQSxRQUFBLFdBQ0VaLElBQ0ZqRSxHQUFBQSxHQUVEQSxFQUFNRCxLQUFBLFFBQ0xDLEVBQUFBLCtCQUFBa0YsT0FDRHZJLEVBQUEsZUFBQXdJLE9BVEh2SSxFQUFBK0QsR0FxQkUxRCxFQUFjMEQsRUFSZHhELEVBQUZGLEtBSUUrQyxFQUFBQSxhQUFBQSxHQUFlRCxRQUFLLFdBQ2xCa0UsSUFDQUEsR0FBQUEsR0FFRmhILEVBQWMwRCxLQUFBQSxRQUNkeEQsRUFBQUEsK0JBQUErSCxPQVRGdkksRUFBQSxlQUFBd0ksT0FvQkV2SSxFQUFhMEQsR0FQYnJELEVBQWE0SCxFQUNiMUgsRUFBU0YsS0FHVCtDLEVBQUFBLFlBQUFBLEdBQWVELFFBQUssV0FDcEJwRCxFQUFFLGVBQUF1SSxPQUNGdkksRUFBRSxnQkFBZXdJLFNBR2pCaEksRUFBQUEsY0FBV0YsR0FBQUEsU0FBWCxTQUFBNkgsR0FURixHQUFBNUgsR0FBQTRILEVBQUFDLE9BQUFLLEtBbUJFbkksR0FBWUQsVUFBWUUsRUFQeEJDLEVBQUZGIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuICBjb25zdCAkbWF0Y2hUaW1lID0gJCgnLmNoYW5naW5nLW1pbnV0ZXMnKTtcbiAgY29uc3QgJGNvbW1lbnRhcnlCb3ggPSAkKCcjY29tbWVudGFyeUJveCcpO1xuICBjb25zdCAkcHJpbWFyeUJ1dHRvbiA9ICQoJy5wcmltYXJ5LWJ1dHRvbicpO1xuICBjb25zdCAkaG9tZVNjb3JlID0gJCgnLmhvbWUtdGVhbSAuc2NvcmUnKTtcbiAgY29uc3QgJGF3YXlTY29yZSA9ICQoJy5hd2F5LXRlYW0gLnNjb3JlJyk7XG4gIC8vIGNvbnN0ICRob21lVGVhbSA9ICQoJy5ob21lLXRlYW0nKTtcbiAgLy8gY29uc3QgJGF3YXlUZWFtID0gJCgnLmF3YXktdGVhbScpO1xuICBsZXQgdGVhbVRhY3RpY3MgPSBudWxsO1xuXG4gIGxldCBtYXRjaFRpbWUgPSAwO1xuICBsZXQgcnVuID0gZmFsc2U7XG4gIGxldCB3aWR0aCA9IDUwO1xuICBsZXQgaG9tZVRlYW0gPSBudWxsO1xuICBsZXQgYXdheVRlYW0gPSBudWxsO1xuICBsZXQgZ2FtZVN0YXJ0ZWQgPSBmYWxzZTtcbiAgY29uc3QgcG9zaXRpb25zID0gWydnb2Fsa2VlcGVyJywgJ2RlZmVuZGVyJywgJ21pZGZpZWxkZXInLCAnc3RyaWtlciddO1xuXG4gIC8vIE1BVENIIExPR0lDXG4gIGNvbnN0IHRpbWVySUQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICBpZiAocnVuICkge1xuXG4gICAgICBjb25zdCBldmVudFZhbHVlID0gZ2VuUmFuZG9tVmFsdWUoMTAwKSArIDE7XG4gICAgICBjb25zb2xlLmxvZyhgJHttYXRjaFRpbWV9OiAke2V2ZW50VmFsdWV9YCk7XG5cbiAgICAgIC8vIENyZWF0aXZpdHkgU3VtQ3JlYXRpdml0eSB2cy4gU3VtQ3JlYXRpdml0eVxuICAgICAgY29uc3QgW2F0dGFja2luZ1RlYW0sIHRlYW1TdHJpbmcsIGRlZmVuZGluZ1RlYW1dID0gc2VsZWN0VGVhbSgpO1xuXG4gICAgICAvLyBjb25zdCBjaG9zZW5QbGF5ZXIgPSBzZWxlY3RQbGF5ZXIodGVhbU9iamVjdCk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhjaG9zZW5QbGF5ZXIpO1xuICAgICAgLy8gV2hvIGhhcyB0aGUgZXZlbnQ/XG4gICAgICBpZiAoZXZlbnRWYWx1ZSAlIDE4ID09PSAwKSB7XG4gICAgICAgIC8vIFJhbmRvbSAoU3RyaWtlciwgTWlkZmllbGRlcikgdnMuIEdvYWxrZWVwZXIgPiBSYW5kVGhlaXJBdHRhY2sgdnMuIFJhbmRHb2Fsa2VlcGVyXG4gICAgICAgIGdvYWxDaGFuY2UoYXR0YWNraW5nVGVhbSwgdGVhbVN0cmluZywgZGVmZW5kaW5nVGVhbSk7XG4gICAgICAgIGF0dGFja2luZ1RlYW0uaW5jcmVhc2VWYWx1ZXMoNSwnYXR0YWNrJyxbJ21pZGZpZWxkZXInLCAnc3RyaWtlciddKTtcbiAgICAgICAgYXR0YWNraW5nVGVhbS5pbmNyZWFzZVZhbHVlcyg1LCdjcmVhdGl2aXR5JyxbJ21pZGZpZWxkZXInLCAnc3RyaWtlciddKTtcbiAgICAgICAgZGVmZW5kaW5nVGVhbS5yZWR1Y2VWYWx1ZXMoNSwnZGVmZW5jZScsWydtaWRmaWVsZGVyJywgJ2RlZmVuZGVyJywgJ2dvYWxrZWVwZXInXSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudFZhbHVlICUgKGdlblJhbmRvbVZhbHVlKDMwKSArIDkwKSA9PT0gMCkge1xuICAgICAgICAvLyBTdHJpa2VyIHZzLiBHb2Fsa2VlcGVyID4gUmFuZFRoZWlyQXR0YWNrIHZzLiBSYW5kR29hbGtlZXBlclBlbmFsdHlcbiAgICAgICAgaGFuZGxlUGVuYWx0eShhdHRhY2tpbmdUZWFtLCB0ZWFtU3RyaW5nLCBkZWZlbmRpbmdUZWFtKTtcbiAgICAgICAgZGVmZW5kaW5nVGVhbS5yZWR1Y2VWYWx1ZXMoMywnZGVmZW5jZScsWydtaWRmaWVsZGVyJywgJ2RlZmVuZGVyJywgJ2dvYWxrZWVwZXInXSk7XG4gICAgICB9XG4gICAgICAvL1xuICAgICAgaWYgKGV2ZW50VmFsdWUgJSA5MCA9PT0gMCkge1xuICAgICAgICAvLyBSYW5kb20gUGxheWVyID0+IERpc2NpcGxpbmUgPiByYW5kb21cbiAgICAgICAgc3RyYWlnaHRSZWQoZGVmZW5kaW5nVGVhbSwgdGVhbVN0cmluZyk7XG4gICAgICAgIGRlZmVuZGluZ1RlYW0ucmVkdWNlVmFsdWVzKDEwLCdkZWZlbmNlJyxbJ3N0cmlrZXInLCdtaWRmaWVsZGVyJywgJ2RlZmVuZGVyJywgJ2dvYWxrZWVwZXInXSk7XG4gICAgICAgIGRlZmVuZGluZ1RlYW0ucmVkdWNlVmFsdWVzKDEwLCdhdHRhY2snLFsnc3RyaWtlcicsJ21pZGZpZWxkZXInLCAnZGVmZW5kZXInLCAnZ29hbGtlZXBlciddKTtcbiAgICAgICAgZGVmZW5kaW5nVGVhbS5yZWR1Y2VWYWx1ZXMoMTAsJ2NyZWF0aXZpdHknLFsnc3RyaWtlcicsJ21pZGZpZWxkZXInLCAnZGVmZW5kZXInLCAnZ29hbGtlZXBlciddKTtcbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICBpZiAoZXZlbnRWYWx1ZSAlIDIyID09PSAwKSB7XG4gICAgICAgIC8vIFN0cmlrZXIgdnMuIEdvYWxrZWVwZXIgPiBSYW5kVGhlaXJGcmVla2ljayB2cy4gUmFuZEdvYWxrZWVwZXJQZW5hbHR5XG4gICAgICAgIGhhbmRsZUZyZWVraWNrKGF0dGFja2luZ1RlYW0sIHRlYW1TdHJpbmcsIGRlZmVuZGluZ1RlYW0pO1xuICAgICAgICBhdHRhY2tpbmdUZWFtLmluY3JlYXNlVmFsdWVzKDUsJ2F0dGFjaycsWydtaWRmaWVsZGVyJywgJ3N0cmlrZXInXSk7XG4gICAgICAgIGF0dGFja2luZ1RlYW0uaW5jcmVhc2VWYWx1ZXMoNSwnY3JlYXRpdml0eScsWydtaWRmaWVsZGVyJywgJ3N0cmlrZXInXSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudFZhbHVlICUgMTggPT09IDApIHtcbiAgICAgICAgLy8gUmFuZG9tUGxheWVyID0+IGRpc2NpcGxpbmUgKyBtYXRjaHRpbWUgcmFuZCB2cy4gcmFuZG9tXG4gICAgICAgIGhhbmRsZURpc2NpcGxpbmUoYXR0YWNraW5nVGVhbSwgdGVhbVN0cmluZywgZGVmZW5kaW5nVGVhbSk7XG5cbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50VmFsdWUgJSAyNSA9PT0gMCkge1xuICAgICAgICBoYW5kbGVJbmp1cnkoYXR0YWNraW5nVGVhbSwgdGVhbVN0cmluZyk7XG4gICAgICAgIGRlZmVuZGluZ1RlYW0ucmVkdWNlVmFsdWVzKDMsJ2NyZWF0aXZpdHknLFsnc3RyaWtlcicsJ21pZGZpZWxkZXInLCAnZGVmZW5kZXInLCAnZ29hbGtlZXBlciddKTtcbiAgICAgIH1cblxuICAgICAgaWYodHJ1ZSkge1xuICAgICAgICBpZiAoZXZlbnRWYWx1ZSAlIDEwID09PSAwICYmIGF3YXlUZWFtLnN1YnMgPCA2ICYmIG1hdGNoVGltZSA+IDUwKSB7XG4gICAgICAgICAgY29uc3QgcmFuZG9tSW5kZXggPSBnZW5SYW5kb21WYWx1ZShwb3NpdGlvbnMubGVuZ3RoKSArIDE7XG4gICAgICAgICAgY29uc3QgcmFuZG9tUG9zaXRpb24gPSBwb3NpdGlvbnNbcmFuZG9tSW5kZXhdO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJhbmRvbUluZGV4KTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyYW5kb21Qb3NpdGlvbik7XG4gICAgICAgICAgaWYgKHBvc2l0aW9uc1tyYW5kb21JbmRleF0pIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZVBsYXllciA9IGF3YXlUZWFtLnJhbmRvbVBsYXllckJ5UG9zaXRpb24ocmFuZG9tUG9zaXRpb24sICdzdWJiZWQtb24nKTtcbiAgICAgICAgICAgIHJlbW92ZVBsYXllci5wbGF5aW5nID0gIXJlbW92ZVBsYXllci5wbGF5aW5nO1xuICAgICAgICAgICAgc3Vic3RpdHV0ZShhd2F5VGVhbSwgcmVtb3ZlUGxheWVyKTtcbiAgICAgICAgICAgIGNvbnN0IGFkZFBsYXllciA9IGF3YXlUZWFtLnJhbmRvbVN1YnN0aXR1dGUocmFuZG9tUG9zaXRpb24pO1xuICAgICAgICAgICAgYWRkUGxheWVyLnBsYXlpbmcgPSAhYWRkUGxheWVyLnBsYXlpbmc7XG4gICAgICAgICAgICBzdWJzdGl0dXRlKGF3YXlUZWFtLCBhZGRQbGF5ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSZWR1Y2UgRml0bmVzc1xuICAgICAgaWYgKHRydWUpIHtcbiAgICAgICAgY29uc3QgcmFuZG9tSW5kZXggPSBnZW5SYW5kb21WYWx1ZShwb3NpdGlvbnMubGVuZ3RoKSArIDE7XG4gICAgICAgIGNvbnN0IHJhbmRvbVBvc2l0aW9uID0gcG9zaXRpb25zW3JhbmRvbUluZGV4XTtcbiAgICAgICAgZGVmZW5kaW5nVGVhbS5yZWR1Y2VWYWx1ZXMoZ2VuUmFuZG9tVmFsdWUoMTApLCdmaXRuZXNzJyxbcmFuZG9tUG9zaXRpb25dKTtcbiAgICAgIH1cbiAgICAgIG1vdmUoKTtcbiAgICAgIHRpbWVDb250cm9sKCk7XG4gICAgfVxuICB9LDEwKTtcblxuICAvLyBFdmVudCBMaXN0ZW5lcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBUZWFtIHNlbGVjdGlvblxuICAkKCcudGVhbS1pbnB1dCcpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgY29uc3QgdXNlclRlYW0gPSBlLnRhcmdldC5pbm5lckhUTUw7XG4gICAgaWYgKGhvbWVUZWFtID09PSBudWxsKSB7XG4gICAgICBjb25maWdUZWFtKGhvbWVUZWFtLCB1c2VyVGVhbSk7XG4gICAgICBjb25zb2xlLmxvZygnaG9tZVRlYW0gbm93IHNlbGVjdGVkIScpO1xuICAgICAgJCgnLnRpdGxlLW1lc3NhZ2UnKS50ZXh0KCdIb21lIHRlYW0gY2hvc2VuLiBOb3cgY2hvc2UgeW91ciBvcHBvbmVudC4nKTtcbiAgICAgIC8vIGUuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbmZpZ1RlYW0oYXdheVRlYW0sIHVzZXJUZWFtKTtcbiAgICAgIGNvbnNvbGUubG9nKCdhd2F5VGVhbSBub3cgc2VsZWN0ZWQhJyk7XG4gICAgICAkKCcudGl0bGUtbWVzc2FnZScpLnRleHQoJ09wcG9uZW50IHNlbGVjdGVkLiBOb3cgZWRpdCB0YWN0aWNzIG9yIHByb2NlZWQgdG8gbWF0Y2guJyk7XG4gICAgfVxuICB9KTtcblxuICAvLyBTdGFydGluZyBMaW5lIFVwXG4gICQoJyNyZXZlYWxUZWFtJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIHJldmVhbFRlYW0odGVhbVRhY3RpY3MpO1xuICB9KTtcblxuICAvLyBUb2dnbGUgeWVzL25vIHBsYXlpbmdcbiAgJCgnLnRlYW0tcGFuZWwnKS5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkUGxheWVyID0gZS50YXJnZXQuaWQ7XG4gICAgY2hvb3NlUGxheWVycyh0ZWFtVGFjdGljcywgc2VsZWN0ZWRQbGF5ZXIpO1xuICB9KTtcblxuICAkcHJpbWFyeUJ1dHRvbi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgcnVuID0gIXJ1bjtcbiAgICAkKCcjbWF0Y2gtc2V0dXAsIC5pbmZvLW1lc3NhZ2UsIC50ZWFtLXNldHVwJykuaGlkZSgpO1xuICAgICQoJyNtYXRjaC1lbmdpbmUsIC5hd2F5LXRlYW0sIC5ob21lLXRlYW0sIC50aW1lcicpLnNob3coKTtcbiAgICBpZiAocnVuKSB7XG4gICAgICAkcHJpbWFyeUJ1dHRvbi50ZXh0KCdQYXVzZScpO1xuICAgICAgZ2FtZVN0YXJ0ZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAkcHJpbWFyeUJ1dHRvbi50ZXh0KCdQbGF5Jyk7XG4gICAgfVxuXG4gIH0pO1xuXG4gICQoJyNob21lVGVhbScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAocnVuKSB7XG4gICAgICBydW4gPSAhcnVuO1xuICAgIH1cbiAgICAkcHJpbWFyeUJ1dHRvbi50ZXh0KCdQbGF5Jyk7XG4gICAgJCgnLm1hdGNoLXNldHVwLCAubWF0Y2gtZW5naW5lJykuaGlkZSgpO1xuICAgICQoJy50ZWFtLXNldHVwJykuc2hvdygpO1xuICAgIHNldHVwVGFjdGljcyhob21lVGVhbSk7XG4gICAgdGVhbVRhY3RpY3MgPSBob21lVGVhbTtcbiAgICByZXZlYWxUZWFtKHRlYW1UYWN0aWNzKTtcblxuICB9KTtcblxuICAkKCcjYXdheVRlYW0nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKHJ1bikge1xuICAgICAgcnVuID0gIXJ1bjtcbiAgICB9XG4gICAgJHByaW1hcnlCdXR0b24udGV4dCgnUGxheScpO1xuICAgICQoJy5tYXRjaC1zZXR1cCwgLm1hdGNoLWVuZ2luZScpLmhpZGUoKTtcbiAgICAkKCcudGVhbS1zZXR1cCcpLnNob3coKTtcbiAgICBzZXR1cFRhY3RpY3MoYXdheVRlYW0pO1xuICAgIHRlYW1UYWN0aWNzID0gYXdheVRlYW07XG4gICAgcmV2ZWFsVGVhbSh0ZWFtVGFjdGljcyk7XG4gIH0pO1xuXG4gICQoJy5nby1iYWNrJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICQoJy50ZWFtLXNldHVwJykuaGlkZSgpO1xuICAgICQoJy5tYXRjaC1zZXR1cCcpLnNob3coKTtcbiAgfSk7XG5cbiAgJCgnLmZvcm1hdGlvbicpLm9uKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgIGNvbnN0IG5ld0Zvcm1hdGlvbiA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIHRlYW1UYWN0aWNzLmZvcm1hdGlvbiA9IG5ld0Zvcm1hdGlvbjtcbiAgICByZXZlYWxUZWFtKHRlYW1UYWN0aWNzKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gc2V0dXBUYWN0aWNzKHRlYW1PYmplY3QpIHtcbiAgICAkKCcudGVhbS1wYW5lbCcpLmh0bWwoJycpO1xuICAgICQoJy5mb3JtYXRpb24nKS52YWwodGVhbU9iamVjdC5mb3JtYXRpb24pO1xuXG4gICAgdGVhbU9iamVjdC5wbGF5ZXJzLnNvcnQoZnVuY3Rpb24oYSxiKXtcbiAgICAgIHJldHVybiBwb3NpdGlvbnMuaW5kZXhPZihhLnBvc2l0aW9uKSA8IHBvc2l0aW9ucy5pbmRleE9mKGIucG9zaXRpb24pID8gLTEgOiAxO1xuICAgIH0pO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZWFtT2JqZWN0LnBsYXllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBsYXllciA9IHRlYW1PYmplY3QucGxheWVyc1tpXTtcbiAgICAgIGNvbnN0IHN0YXJ0aW5nRWxldmVuID0gcGxheWVyLnBsYXlpbmcgPyAnJiMxMDAwNDsnIDogJyYjMTAwMDc7JztcbiAgICAgIC8vIGNvbnN0IHBsYXlpbmdTdGF0dXMgPSBwbGF5ZXIucGxheWluZyA/ICdvbi1maWVsZCcgOiAnb24tYmVuY2gnO1xuXG4gICAgICAkKCcudGVhbS1wYW5lbCcpLmFwcGVuZChcbiAgICAgICAgYDxwIGNsYXNzPVwicGxheWVyLWxpbmUgJHtwbGF5ZXIucG9zaXRpb259ICR7cGxheWVyLnN0YXR1c31cIiBpZD0nJHtwbGF5ZXIubmFtZX0nPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3RhcnRpbmcgJHtwbGF5ZXIuc3RhdHVzfVwiIGlkPVwiJHtpfVwiPiR7c3RhcnRpbmdFbGV2ZW59PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGxheWVyLXBvc2l0aW9uIFwiPiR7cGxheWVyLnBvc2l0aW9ufTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInBsYXllci1uYW1lXCI+JHtwbGF5ZXIubmFtZX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJwbGF5ZXItc3RhdFwiPiR7cGxheWVyLmF0dGFja308L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJwbGF5ZXItc3RhdFwiPiR7cGxheWVyLmRlZmVuY2V9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGxheWVyLXN0YXRcIj4ke3BsYXllci5jcmVhdGl2aXR5fTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInBsYXllci1zdGF0XCI+JHtwbGF5ZXIuZGVmZW5jZX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJwbGF5ZXItc3RhdFwiPiR7cGxheWVyLmZpdG5lc3N9PC9zcGFuPlxuICAgICAgICA8L3A+YFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXVzZVBsYXkoKSB7XG4gICAgaWYgKHJ1bikge1xuICAgICAgcnVuID0gIXJ1bjtcbiAgICB9XG5cbiAgICAkcHJpbWFyeUJ1dHRvbi50ZXh0KCdQbGF5Jyk7XG4gICAgJCgnLm1hdGNoLXNldHVwLCAubWF0Y2gtZW5naW5lJykuaGlkZSgpO1xuICAgIHNldHVwVGFjdGljcyhob21lVGVhbSk7XG4gICAgdGVhbVRhY3RpY3MgPSBob21lVGVhbTtcbiAgICByZXZlYWxUZWFtKHRlYW1UYWN0aWNzKTtcbiAgICAkKCcudGVhbS1zZXR1cCcpLnNob3coKTtcblxuICB9XG5cbiAgZnVuY3Rpb24gcmV2ZWFsVGVhbSh0ZWFtT2JqZWN0KSB7XG4gICAgJCgnLnRlYW0tZGlzcGxheScpLmh0bWwoJycpO1xuICAgIGNvbnN0IGZvcm1hdGlvbiA9IFsnMSddLmNvbmNhdCh0ZWFtT2JqZWN0LmZvcm1hdGlvbi5zcGxpdCgnLScpKTtcblxuICAgIGxldCBwbGF5ZXJOdW1iZXIgPSAwO1xuICAgIGxldCBwb3NpdGlvbk51bWJlciA9IDA7XG5cbiAgICB0cnkge1xuICAgICAgZm9ybWF0aW9uLm1hcCgoYXJyYXlJdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZXJhdGlvbnMgPSBwYXJzZUZsb2F0KGFycmF5SXRlbSk7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBpdGVyYXRpb25zKSB7XG4gICAgICAgICAgLy8gYWRkZWQgZWplY3RlZFxuICAgICAgICAgIGlmICh0ZWFtT2JqZWN0LnBsYXllcnNbcGxheWVyTnVtYmVyXS5wbGF5aW5nIHx8IHRlYW1PYmplY3QucGxheWVyc1twbGF5ZXJOdW1iZXJdLnN0YXR1cyA9PT0gJ2VqZWN0ZWQnKSB7XG4gICAgICAgICAgICBjb25zdCB3YXJuaW5nTWVzc2FnZSA9IHBvc2l0aW9uc1twb3NpdGlvbk51bWJlcl0gIT09IHRlYW1PYmplY3QucGxheWVyc1twbGF5ZXJOdW1iZXJdLnBvc2l0aW9uID8gJ3dhcm5pbmcnIDogJyc7XG4gICAgICAgICAgICAkKCcudGVhbS1kaXNwbGF5JykuYXBwZW5kKFxuICAgICAgICAgICAgICBgPHNwYW4gY2xhc3M9J3BsYXllci1ibG9jayAke3dhcm5pbmdNZXNzYWdlfSAkeyh0ZWFtT2JqZWN0LnBsYXllcnNbcGxheWVyTnVtYmVyXS5zdGF0dXMpfSc+JHt0ZWFtT2JqZWN0LnBsYXllcnNbcGxheWVyTnVtYmVyXS5uYW1lfTwvc3Bhbj5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGVhbU9iamVjdC5wbGF5ZXJzW3BsYXllck51bWJlcl0uY2hvc2VuUG9zaXRpb24gPSBwb3NpdGlvbnNbcG9zaXRpb25OdW1iZXJdO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmxvZyhwbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgIHBsYXllck51bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgICQoJy50ZWFtLWRpc3BsYXknKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJzZXBlcmF0ZS1wbGF5ZXJzXCI+Jyk7XG4gICAgICAgIHBvc2l0aW9uTnVtYmVyKys7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoKGVycikge1xuICAgICAgJCgnLnRlYW0tZGlzcGxheScpLmFwcGVuZChgPHAgY2xhc3M9J3RlYW0tc2VsZWN0aW9uLXdhcm5pbmcgc2VwZXJhdGUtcGxheWVycyc+TGVzcyB0aGFuIDExIHBsYXllcnMgc2VsZWN0ZWQhPC9wPmApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNob29zZVBsYXllcnModGVhbU9iamVjdCwgc2VsZWN0ZWRQbGF5ZXIpIHtcbiAgICB0ZWFtT2JqZWN0LnBsYXllcnNbc2VsZWN0ZWRQbGF5ZXJdLnBsYXlpbmcgPSAhdGVhbU9iamVjdC5wbGF5ZXJzW3NlbGVjdGVkUGxheWVyXS5wbGF5aW5nO1xuICAgIC8vY29uc29sZS5sb2codGVhbU9iamVjdC5wbGF5ZXJzW3NlbGVjdGVkUGxheWVyXS5wbGF5aW5nKTtcbiAgICByZXZlYWxUZWFtKHRlYW1UYWN0aWNzKTtcbiAgICBpZiAodGVhbU9iamVjdC5wbGF5ZXJzW3NlbGVjdGVkUGxheWVyXS5wbGF5aW5nKSB7XG4gICAgICAkKGAjJHtzZWxlY3RlZFBsYXllcn1gKS5odG1sKCcmIzEwMDA0OycpO1xuICAgICAgaWYgKGdhbWVTdGFydGVkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjbGlja2VkJyk7XG4gICAgICAgICQoYCMke3NlbGVjdGVkUGxheWVyfWApLnBhcmVudCgpLmNzcyh7J2JhY2tncm91bmQnOiAnZ3JlZW4nfSk7XG4gICAgICAgIGNvbnN0IHBsYXllck9uID0gdGVhbU9iamVjdC5wbGF5ZXJzW3NlbGVjdGVkUGxheWVyXTtcbiAgICAgICAgc3Vic3RpdHV0ZSh0ZWFtT2JqZWN0LCBwbGF5ZXJPbik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICQoYCMke3NlbGVjdGVkUGxheWVyfWApLmh0bWwoJyYjMTAwMDc7Jyk7XG4gICAgICBpZiAoZ2FtZVN0YXJ0ZWQpIHtcbiAgICAgICAgJChgIyR7c2VsZWN0ZWRQbGF5ZXJ9YCkucGFyZW50KCkuY3NzKHsncG9pbnRlci1ldmVudHMnOiAnbm9uZScsICdiYWNrZ3JvdW5kJzogJ3JlZCd9KTtcbiAgICAgICAgY29uc3QgcGxheWVyT2ZmID0gdGVhbU9iamVjdC5wbGF5ZXJzW3NlbGVjdGVkUGxheWVyXTtcbiAgICAgICAgc3Vic3RpdHV0ZSh0ZWFtT2JqZWN0LCBwbGF5ZXJPZmYpO1xuXG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBzdWJzdGl0dXRlKHRlYW1PYmplY3QsIHBsYXllcikge1xuICAgIGlmICh0ZWFtT2JqZWN0LnN1YnMgPCA3KSB7XG4gICAgICBpZiAoIXBsYXllci5wbGF5aW5nKSB7XG4gICAgICAgICQoYCMke3RlYW1PYmplY3QucGxhY2V9RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtYXJyb3ctcmlnaHQnIHN0eWxlPSdmb250LXNpemU6IDIycHg7IGNvbG9yOnJlZDsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHtwbGF5ZXIubmFtZX0gc3Vic3RpdHV0ZWQ8YnIvPmApO1xuICAgICAgICB0ZWFtT2JqZWN0LnN1YnMgKz0gMTtcbiAgICAgICAgcGxheWVyLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgcGxheWVyLnN0YXR1cyA9ICdzdWJiZWQtb2ZmJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoYCMke3RlYW1PYmplY3QucGxhY2V9RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtYXJyb3ctcmlnaHQnIHN0eWxlPSdmb250LXNpemU6IDIycHg7IGNvbG9yOmdyZWVuOyBwYWRkaW5nLXRvcDo1cHgnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+ICR7bWF0Y2hUaW1lfSBtaW5zOiAke3BsYXllci5uYW1lfSBzdWJzdGl0dXRlZDxici8+YCk7XG4gICAgICAgIHRlYW1PYmplY3Quc3VicyArPSAxO1xuICAgICAgICBwbGF5ZXIucGxheWluZyA9IHRydWU7XG4gICAgICAgIHBsYXllci5zdGF0dXMgPSAnc3ViYmVkLW9uJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ1lvdSBoYXZlIGhhZCAzIHN1YnMhJyk7XG4gICAgfVxuICB9XG5cbiAgLy8gRnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXG5cbiAgZnVuY3Rpb24gdGltZUNvbnRyb2woKSB7XG5cbiAgICBpZihtYXRjaFRpbWUgPT09IDQ0KSB7XG4gICAgICAkY29tbWVudGFyeUJveC50ZXh0KGBUaGF0J3MgaGFsZi10aW1lIWApO1xuICAgICAgcnVuID0gIXJ1bjtcbiAgICAgICRwcmltYXJ5QnV0dG9uLnRleHQoJ1BsYXknKTtcbiAgICB9XG5cbiAgICBpZihtYXRjaFRpbWUgPT09IDkwKSB7XG4gICAgICAkY29tbWVudGFyeUJveC50ZXh0KGBUaGF0J3MgZnVsbC10aW1lIWApO1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklEKTtcbiAgICAgICRwcmltYXJ5QnV0dG9uLnRleHQoJ0ZpbmlzaCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXRjaFRpbWUrKztcbiAgICAgICRtYXRjaFRpbWUudGV4dChtYXRjaFRpbWUpO1xuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gZ2VuUmFuZG9tVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHZhbHVlKSk7XG4gIH1cblxuICBmdW5jdGlvbiBtb3ZlKCkge1xuXG4gICAgLy8gTmVlZCB0byBzb3J0IHRoaXNcbiAgICBjb25zdCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hvbWVCYXInKTtcblxuICAgIHdpZHRoID0gKGhvbWVUZWFtLmF2ZXJhZ2VQbGF5ZXJWYWx1ZXMoJ2NyZWF0aXZpdHknKSAvIChob21lVGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdjcmVhdGl2aXR5JykgKyBhd2F5VGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdjcmVhdGl2aXR5JykpICogMTAwKSArIChNYXRoLnJhbmRvbSgpIDwgMC41ID8gLWdlblJhbmRvbVZhbHVlKDYpIDogZ2VuUmFuZG9tVmFsdWUoNikpO1xuICAgIGNvbnNvbGUubG9nKGhvbWVUZWFtLmF2ZXJhZ2VQbGF5ZXJWYWx1ZXMoJ2NyZWF0aXZpdHknKSk7XG4gICAgY29uc29sZS5sb2coYXdheVRlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnY3JlYXRpdml0eScpKTtcbiAgICBlbGVtLnN0eWxlLndpZHRoID0gd2lkdGggKyAnJSc7XG4gIH1cblxuICBmdW5jdGlvbiBzZWxlY3RUZWFtKCkge1xuICAgIGNvbnN0IGhvbWVSYW5kb20gPSAgZ2VuUmFuZG9tVmFsdWUoaG9tZVRlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnY3JlYXRpdml0eScpICsgaG9tZVRlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnZml0bmVzcycpKTtcbiAgICBjb25zdCBhd2F5UmFuZG9tID0gIGdlblJhbmRvbVZhbHVlKGF3YXlUZWFtLmF2ZXJhZ2VQbGF5ZXJWYWx1ZXMoJ2NyZWF0aXZpdHknKSArIGF3YXlUZWFtLmF2ZXJhZ2VQbGF5ZXJWYWx1ZXMoJ2ZpdG5lc3MnKSk7XG5cbiAgICBpZiAoaG9tZVJhbmRvbSA+PSBhd2F5UmFuZG9tKSB7XG4gICAgICAkY29tbWVudGFyeUJveC5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBob21lVGVhbS5jb2xvcnNbMF0pO1xuICAgICAgJGNvbW1lbnRhcnlCb3guY3NzKCdjb2xvcicsIGhvbWVUZWFtLmNvbG9yc1sxXSk7XG4gICAgICBpZiAoZ2VuUmFuZG9tVmFsdWUoMjApICUgNCA9PT0gMCkge1xuICAgICAgICAkY29tbWVudGFyeUJveC50ZXh0KGdlbmVyYXRlQ29tbWVudGFyeSgnY2hhbmNlJywnJykpO1xuICAgICAgICBob21lVGVhbS5pbmNyZWFzZVZhbHVlcygzLCdhdHRhY2snLFsnbWlkZmllbGRlcicsICdzdHJpa2VyJ10pO1xuICAgICAgICBob21lVGVhbS5pbmNyZWFzZVZhbHVlcygzLCdjcmVhdGl2aXR5JyxbJ21pZGZpZWxkZXInLCAnc3RyaWtlciddKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbaG9tZVRlYW0sICdob21lJywgYXdheVRlYW1dO1xuICAgIH0gZWxzZSB7XG4gICAgICAkY29tbWVudGFyeUJveC5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMF0pO1xuICAgICAgJGNvbW1lbnRhcnlCb3guY3NzKCdjb2xvcicsIGF3YXlUZWFtLmNvbG9yc1sxXSk7XG4gICAgICBpZiAoZ2VuUmFuZG9tVmFsdWUoMjApICUgNCA9PT0gMCl7XG4gICAgICAgIGF3YXlUZWFtLmluY3JlYXNlVmFsdWVzKDMsJ2F0dGFjaycsWydtaWRmaWVsZGVyJywgJ3N0cmlrZXInXSk7XG4gICAgICAgIGF3YXlUZWFtLmluY3JlYXNlVmFsdWVzKDMsJ2NyZWF0aXZpdHknLFsnbWlkZmllbGRlcicsICdzdHJpa2VyJ10pO1xuICAgICAgICAkY29tbWVudGFyeUJveC50ZXh0KGdlbmVyYXRlQ29tbWVudGFyeSgnY2hhbmNlJywnJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFthd2F5VGVhbSwgJ2F3YXknLCBob21lVGVhbV07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2VsZWN0UGxheWVyKHRlYW0pIHtcbiAgICBjb25zdCBnZW5SYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRlYW0ucGxheWVycy5sZW5ndGgpO1xuICAgIHJldHVybiB0ZWFtLnBsYXllcnNbZ2VuUmFuZG9tSW5kZXhdO1xuICB9XG5cbiAgZnVuY3Rpb24gZ29hbENoYW5jZShhdHRhY2tpbmdUZWFtLCB0ZWFtU3RyaW5nLCBkZWZlbmRpbmdUZWFtKSB7XG4gICAgLy8gUmVmYWN0b3IgdGhpc1xuICAgIGxldCBzY29yZSA9IG51bGw7XG4gICAgbGV0IGdldFNjb3JlID0gbnVsbDtcbiAgICBjb25zdCBhdHRhY2tpbmdQbGF5ZXIgPSBhdHRhY2tpbmdUZWFtLnJhbmRvbVBsYXllcigpO1xuICAgIGNvbnN0IGRlZmVuZGluZ1BsYXllciA9IGRlZmVuZGluZ1RlYW0ucmFuZG9tUGxheWVyQnlQb3NpdGlvbignZGVmZW5kZXInKTtcblxuICAgIGlmIChnZW5SYW5kb21WYWx1ZShhdHRhY2tpbmdQbGF5ZXIuYXR0YWNrKSA+IGdlblJhbmRvbVZhbHVlKGRlZmVuZGluZ1BsYXllci5kZWZlbmNlKSkge1xuICAgICAgaWYgKHRlYW1TdHJpbmcgPT09ICdob21lJykge1xuICAgICAgICBnZXRTY29yZSA9ICRob21lU2NvcmUudGV4dCgpO1xuICAgICAgICBzY29yZSA9IHBhcnNlRmxvYXQoZ2V0U2NvcmUpICsgMTtcbiAgICAgICAgJGhvbWVTY29yZS50ZXh0KHNjb3JlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdldFNjb3JlID0gJGF3YXlTY29yZS50ZXh0KCk7XG4gICAgICAgIHNjb3JlID0gcGFyc2VGbG9hdChnZXRTY29yZSkgKyAxO1xuICAgICAgICAkYXdheVNjb3JlLnRleHQoc2NvcmUpO1xuICAgICAgfVxuICAgICAgLy8kY29tbWVudGFyeUJveC50ZXh0KGBHb2FsIWApO1xuICAgICAgZ2VuZXJhdGVDb21tZW50YXJ5KCdnb2FsJywgYXR0YWNraW5nUGxheWVyKTtcblxuICAgICAgJChgIyR7dGVhbVN0cmluZ31FdmVudHNgKS5hcHBlbmQoYDxpIGNsYXNzPSdmYSBmYS1mdXRib2wtbycgc3R5bGU9J2ZvbnQtc2l6ZTogMjJweDsgY29sb3I6d2hpdGU7IHBhZGRpbmctdG9wOjVweCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7YXR0YWNraW5nUGxheWVyLm5hbWV9IHNjb3JlZDxici8+YCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlRGlzY2lwbGluZShhdHRhY2tpbmdUZWFtLCB0ZWFtU3RyaW5nLCBkZWZlbmRpbmdUZWFtKSB7XG4gICAgY29uc29sZS5sb2coJ1lFTExPVycpO1xuICAgIGNvbnN0IGRlZmVuZGluZ1BsYXllciA9IGRlZmVuZGluZ1RlYW0ucmFuZG9tUGxheWVyKCk7XG4gICAgY29uc3QgdGVhbSA9IHRlYW1TdHJpbmcgPT09ICdob21lJyA/ICdhd2F5JyA6ICdob21lJztcbiAgICBpZiAoKGdlblJhbmRvbVZhbHVlKGRlZmVuZGluZ1BsYXllci5kaXNjaXBsaW5lKSArICgxMDAtbWF0Y2hUaW1lKSkgPCA5MCAmJiBkZWZlbmRpbmdQbGF5ZXIuc3RhdHVzICE9PSAnZWplY3RlZCcpIHtcbiAgICAgIC8vIEFscmVhZHkgYm9va2VkPyBTZW5kIGhpbSBvZmYhXG4gICAgICBpZiAoZGVmZW5kaW5nUGxheWVyLnN0YXR1cyA9PT0gJ3llbGxvdycpIHtcbiAgICAgICAgJGNvbW1lbnRhcnlCb3guY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJyNGRjAwMDAnKTtcbiAgICAgICAgJGNvbW1lbnRhcnlCb3guY3NzKCdjb2xvcicsICcjRkZGRkZGJyk7XG5cblxuICAgICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ3NlY29uZFllbGxvdycsIGRlZmVuZGluZ1BsYXllcik7XG4gICAgICAgICQoYCMke3RlYW19RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtc3F1YXJlIGV2ZW50LWl0ZW0nIHN0eWxlPSdmb250LXNpemU6IDI0cHg7IGNvbG9yOiByZWQ7IHBhZGRpbmctdG9wOjVweCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7ZGVmZW5kaW5nUGxheWVyLm5hbWV9IHNlbnQgb2ZmPGJyLz5gKTtcbiAgICAgICAgZGVmZW5kaW5nUGxheWVyLnN0YXR1cyA9ICdlamVjdGVkJztcbiAgICAgICAgLy8gZGVmZW5kaW5nUGxheWVyLnN0YXR1cyA9ICdlamVjdGVkJztcbiAgICAgICAgZGVmZW5kaW5nUGxheWVyLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgLy8gaWYgKGRlZmVuZGluZ1RlYW0ucGxhY2UgPT09ICdob21lJykgcGF1c2VQbGF5KCk7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRjb21tZW50YXJ5Qm94LmNzcygnYmFja2dyb3VuZC1jb2xvcicsICd5ZWxsb3cnKTtcbiAgICAgICAgJGNvbW1lbnRhcnlCb3guY3NzKCdjb2xvcicsICcjMDAwMDAwJyk7XG4gICAgICAgIC8vICRjb21tZW50YXJ5Qm94LnRleHQoYCR7ZGVmZW5kaW5nUGxheWVyLm5hbWV9IGdldHMgYSB5ZWxsb3chYCk7XG4gICAgICAgIGdlbmVyYXRlQ29tbWVudGFyeSgneWVsbG93JywgZGVmZW5kaW5nUGxheWVyKTtcbiAgICAgICAgZGVmZW5kaW5nUGxheWVyLmRlZmVuY2UgLT0gODtcbiAgICAgICAgLy8gU3RvcmUgbWVzYWdlcyBhbmQgZGV0YWlscyBpbiBhbiBnYW1lIE9iamVjdFxuICAgICAgICAkKGAjJHt0ZWFtfUV2ZW50c2ApLmFwcGVuZChgXG4gICAgICAgICAgPGkgY2xhc3M9J2ZhIGZhLXNxdWFyZSBldmVudC1pdGVtJyBzdHlsZT0nZm9udC1zaXplOiAyNHB4OyBjb2xvcjogeWVsbG93OyBwYWRkaW5nLXRvcDo1cHgnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+ICR7bWF0Y2hUaW1lfSBtaW5zOiAke2RlZmVuZGluZ1BsYXllci5uYW1lfSBib29rZWQ8YnIvPmApO1xuICAgICAgICBkZWZlbmRpbmdQbGF5ZXIuc3RhdHVzID0gJ3llbGxvdyc7XG4gICAgICAgIGRlZmVuZGluZ1BsYXllci5maXRuZXNzIC09IGdlblJhbmRvbVZhbHVlKDUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUluanVyeShhdHRhY2tpbmdUZWFtLCB0ZWFtU3RyaW5nKSB7XG4gICAgY29uc3QgYXR0YWNraW5nUGxheWVyID0gYXR0YWNraW5nVGVhbS5yYW5kb21QbGF5ZXIoKTtcbiAgICAvLyBUSEVSRSBDT1VMRCBCRSBBTiBJTkpVUllcbiAgICBpZiAoZ2VuUmFuZG9tVmFsdWUoMTAxKSAlIDQwID09PSAwKSB7XG4gICAgICAvLyAkY29tbWVudGFyeUJveC50ZXh0KGAke2F0dGFja2luZ1BsYXllci5uYW1lfSBnZXRzIHRha2VuIG9mZiBvbiBhIHN0cmV0Y2hlciFgKTtcbiAgICAgIGdlbmVyYXRlQ29tbWVudGFyeSgnaW5qdXJ5JywgYXR0YWNraW5nUGxheWVyKTtcbiAgICAgICQoYCMke3RlYW1TdHJpbmd9RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtcGx1cycgc3R5bGU9J2ZvbnQtc2l6ZTogMjZweDsgY29sb3I6IGdyZWVuOyBwYWRkaW5nLXRvcDo1cHgnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+ICR7bWF0Y2hUaW1lfSBtaW5zOiAke2F0dGFja2luZ1BsYXllci5uYW1lfSBpbmp1cmVkPGJyLz5gKTtcbiAgICAgIGlmIChhdHRhY2tpbmdUZWFtLnBsYWNlID09PSAnYXdheScpIHtcbiAgICAgICAgYXR0YWNraW5nUGxheWVyLnBsYXlpbmcgPSAhYXR0YWNraW5nUGxheWVyLnBsYXlpbmc7XG4gICAgICAgIHN1YnN0aXR1dGUoYXdheVRlYW0sIGF0dGFja2luZ1BsYXllcik7XG4gICAgICAgIGNvbnN0IGFkZFBsYXllciA9IGF3YXlUZWFtLnJhbmRvbVN1YnN0aXR1dGUoYXR0YWNraW5nUGxheWVyLnBvc2l0aW9uKTtcbiAgICAgICAgYWRkUGxheWVyLnBsYXlpbmcgPSAhYWRkUGxheWVyLnBsYXlpbmc7XG4gICAgICAgIHN1YnN0aXR1dGUoYXdheVRlYW0sIGFkZFBsYXllcik7XG4gICAgICB9IGVsc2UgaWYgKGF0dGFja2luZ1RlYW0ucGxhY2UgPT09ICdob21lJykge1xuICAgICAgICBhdHRhY2tpbmdQbGF5ZXIuZml0bmVzcyA9IDAgKyBnZW5SYW5kb21WYWx1ZSgzMCk7XG4gICAgICAgIGF0dGFja2luZ1BsYXllci5zdGF0dXMgPSAnaW5qdXJlZCc7XG4gICAgICAgIGF0dGFja2luZ1BsYXllci5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIC8vIHBhdXNlUGxheSgpO1xuICAgICAgfVxuICAgICAgLy8gYXR0YWNraW5nUGxheWVyLnBsYXlpbmcgPSBmYWxzZTtcblxuICAgIH0gZWxzZSB7XG4gICAgICBhdHRhY2tpbmdQbGF5ZXIuZml0bmVzcyAtPSBnZW5SYW5kb21WYWx1ZSgxNSk7XG4gICAgICBhdHRhY2tpbmdQbGF5ZXIuZGVmZW5jZSAtPSBnZW5SYW5kb21WYWx1ZSgxMCk7O1xuICAgICAgYXR0YWNraW5nUGxheWVyLmF0dGFjayAtPSBnZW5SYW5kb21WYWx1ZSgxNTApOztcbiAgICAgICRjb21tZW50YXJ5Qm94LnRleHQoYCR7YXR0YWNraW5nUGxheWVyLm5hbWV9J3MgbGltcGluZywgYnV0IGhlJ2xsIGJlIG9rYXlgKTtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUZyZWVraWNrKGF0dGFja2luZ1RlYW0sIHRlYW1TdHJpbmcsIGRlZmVuZGluZ1RlYW0pIHtcbiAgICBjb25zdCBhdHRhY2tpbmdQbGF5ZXIgPSBhdHRhY2tpbmdUZWFtLnJhbmRvbVBsYXllckJ5UG9zaXRpb24oJ21pZGZpZWxkZXInKTtcbiAgICBjb25zdCBkZWZlbmRpbmdWYWx1ZSA9IChkZWZlbmRpbmdUZWFtLnJhbmRvbVBsYXllckJ5UG9zaXRpb24oJ2dvYWxrZWVwZXInKS5kZWZlbmNlICsgZGVmZW5kaW5nVGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdkZWZlbmRlcicpKTtcblxuICAgIGlmIChhdHRhY2tpbmdQbGF5ZXIuYXR0YWNrID4gZGVmZW5kaW5nVmFsdWUpIHtcbiAgICAgIC8vIFJlZmFjdG9yIHRoaXNcbiAgICAgIGxldCBzY29yZSA9IG51bGw7XG4gICAgICBsZXQgZ2V0U2NvcmUgPSBudWxsO1xuICAgICAgaWYgKHRlYW1TdHJpbmcgPT09ICdob21lJykge1xuICAgICAgICBnZXRTY29yZSA9ICRob21lU2NvcmUudGV4dCgpO1xuICAgICAgICBzY29yZSA9IHBhcnNlRmxvYXQoZ2V0U2NvcmUpICsgMTtcbiAgICAgICAgJGhvbWVTY29yZS50ZXh0KHNjb3JlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdldFNjb3JlID0gJGF3YXlTY29yZS50ZXh0KCk7XG4gICAgICAgIHNjb3JlID0gcGFyc2VGbG9hdChnZXRTY29yZSkgKyAxO1xuICAgICAgICAkYXdheVNjb3JlLnRleHQoc2NvcmUpO1xuICAgICAgfVxuXG4gICAgICAvLyRjb21tZW50YXJ5Qm94LnRleHQoYEl0J3MgYSB3b25kZXIgZ29hbCEgR29hbCFgKTtcbiAgICAgIGdlbmVyYXRlQ29tbWVudGFyeSgnZnJlZWtpY2snLCBhdHRhY2tpbmdQbGF5ZXIpO1xuICAgICAgJChgIyR7dGVhbVN0cmluZ31FdmVudHNgKS5hcHBlbmQoYDxpIGNsYXNzPSdmYSBmYS1mdXRib2wtbycgc3R5bGU9J2ZvbnQtc2l6ZTogMjJweDsgY29sb3I6d2hpdGU7IHBhZGRpbmctdG9wOjVweCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7YXR0YWNraW5nUGxheWVyLm5hbWV9IHNjb3JlZDxici8+YCk7XG4gICAgICBhdHRhY2tpbmdQbGF5ZXIuYXR0YWNrICs9IDU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbmVyYXRlQ29tbWVudGFyeSgnd2FzdGVkRnJlZWtpY2snLCBhdHRhY2tpbmdQbGF5ZXIpO1xuICAgICAgYXR0YWNraW5nUGxheWVyLmNyZWF0aXZpdHkgLT0gMjtcbiAgICAgIGF0dGFja2luZ1RlYW0ucmVkdWNlVmFsdWVzKDEwLCAnYXR0YWNrJywgWydzdHJpa2VyJywgJ21pZGZpZWxkZXInLCAnZGVmZW5kZXInXSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGhhbmRsZVBlbmFsdHkoYXR0YWNraW5nVGVhbSwgdGVhbVN0cmluZywgZGVmZW5kaW5nVGVhbSkge1xuXG4gICAgY29uc3QgYXR0YWNraW5nUGxheWVyID0gYXR0YWNraW5nVGVhbS5yYW5kb21QbGF5ZXJCeVBvc2l0aW9uKCdzdHJpa2VyJyk7XG4gICAgY29uc3QgZGVmZW5kaW5nUGxheWVyID0gZGVmZW5kaW5nVGVhbS5yYW5kb21QbGF5ZXJCeVBvc2l0aW9uKCdnb2Fsa2VlcGVyJyk7XG4gICAgY29uc3QgYm9va2VkUGxheWVyID0gZGVmZW5kaW5nVGVhbS5yYW5kb21QbGF5ZXJCeVBvc2l0aW9uKCdkZWZlbmRlcicpO1xuICAgIGNvbnN0IHRlYW0gPSB0ZWFtU3RyaW5nID09PSAnaG9tZScgPyAnYXdheScgOiAnaG9tZSc7XG4gICAgLy8gQm9vayB0aGUgcGxheWVyP1xuICAgIGlmIChnZW5SYW5kb21WYWx1ZSgxMDApID4gMjUpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdoZXJlJyk7XG4gICAgICBib29rZWRQbGF5ZXIuc3RhdHVzID0gJ3llbGxvdyc7XG4gICAgICAkKGAjJHt0ZWFtfUV2ZW50c2ApLmFwcGVuZChgPGkgY2xhc3M9J2ZhIGZhLXNxdWFyZSBldmVudC1pdGVtJyBzdHlsZT0nZm9udC1zaXplOiAyNHB4OyBjb2xvcjogeWVsbG93OyBwYWRkaW5nLXRvcDo1cHgnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+ICR7bWF0Y2hUaW1lfSBtaW5zOiAke2Jvb2tlZFBsYXllci5uYW1lfSBib29rZWQ8YnIvPmApO1xuICAgIH1cblxuICAgIGlmICgoZ2VuUmFuZG9tVmFsdWUoYXR0YWNraW5nUGxheWVyLmF0dGFjaykqMikgPiBnZW5SYW5kb21WYWx1ZShkZWZlbmRpbmdQbGF5ZXIuZGVmZW5jZSkpIHtcblxuICAgICAgbGV0IHNjb3JlID0gbnVsbDtcbiAgICAgIGxldCBnZXRTY29yZSA9IG51bGw7XG4gICAgICBpZiAodGVhbVN0cmluZyA9PT0gJ2hvbWUnKSB7XG4gICAgICAgIGdldFNjb3JlID0gJGhvbWVTY29yZS50ZXh0KCk7XG4gICAgICAgIHNjb3JlID0gcGFyc2VGbG9hdChnZXRTY29yZSkgKyAxO1xuICAgICAgICAkaG9tZVNjb3JlLnRleHQoc2NvcmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2V0U2NvcmUgPSAkYXdheVNjb3JlLnRleHQoKTtcbiAgICAgICAgc2NvcmUgPSBwYXJzZUZsb2F0KGdldFNjb3JlKSArIDE7XG4gICAgICAgICRhd2F5U2NvcmUudGV4dChzY29yZSk7XG4gICAgICB9XG5cbiAgICAgIC8vICRjb21tZW50YXJ5Qm94LnRleHQoYCR7YXR0YWNraW5nUGxheWVyLm5hbWV9J3MgY2xpbmljYWwgZnJvbSB0aGUgc3BvdCEgR29hbCFgKTtcbiAgICAgIGdlbmVyYXRlQ29tbWVudGFyeSgncGVuYWx0eScsIGF0dGFja2luZ1BsYXllcik7XG4gICAgICAkKGAjJHt0ZWFtU3RyaW5nfUV2ZW50c2ApLmFwcGVuZChgPGkgY2xhc3M9J2ZhIGZhLWZ1dGJvbC1vJyBzdHlsZT0nZm9udC1zaXplOiAyMnB4OyBjb2xvcjp3aGl0ZTsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHthdHRhY2tpbmdQbGF5ZXIubmFtZX0gc2NvcmVzIHBlbmFsdHk8YnIvPmApO1xuICAgICAgYXR0YWNraW5nUGxheWVyLmF0dGFjayArPSA1O1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ21pc3NlZFBlbmFsdHknLCBhdHRhY2tpbmdQbGF5ZXIpO1xuICAgICAgJChgIyR7dGVhbVN0cmluZ31FdmVudHNgKS5hcHBlbmQoYDxpIGNsYXNzPSdmYSBmYS1mdXRib2wtbycgc3R5bGU9J2ZvbnQtc2l6ZTogMjJweDsgY29sb3I6cmVkOyBwYWRkaW5nLXRvcDo1cHgnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+ICR7bWF0Y2hUaW1lfSBtaW5zOiAke2F0dGFja2luZ1BsYXllci5uYW1lfSBtaXNzZWQgcGVuYWx0eTxici8+YCk7XG4gICAgICBkZWZlbmRpbmdQbGF5ZXIuZGVmZW5jZSArPSAxMDtcbiAgICAgIGF0dGFja2luZ1BsYXllci5hdHRhY2sgLT0gMTA7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RyYWlnaHRSZWQoZGVmZW5kaW5nVGVhbSwgdGVhbVN0cmluZykge1xuICAgIGNvbnN0IGRlZmVuZGluZ1BsYXllciA9IGRlZmVuZGluZ1RlYW0ucmFuZG9tUGxheWVyKCk7XG4gICAgaWYgKGdlblJhbmRvbVZhbHVlKGRlZmVuZGluZ1BsYXllci5kaXNjaXBsaW5lKSArICgxMDAtbWF0Y2hUaW1lKSA8IDI1KSB7XG4gICAgICBkZWZlbmRpbmdQbGF5ZXIucGxheWluZyA9IGZhbHNlO1xuICAgICAgZGVmZW5kaW5nUGxheWVyLnN0YXR1cyA9ICdlamVjdGVkJztcbiAgICAgIGNvbnN0IHRlYW0gPSB0ZWFtU3RyaW5nID09PSAnaG9tZScgPyAnYXdheScgOiAnaG9tZSc7XG4gICAgICAvLyAkY29tbWVudGFyeUJveC50ZXh0KCdUaGUgcmVmZXJlZSBnaXZlcyBoaW0gYSBzdHJhaWdodCByZWQhJyk7XG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ3N0cmFpZ2h0UmVkJywgZGVmZW5kaW5nUGxheWVyKTtcbiAgICAgICQoYCMke3RlYW19RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtc3F1YXJlJyBzdHlsZT0nZm9udC1zaXplOiAyNHB4OyBjb2xvcjogcmVkOyBwYWRkaW5nLXRvcDo1cHgnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+ICR7bWF0Y2hUaW1lfSBtaW5zOiAke2RlZmVuZGluZ1BsYXllci5uYW1lfSBzZW50IG9mZjxici8+YCk7XG4gICAgICAvLyBpZiAoZGVmZW5kaW5nVGVhbS5wbGFjZSA9PT0gJ2hvbWUnKSBwYXVzZVBsYXkoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb25maWdUZWFtKHRlYW0sIHNlbGVjdG9yKSB7XG4gICAgaWYgKGhvbWVUZWFtID09PSBudWxsKSB7XG4gICAgICAkKCcuaG9tZS10ZWFtICAudGVhbS1uYW1lJykudGV4dChzZWxlY3Rvcik7XG4gICAgICBzd2l0Y2ggKHNlbGVjdG9yKSB7XG4gICAgICAgIGNhc2UgJ1RvdHRlbmhhbSc6XG4gICAgICAgICAgaG9tZVRlYW0gPSBzcHVycztcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtLCAjaG9tZUJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGhvbWVUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbScpLmNzcygnY29sb3InLCBob21lVGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdNYW4gVW5pdGVkJzpcbiAgICAgICAgICBob21lVGVhbSA9IG1hblVuaXRlZDtcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtLCAjaG9tZUJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGhvbWVUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbScpLmNzcygnY29sb3InLCBob21lVGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdMaXZlcnBvb2wnOlxuICAgICAgICAgIGhvbWVUZWFtID0gbGl2ZXJwb29sO1xuICAgICAgICAgICQoJy5ob21lLXRlYW0sICNob21lQmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgaG9tZVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtJykuY3NzKCdjb2xvcicsIGhvbWVUZWFtLmNvbG9yc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ01hbiBDaXR5JzpcbiAgICAgICAgICBob21lVGVhbSA9IG1hbkNpdHk7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbSwgI2hvbWVCYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBob21lVGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5ob21lLXRlYW0nKS5jc3MoJ2NvbG9yJywgaG9tZVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRXZlcnRvbic6XG4gICAgICAgICAgaG9tZVRlYW0gPSBldmVydG9uO1xuICAgICAgICAgICQoJy5ob21lLXRlYW0sICNob21lQmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgaG9tZVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtJykuY3NzKCdjb2xvcicsIGhvbWVUZWFtLmNvbG9yc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0NoZWxzZWEnOlxuICAgICAgICAgIGhvbWVUZWFtID0gY2hlbHNlYTtcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtLCAjaG9tZUJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGhvbWVUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbScpLmNzcygnY29sb3InLCBob21lVGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdMZWljZXN0ZXInOlxuICAgICAgICAgIGhvbWVUZWFtID0gbGVpY2VzdGVyO1xuICAgICAgICAgICQoJy5ob21lLXRlYW0sICNob21lQmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgaG9tZVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtJykuY3NzKCdjb2xvcicsIGhvbWVUZWFtLmNvbG9yc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0Fyc2VuYWwnOlxuICAgICAgICAgIGhvbWVUZWFtID0gYXJzZW5hbDtcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtLCAjaG9tZUJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGhvbWVUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbScpLmNzcygnY29sb3InLCBob21lVGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaG9tZVRlYW0ucGxhY2UgPSAnaG9tZSc7XG4gICAgICBjb25zb2xlLmxvZyhob21lVGVhbSk7XG4gICAgfSBlbHNlIHtcblxuICAgICAgJCgnLmF3YXktdGVhbSAudGVhbS1uYW1lJykudGV4dChzZWxlY3Rvcik7XG5cbiAgICAgIHN3aXRjaCAoc2VsZWN0b3IpIHtcbiAgICAgICAgY2FzZSAnVG90dGVuaGFtJzpcbiAgICAgICAgICBhd2F5VGVhbSA9IHNwdXJzO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0sIC5wb3NzZXNzaW9uLWJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGF3YXlUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbScpLmNzcygnY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdNYW4gVW5pdGVkJzpcbiAgICAgICAgICBhd2F5VGVhbSA9IG1hblVuaXRlZDtcbiAgICAgICAgICAkKCcuYXdheS10ZWFtLCAucG9zc2Vzc2lvbi1iYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0nKS5jc3MoJ2NvbG9yJywgYXdheVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTGl2ZXJwb29sJzpcbiAgICAgICAgICBhd2F5VGVhbSA9IGxpdmVycG9vbDtcbiAgICAgICAgICAkKCcuYXdheS10ZWFtLCAucG9zc2Vzc2lvbi1iYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0nKS5jc3MoJ2NvbG9yJywgYXdheVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTWFuIENpdHknOlxuICAgICAgICAgIGF3YXlUZWFtID0gbWFuQ2l0eTtcbiAgICAgICAgICAkKCcuYXdheS10ZWFtLCAucG9zc2Vzc2lvbi1iYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0nKS5jc3MoJ2NvbG9yJywgYXdheVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRXZlcnRvbic6XG4gICAgICAgICAgYXdheVRlYW0gPSBldmVydG9uO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0sIC5wb3NzZXNzaW9uLWJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGF3YXlUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbScpLmNzcygnY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdDaGVsc2VhJzpcbiAgICAgICAgICBhd2F5VGVhbSA9IGNoZWxzZWE7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbSwgLnBvc3Nlc3Npb24tYmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgYXdheVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICAgICAkKCcuYXdheS10ZWFtJykuY3NzKCdjb2xvcicsIGF3YXlUZWFtLmNvbG9yc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0xlaWNlc3Rlcic6XG4gICAgICAgICAgYXdheVRlYW0gPSBsZWljZXN0ZXI7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbSwgLnBvc3Nlc3Npb24tYmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgYXdheVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICAgICAkKCcuYXdheS10ZWFtJykuY3NzKCdjb2xvcicsIGF3YXlUZWFtLmNvbG9yc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0Fyc2VuYWwnOlxuICAgICAgICAgIGF3YXlUZWFtID0gYXJzZW5hbDtcbiAgICAgICAgICAkKCcuYXdheS10ZWFtLCAucG9zc2Vzc2lvbi1iYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0nKS5jc3MoJ2NvbG9yJywgYXdheVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGF3YXlUZWFtLnBsYWNlID0gJ2F3YXknO1xuICAgICAgY29uc29sZS5sb2coYXdheVRlYW0pO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKHNlbGVjdG9yKTtcbiAgICAvLyBQYXNzIGluIHRoZSBvYmplY3QgdmFsdWVzIHRvIGhvbWVUZWFtXG4gIH1cblxuICBmdW5jdGlvbiBnZW5lcmF0ZUNvbW1lbnRhcnkoc2NlbmFyaW8sIHBsYXllcikge1xuICAgIGNvbnN0IGNvbW1lbnRhcnkgPSB7XG4gICAgICBnb2FsOiBbJ0dvYWwhJywgJ0hlXFwncyBzY29yZWQhJywgYFRoYXQncyBhIGdyZWF0IGZpbmlzaCFgLCBgV2hhdCBhIGdvYWwgYnkgJHtwbGF5ZXIubmFtZX1gLCBgJHtwbGF5ZXIubmFtZX0gZmluaXNoZXMgb2ZmIHRoZSBtb3ZlIWBdLFxuICAgICAgZnJlZWtpY2s6IFtgSXQncyBhIGZyZWVraWNrYCwgYCR7cGxheWVyLm5hbWV9IHRvIHRha2UgdGhlIGZyZWVraWNrYCwgYEhlIGxpbmVzIHVwIHRoZSBmcmVla2lja2AsIGBUaGlzIGlzIGEgY2hhbmNlIHRvIGdldCBhIGNyb3NzIGluYF0sXG4gICAgICB3YXN0ZWRGcmVla2ljazogW2Ake3BsYXllci5uYW1lfSBsb3NlcyBwb3NzZXNzaW9uYCwgYFRoYXQncyBlbmRlZCB1cCBpbiByb3cgWmAsIGBUaGUgYXR0YWNrIGFtb3VudHMgdG8gbm90aGluZ2AsIGAke3BsYXllci5uYW1lfSBoYXMgd2FzdGVkIHRoYXQgb3Bwb3J0dW5pdHlgLCBgJHtwbGF5ZXIubmFtZX0ncyBlZmZvcnQgZ29lcyBvdmVyIHRoZSBiYXJgLCBgSGUgaGFuZHMgYmFjayBwb3NzZXNzaW9uIHRvIHRoZSBvdGhlciB0ZWFtYF0sXG4gICAgICB5ZWxsb3c6IFtgSGUncyBnb2luZyBpbiB0aGUgYm9va2AsIGBPdWNoISAke3BsYXllci5uYW1lfSB3aWxsIGdldCBhIHllbGxvdyBmb3IgdGhhdGAsIGBUaGF0J3MgYSBib29raW5nYCwgYEl0J3MgYSB5ZWxsb3chYCwgYFRoZSByZWYgaXMgdGFraW5nIGhpcyBuYW1lYF0sXG4gICAgICBzZWNvbmRZZWxsb3c6IFtgSGUncyBhbHJlYWR5IGJlZW4gYm9va2VkLi4uYCwgYFRoYXQncyBhIHNlY29uZCB5ZWxsb3dgLCBgJHtwbGF5ZXIubmFtZX0gaXMgc2hvd24gYSByZWQhYCwgYCR7cGxheWVyLm5hbWV9IGlzIG9mZmBdLFxuICAgICAgc3RyYWlnaHRSZWQ6IFtgJHtwbGF5ZXIubmFtZX0gaXMgc2hvd24gYSBzdHJhaWdodCByZWQhYCwgYCR7cGxheWVyLm5hbWV9IGlzIG9mZmAsIGBUaGUgcmVmIGhhcyBnaXZlbiBoaW0gc3RyYWlnaHQgcmVkIWBdLFxuICAgICAgcGVuYWx0eTogW2BUaGUgcmVmZXJlZSBwb2ludHMgdG8gdGhlIHNwb3RgLCBgVGhhdCdzIGEgcGVuYWx0eWAsIGAke3BsYXllci5uYW1lfSBpcyBmb3VsZWQgaW4gdGhlIGFyZWFgLCBgVGhlIHJlZiBibG93cyBoaXMgd2hpc3RsZS4gUGVuYWx0eS5gXSxcbiAgICAgIG1pc3NlZFBlbmFsdHk6IFtgU2F2ZWQhYCwgYEl0J3Mgb3ZlciB0aGUgYmFyYCwgYCR7cGxheWVyLm5hbWV9IGhhcyBtaXNzZWQgaXQhYCwgYE9oIGRlYXIhICR7cGxheWVyLm5hbWV9J3MgcHV0IGl0IHdpZGUnYF0sXG4gICAgICBpbmp1cnk6IFtgJHtwbGF5ZXIubmFtZX0ncyBpcyBnb2luZyBvZmZgLGAke3BsYXllci5uYW1lfSBpcyBpbmp1cmVkYCxgJHtwbGF5ZXIubmFtZX0gY2FuJ3QgY29udGludWVgXSxcbiAgICAgIGNoYW5jZTogW2BUaGUgYmFsbCBpcyB3YXN0ZWRgLCBgUG9zc2Vzc2lvbiBpcyBzbG9wcGlseSBnaXZlbiBhd2F5YCwgYFRoYXQgaXMgd2FzdGVkYCwgYFRoZSByZWZlcmVlIHB1bGxzIGJhY2sgcGxheWAsIGBUaGUgYmFsbCBnb2VzIG91dCBmb3IgYSB0aHJvd2AsIGBHb29kIGludGVyY2VwdGlvbiFgLCBgSGUncyByb2JiZWQgaGltIG9mIHBvc3Nlc2lvbmBdXG4gICAgfTtcbiAgICBjb25zdCByYW5kb21JbmRleCA9IGdlblJhbmRvbVZhbHVlKGNvbW1lbnRhcnlbc2NlbmFyaW9dLmxlbmd0aCk7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNvbW1lbnRhcnlbc2NlbmFyaW9dW3JhbmRvbUluZGV4XTtcbiAgICAkY29tbWVudGFyeUJveC50ZXh0KGAke21lc3NhZ2V9YCk7XG5cbiAgfVxuXG59KTtcbiJdfQ==
