"use strict";var _slicedToArray=function(){function e(e,a){var t=[],s=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(s=(i=o.next()).done)&&(t.push(i.value),!a||t.length!==a);s=!0);}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}return t}return function(a,t){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return e(a,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();$(function(){function e(e){$(".team-panel").html(""),$(".formation").val(e.formation),e.players.sort(function(e,a){return M.indexOf(e.position)<M.indexOf(a.position)?-1:1});for(var a=0;a<e.players.length;a++){var t=e.players[a],s=t.playing?"&#10004;":"&#10007;";$(".team-panel").append('<p class="player-line '+t.position+" "+t.status+"\" id='"+t.name+"'>\n          <span class=\"starting "+t.status+'" id="'+a+'">'+s+'</span>\n          <span class="player-position ">'+t.position+'</span>\n          <span class="player-name">'+t.name+'</span>\n          <span class="player-stat">'+t.attack+'</span>\n          <span class="player-stat">'+t.defence+'</span>\n          <span class="player-stat">'+t.creativity+'</span>\n          <span class="player-stat">'+t.defence+'</span>\n          <span class="player-stat">'+t.fitness+"</span>\n        </p>")}}function a(e){$(".team-display").html("");var a=["1"].concat(e.formation.split("-")),t=0,s=0;try{a.map(function(a){for(var n=parseFloat(a),r=0;r<n;){if(e.players[t].playing||"ejected"===e.players[t].status){var i=M[s]!==e.players[t].position?"warning":"";$(".team-display").append("<span class='player-block "+i+" "+e.players[t].status+"'>"+e.players[t].name+"</span>"),e.players[t].chosenPosition=M[s],r++}t++}$(".team-display").append('<div class="seperate-players">'),s++})}catch(e){$(".team-display").append("<p class='team-selection-warning seperate-players'>Less than 11 players selected!</p>")}}function t(e,t){if(e.players[t].playing=!e.players[t].playing,a(x),e.players[t].playing){if($("#"+t).html("&#10004;"),z){console.log("clicked"),$("#"+t).parent().css({background:"green"});var n=e.players[t];s(e,n)}}else if($("#"+t).html("&#10007;"),z){$("#"+t).parent().css({"pointer-events":"none",background:"red"});var r=e.players[t];s(e,r)}}function s(e,a){e.subs<7?a.playing?($("#"+e.place+"Events").append("<i class='fa fa-arrow-right' style='font-size: 22px; color:green; padding-top:5px' aria-hidden='true'></i> "+P+" mins: "+a.name+" substituted<br/>"),e.subs+=1,a.playing=!0,a.status="subbed-on"):($("#"+e.place+"Events").append("<i class='fa fa-arrow-right' style='font-size: 22px; color:red; padding-top:5px' aria-hidden='true'></i> "+P+" mins: "+a.name+" substituted<br/>"),e.subs+=1,a.playing=!1,a.status="subbed-off"):console.log("You have had 3 subs!")}function n(){44===P&&(k.text("That's half-time!"),T=!T,v.text("Play")),90===P?(k.text("That's full-time!"),clearInterval(j),v.text("Finish")):(P++,g.text(P))}function r(e){return Math.floor(Math.random()*e)}function i(){var e=document.getElementById("homeBar");V=E.averagePlayerValues("creativity")/(E.averagePlayerValues("creativity")+F.averagePlayerValues("creativity"))*100+(Math.random()<.5?-r(6):r(6)),e.style.width=V+"%"}function o(){return r(E.averagePlayerValues("creativity")+E.averagePlayerValues("fitness"))>=r(F.averagePlayerValues("creativity")+F.averagePlayerValues("fitness"))?(k.css("background-color",E.colors[0]),k.css("color",E.colors[1]),r(20)%4==0&&(k.text(y("chance","")),E.increaseValues(3,"attack",["midfielder","striker"]),E.increaseValues(3,"creativity",["midfielder","striker"])),[E,F]):(k.css("background-color",F.colors[0]),k.css("color",F.colors[1]),r(20)%4==0&&(F.increaseValues(3,"attack",["midfielder","striker"]),F.increaseValues(3,"creativity",["midfielder","striker"]),k.text(y("chance",""))),[F,E])}function l(e,a){var t=e.randomPlayer(),s=a.randomPlayerByPosition("defender");r(t.attack)>r(s.defence)&&(y("goal",t),h(e),$("#"+e.place+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:white; padding-top:5px' aria-hidden='true'></i> "+P+" mins: "+t.name+" scored<br/>"))}function c(e,a){var t=a.randomPlayer();r(t.discipline)+(100-P)<90&&"ejected"!==t.status&&("yellow"===t.status?(k.css("background-color","#FF0000"),k.css("color","#FFFFFF"),a.reduceValues(10,"defence",["striker","midfielder","defender","goalkeeper"]),a.reduceValues(25,"attack",["striker","midfielder","defender","goalkeeper"]),a.reduceValues(25,"creativity",["striker","midfielder","defender","goalkeeper"]),y("secondYellow",t),$("#"+a.place+"Events").append("<i class='fa fa-square event-item' style='font-size: 24px; color: red; padding-top:5px' aria-hidden='true'></i> "+P+" mins: "+t.name+" sent off<br/>"),t.status="ejected",t.playing=!1):(k.css("background-color","yellow"),k.css("color","#000000"),y("yellow",t),t.defence-=8,$("#"+a.place+"Events").append("\n          <i class='fa fa-square event-item' style='font-size: 24px; color: yellow; padding-top:5px' aria-hidden='true'></i> "+P+" mins: "+t.name+" booked<br/>"),t.status="yellow",t.fitness-=r(5)))}function d(e){var a=e.randomPlayer();if(r(101)%40==0)if(y("injury",a),$("#"+e.place+"Events").append("<i class='fa fa-plus' style='font-size: 26px; color: green; padding-top:5px' aria-hidden='true'></i> "+P+" mins: "+a.name+" injured<br/>"),"away"===e.place&&B){a.playing=!a.playing,s(F,a);var t=F.randomSubstitute(a.position);t.playing=!t.playing,s(F,t)}else a.fitness=0+r(30),a.status="injured",a.playing=!1;else a.fitness-=r(15),a.defence-=r(10),a.attack-=r(10),y("nearMiss",a)}function p(e,a){var t=e.randomPlayerByPosition("midfielder"),s=a.randomPlayerByPosition("goalkeeper").defence+a.averagePlayerValues("defender");t.attack>s?(h(e),y("freekick",t),$("#"+e.place+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:white; padding-top:5px' aria-hidden='true'></i> "+P+" mins: "+t.name+" scored<br/>"),t.attack+=5):(y("wastedFreekick",t),t.creativity-=5,e.reduceValues(r(10),"attack",["striker","midfielder"]),e.reduceValues(r(10),"creativity",["striker","midfielder"]))}function u(e,a){var t=e.randomPlayerByPosition("striker"),s=a.randomPlayerByPosition("goalkeeper"),n=a.randomPlayerByPosition("defender");r(100)>25&&(n.status="yellow",$("#"+a.place+"Events").append("<i class='fa fa-square event-item' style='font-size: 24px; color: yellow; padding-top:5px' aria-hidden='true'></i> "+P+" mins: "+n.name+" booked<br/>")),2*r(t.attack)>r(s.defence)?(h(e),y("penalty",t),$("#"+e.place+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:white; padding-top:5px' aria-hidden='true'></i> "+P+" mins: "+t.name+" scores penalty<br/>"),t.attack+=5):(y("missedPenalty",t),$("#"+e.place+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:red; padding-top:5px' aria-hidden='true'></i> "+P+" mins: "+t.name+" missed penalty<br/>"),s.defence+=10,t.attack-=10)}function f(e){var a=e.randomPlayer();r(a.discipline)+(100-P)<25&&(a.playing=!1,a.status="ejected",y("straightRed",a),$("#"+e.place+"Events").append("<i class='fa fa-square' style='font-size: 24px; color: red; padding-top:5px' aria-hidden='true'></i> "+P+" mins: "+a.name+" sent off<br/>"))}function m(e,a){if(null===E){switch($(".home-team  .team-name").text(a),a){case"Tottenham":E=spurs;break;case"Man United":E=manUnited;break;case"Liverpool":E=liverpool;break;case"Man City":E=manCity;break;case"Everton":E=everton;break;case"Chelsea":E=chelsea;break;case"Leicester":E=leicester;break;case"Arsenal":E=arsenal}E.place="home",$(".home-team, #homeBar").css("background-color",E.colors[0]),$(".home-team").css("color",E.colors[1])}else{switch($(".away-team .team-name").text(a),a){case"Tottenham":F=spurs;break;case"Man United":F=manUnited;break;case"Liverpool":F=liverpool;break;case"Man City":F=manCity;break;case"Everton":F=everton;break;case"Chelsea":F=chelsea;break;case"Leicester":F=leicester;break;case"Arsenal":F=arsenal}F.place="away",$(".away-team, .possession-bar").css("background-color",F.colors[0]),$(".away-team").css("color",F.colors[1])}}function y(e,a){var t={goal:["Goal!","He's scored!","That's a great finish!","What a goal by "+a.name,a.name+" finishes off the move!"],freekick:["It's a freekick",a.name+" to take the freekick","He lines up the freekick","This is a chance to get a cross in"],wastedFreekick:[a.name+" loses possession","That's ended up in row Z","The attack amounts to nothing",a.name+" has wasted that opportunity",a.name+"'s effort goes over the bar","He hands back possession to the other team"],yellow:["He's going in the book","Ouch! "+a.name+" will get a yellow for that","That's a booking","It's a yellow!","The ref is taking his name"],secondYellow:["He's already been booked...","That's a second yellow",a.name+" is shown a red!",a.name+" is off"],straightRed:[a.name+" is shown a straight red!",a.name+" is off","The ref has given him straight red!"],penalty:["The referee points to the spot","That's a penalty",a.name+" is fouled in the area","The ref blows his whistle. Penalty."],missedPenalty:["Saved!","It's over the bar",a.name+" has missed it!","Oh dear! "+a.name+"'s put it wide'"],injury:[a.name+"'s is going off",a.name+" is injured",a.name+" can't continue"],chance:["The ball is wasted","Possession is sloppily given away","That is wasted","The referee pulls back play","The ball goes out for a throw","Good interception!","He's robbed him of possesion","That was a wayward ball","He can't quite get on the end of that one"],nearMiss:[a.name+" is limping, but he'll be okay","That's a sore one.",a.name+" looks to be struggling","There's a nasty coming together","The referee waves play on"]},s=r(t[e].length),n=t[e][s];k.text(""+n)}function h(e){var a=null,t=null;"home"===e.place?(t=b.text(),a=parseFloat(t)+1,b.text(a)):(t=w.text(),a=parseFloat(t)+1,w.text(a))}var g=$(".changing-minutes"),k=$("#commentaryBox"),v=$(".primary-button"),b=$(".home-team .score"),w=$(".away-team .score"),x=null,P=0,T=!1,V=50,E=null,F=null,z=!1,B=!0,M=["goalkeeper","defender","midfielder","striker"],j=setInterval(function(){if(T){var e=r(100)+1;console.log(P+": "+e);var a=o(),t=_slicedToArray(a,2),m=t[0],y=t[1];if(e%17==0&&(l(m,y),m.increaseValues(5,"attack",["midfielder","striker"]),m.increaseValues(5,"creativity",["midfielder","striker"]),y.reduceValues(5,"defence",["midfielder","defender","goalkeeper"])),e%(r(30)+90)==0&&(u(m,y),y.reduceValues(3,"defence",["midfielder","defender","goalkeeper"])),e%90==0&&(f(y),y.reduceValues(25,"defence",["striker","midfielder","defender","goalkeeper"]),y.reduceValues(25,"attack",["striker","midfielder","defender","goalkeeper"]),y.reduceValues(25,"creativity",["striker","midfielder","defender","goalkeeper"])),e%22==0&&(p(m,y),m.increaseValues(5,"attack",["midfielder","striker"]),m.increaseValues(5,"creativity",["midfielder","striker"])),e%18==0&&c(m,y),e%25==0&&(d(m),y.reduceValues(3,"creativity",["striker","midfielder","defender","goalkeeper"])),B&&e%10==0&&F.subs<6&&P>50){var h=r(M.length)+1,g=M[h];if(M[h]){var k=F.randomPlayerByPosition(g,"subbed-on");k.playing=!k.playing,s(F,k);var v=F.randomSubstitute(g);v.playing=!v.playing,s(F,v)}}var b=r(M.length)+1,w=M[b];y.reduceValues(r(10),"fitness",[w]),i(),n()}},500);$(".team-input").on("click",function(e){var a=e.target.innerHTML;null===E?(m(E,a),$(".title-message").text("Home team chosen. Now chose your opponent."),$(e.target).attr("disabled",!0)):(m(F,a),$(".title-message").text("Opponent selected. Now edit tactics or proceed to match."),$(e.target).attr("disabled",!0))}),$("#playerMode").on("click",function(){B=!B}),$(".team-panel").on("click",function(e){var a=e.target.id;t(x,a)}),v.on("click",function(){T=!T,$("#match-setup, .info-message, .team-setup").hide(),$("#match-engine, .away-team, .home-team, .timer").show(),T?(v.text("Pause"),z=!0):v.text("Play")}),$("#homeTeam").on("click",function(){T&&(T=!T),v.text("Play"),$(".match-setup, .match-engine").hide(),$(".team-setup").show(),e(E),x=E,a(x)}),$("#awayTeam").on("click",function(){T&&(T=!T),v.text("Play"),$(".match-setup, .match-engine").hide(),$(".team-setup").show(),e(F),x=F,a(x)}),$(".go-back").on("click",function(){$(".team-setup").hide(),$(".match-setup").show()}),$(".formation").on("change",function(e){var t=e.target.value;x.formation=t,a(x)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwibmV3Rm9ybWF0aW9uIiwiZSIsInRlYW1UYWN0aWNzIiwiZm9ybWF0aW9uIiwicmV2ZWFsVGVhbSIsInRlYW1PYmplY3QiLCJzZXR1cFRhY3RpY3MiLCJzb3J0IiwiYSIsImIiLCJwb3NpdGlvbnMiLCJodG1sIiwicG9zaXRpb24iLCJpbmRleE9mIiwiaSIsInBsYXllcnMiLCJsZW5ndGgiLCJzdGFydGluZ0VsZXZlbiIsInBsYXllciIsInBsYXlpbmciLCJhcHBlbmQiLCJzdGF0dXMiLCJuYW1lIiwiYXR0YWNrIiwiZGVmZW5jZSIsImNyZWF0aXZpdHkiLCJmaXRuZXNzIiwiaXRlcmF0aW9ucyIsInBhcnNlRmxvYXQiLCJzcGxpdCIsInBsYXllck51bWJlciIsInBvc2l0aW9uTnVtYmVyIiwid2FybmluZ01lc3NhZ2UiLCJhcnJheUl0ZW0iLCJlcnIiLCJjaG9zZW5Qb3NpdGlvbiIsInNlbGVjdGVkUGxheWVyIiwiY2hvb3NlUGxheWVycyIsImNzcyIsInN1YnN0aXR1dGUiLCJwbGF5ZXJPZmYiLCJjb25zb2xlIiwibG9nIiwicGFyZW50IiwiYmFja2dyb3VuZCIsInBsYXllck9uIiwicG9pbnRlci1ldmVudHMiLCJzdWJzIiwidGltZUNvbnRyb2wiLCJwbGFjZSIsIm1hdGNoVGltZSIsIiRjb21tZW50YXJ5Qm94IiwidGV4dCIsIiRtYXRjaFRpbWUiLCJydW4iLCJnZW5SYW5kb21WYWx1ZSIsIiRwcmltYXJ5QnV0dG9uIiwiTWF0aCIsImNsZWFySW50ZXJ2YWwiLCJkb2N1bWVudCIsIndpZHRoIiwiaG9tZVRlYW0iLCJhdmVyYWdlUGxheWVyVmFsdWVzIiwic2VsZWN0VGVhbSIsInZhbHVlIiwiZmxvb3IiLCJyYW5kb20iLCJob21lUmFuZG9tIiwiZWxlbSIsImdldEVsZW1lbnRCeUlkIiwiY29sb3JzIiwiYXdheVRlYW0iLCJzdHlsZSIsImdlbmVyYXRlQ29tbWVudGFyeSIsImluY3JlYXNlVmFsdWVzIiwiYXR0YWNraW5nVGVhbSIsImRlZmVuZGluZ1RlYW0iLCJhdHRhY2tpbmdQbGF5ZXIiLCJyYW5kb21QbGF5ZXIiLCJkZWZlbmRpbmdQbGF5ZXIiLCJyYW5kb21QbGF5ZXJCeVBvc2l0aW9uIiwiZ29hbENoYW5jZSIsInVwZGF0ZVNjb3JlIiwicmVkdWNlVmFsdWVzIiwiZGlzY2lwbGluZSIsImhhbmRsZUluanVyeSIsImFkZFBsYXllciIsImNwdU1vZGUiLCJoYW5kbGVGcmVla2ljayIsImRlZmVuZGluZ1ZhbHVlIiwiYm9va2VkUGxheWVyIiwidGVhbSIsInNlbGVjdG9yIiwibWFuVW5pdGVkIiwibGl2ZXJwb29sIiwiY29uZmlnVGVhbSIsImxlaWNlc3RlciIsInNwdXJzIiwibWFuQ2l0eSIsImV2ZXJ0b24iLCJjaGVsc2VhIiwiY29tbWVudGFyeSIsImdvYWwiLCJmcmVla2ljayIsIndhc3RlZEZyZWVraWNrIiwieWVsbG93Iiwic2Vjb25kWWVsbG93Iiwic3RyYWlnaHRSZWQiLCJwZW5hbHR5IiwibWlzc2VkUGVuYWx0eSIsImluanVyeSIsImNoYW5jZSIsIm5lYXJNaXNzIiwiYXJzZW5hbCIsInNjZW5hcmlvIiwiZ2V0U2NvcmUiLCJzY29yZSIsIiRob21lU2NvcmUiLCIkYXdheVNjb3JlIiwicmFuZG9tSW5kZXgiLCJtZXNzYWdlIiwic2V0SW50ZXJ2YWwiLCJ0aW1lcklEIiwiZXZlbnRWYWx1ZSIsIl9zZWxlY3RUZWFtIiwiX3NlbGVjdFRlYW0yIiwiX3NsaWNlZFRvQXJyYXkiLCJoYW5kbGVQZW5hbHR5IiwiaGFuZGxlRGlzY2lwbGluZSIsInJlbW92ZVBsYXllciIsInJhbmRvbVBvc2l0aW9uIiwibW92ZSIsInVzZXJUZWFtIiwidGFyZ2V0IiwiaW5uZXJIVE1MIiwiYXR0ciIsIm9uIiwiaWQiLCJoaWRlIiwic2hvdyIsImdhbWVTdGFydGVkIl0sIm1hcHBpbmdzIjoibWNBQUFBLEdBQUUsV0ErS0UsUUFBTUMsR0FBZUMsR0FDckJDLEVBQUFBLGVBQVlDLEtBQVosSUFDQUMsRUFBQUEsY0FBV0Ys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LElBT0ZSLEVBQUFBLGVBQVdBLEdBQVgsUUFBQSxTQUFBdEYsR0FERixHQUFBbUMsR0FBQW5DLEVBQUFvSSxPQUFBSSxFQVVFcEcsR0FBY25DLEVBQWFrQyxLQUc3Qm9CLEVBQWVnRixHQUFHLFFBQVMsV0FOM0JsRixHQUFBQSxFQUNFdkQsRUFBQSw0Q0FBa0MySSxPQUNsQzNJLEVBQUEsaURBQUE0SSxPQUNBdEcsR0FGRm1CLEVBQUFKLEtBQUEsU0FXSXdGLEdBQWMsR0FMaEJ0RixFQUFBRixLQUFBLFVBS0V3RixFQUFBQSxhQUFBQSxHQUFjLFFBQWQsV0FGRnRGLElBSUVFLEdBQUFBLEdBS0ZBLEVBQUZKLEtBQWtCLFFBQ2hCckQsRUFBQSwrQkFBUzJJLE9BQ1BwRixFQUFBQSxlQUFBcUYsT0FDRHJJLEVBQUF1RCxHQU9EM0QsRUFBYzJELEVBTGR6RCxFQUFBRixLQUlBSSxFQUFBQSxhQUFhdUQsR0FBQUEsUUFBYixXQUNBM0QsSUFDQUUsR0FBQUEsR0FRQW9ELEVBQWVKLEtBQUssUUFKcEJyRCxFQUFBLCtCQUF5QjJJLE9BQ3pCM0ksRUFBQSxlQUFTNEksT0FDUHJGLEVBQUFpQixHQUNEckUsRUFBQXFFLEVBQ0RmLEVBQUFBLEtBR0FsRCxFQUFBQSxZQUFBQSxHQUFhaUUsUUFBYixXQUNBckUsRUFBQUEsZUFBY3FFLE9BQ2RuRSxFQUFBQSxnQkFBV0YsU0FHYkgsRUFBRSxjQUFGeUksR0FBaUIsU0FBUyxTQUFBdkksR0FDeEJGLEdBQUVDLEdBQUZDLEVBQUFvSSxPQUFBckUsS0FDQWpFLEdBQUVJLFVBQUZILEVBRkZJLEVBQUFGIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuICBjb25zdCAkbWF0Y2hUaW1lID0gJCgnLmNoYW5naW5nLW1pbnV0ZXMnKTtcbiAgY29uc3QgJGNvbW1lbnRhcnlCb3ggPSAkKCcjY29tbWVudGFyeUJveCcpO1xuICBjb25zdCAkcHJpbWFyeUJ1dHRvbiA9ICQoJy5wcmltYXJ5LWJ1dHRvbicpO1xuICBjb25zdCAkaG9tZVNjb3JlID0gJCgnLmhvbWUtdGVhbSAuc2NvcmUnKTtcbiAgY29uc3QgJGF3YXlTY29yZSA9ICQoJy5hd2F5LXRlYW0gLnNjb3JlJyk7XG5cbiAgbGV0IHRlYW1UYWN0aWNzID0gbnVsbDtcbiAgbGV0IG1hdGNoVGltZSA9IDA7XG4gIGxldCBydW4gPSBmYWxzZTtcbiAgbGV0IHdpZHRoID0gNTA7XG4gIGxldCBob21lVGVhbSA9IG51bGw7XG4gIGxldCBhd2F5VGVhbSA9IG51bGw7XG4gIGxldCBnYW1lU3RhcnRlZCA9IGZhbHNlO1xuICBsZXQgY3B1TW9kZSA9IHRydWU7XG4gIGNvbnN0IHBvc2l0aW9ucyA9IFsnZ29hbGtlZXBlcicsICdkZWZlbmRlcicsICdtaWRmaWVsZGVyJywgJ3N0cmlrZXInXTtcblxuICAvLyBNQVRDSCBMT0dJQ1xuXG4gIGNvbnN0IHRpbWVySUQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcblxuICAgIGlmIChydW4pIHtcblxuICAgICAgY29uc3QgZXZlbnRWYWx1ZSA9IGdlblJhbmRvbVZhbHVlKDEwMCkgKyAxO1xuICAgICAgY29uc29sZS5sb2coYCR7bWF0Y2hUaW1lfTogJHtldmVudFZhbHVlfWApO1xuXG4gICAgICAvLyBSYW5kb20oQXZlcmFnZSBUZWFtIENyZWF0aXZpdHkpICsgRml0bmVzcyA9PiBIaWdoZXIgc2NvcmUgZGV0ZXJtaW5lcyB0aGUgYXR0YWNraW5nIHRlYW1cbiAgICAgIGNvbnN0IFthdHRhY2tpbmdUZWFtLCBkZWZlbmRpbmdUZWFtXSA9IHNlbGVjdFRlYW0oKTtcblxuICAgICAgaWYgKGV2ZW50VmFsdWUgJSAxNyA9PT0gMCkge1xuICAgICAgICAvLyBSYW5kb20gKFN0cmlrZXIsIE1pZGZpZWxkZXIpIHZzLiBHb2Fsa2VlcGVyID4gUmFuZFRoZWlyQXR0YWNrIHZzLiBSYW5kR29hbGtlZXBlclxuICAgICAgICBnb2FsQ2hhbmNlKGF0dGFja2luZ1RlYW0sIGRlZmVuZGluZ1RlYW0pO1xuICAgICAgICBhdHRhY2tpbmdUZWFtLmluY3JlYXNlVmFsdWVzKDUsJ2F0dGFjaycsWydtaWRmaWVsZGVyJywgJ3N0cmlrZXInXSk7XG4gICAgICAgIGF0dGFja2luZ1RlYW0uaW5jcmVhc2VWYWx1ZXMoNSwnY3JlYXRpdml0eScsWydtaWRmaWVsZGVyJywgJ3N0cmlrZXInXSk7XG4gICAgICAgIGRlZmVuZGluZ1RlYW0ucmVkdWNlVmFsdWVzKDUsJ2RlZmVuY2UnLFsnbWlkZmllbGRlcicsICdkZWZlbmRlcicsICdnb2Fsa2VlcGVyJ10pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnRWYWx1ZSAlIChnZW5SYW5kb21WYWx1ZSgzMCkgKyA5MCkgPT09IDApIHtcbiAgICAgICAgLy8gU3RyaWtlciB2cy4gR29hbGtlZXBlciA+IFJhbmRUaGVpckF0dGFjayB2cy4gUmFuZEdvYWxrZWVwZXJQZW5hbHR5XG4gICAgICAgIGhhbmRsZVBlbmFsdHkoYXR0YWNraW5nVGVhbSwgZGVmZW5kaW5nVGVhbSk7XG4gICAgICAgIGRlZmVuZGluZ1RlYW0ucmVkdWNlVmFsdWVzKDMsJ2RlZmVuY2UnLFsnbWlkZmllbGRlcicsICdkZWZlbmRlcicsICdnb2Fsa2VlcGVyJ10pO1xuICAgICAgfVxuICAgICAgLy9cbiAgICAgIGlmIChldmVudFZhbHVlICUgOTAgPT09IDApIHtcbiAgICAgICAgLy8gUmFuZG9tIFBsYXllciA9PiBEaXNjaXBsaW5lID4gcmFuZG9tXG4gICAgICAgIHN0cmFpZ2h0UmVkKGRlZmVuZGluZ1RlYW0pO1xuICAgICAgICBkZWZlbmRpbmdUZWFtLnJlZHVjZVZhbHVlcygyNSwnZGVmZW5jZScsWydzdHJpa2VyJywnbWlkZmllbGRlcicsICdkZWZlbmRlcicsICdnb2Fsa2VlcGVyJ10pO1xuICAgICAgICBkZWZlbmRpbmdUZWFtLnJlZHVjZVZhbHVlcygyNSwnYXR0YWNrJyxbJ3N0cmlrZXInLCdtaWRmaWVsZGVyJywgJ2RlZmVuZGVyJywgJ2dvYWxrZWVwZXInXSk7XG4gICAgICAgIGRlZmVuZGluZ1RlYW0ucmVkdWNlVmFsdWVzKDI1LCdjcmVhdGl2aXR5JyxbJ3N0cmlrZXInLCdtaWRmaWVsZGVyJywgJ2RlZmVuZGVyJywgJ2dvYWxrZWVwZXInXSk7XG4gICAgICB9XG4gICAgICAvL1xuICAgICAgaWYgKGV2ZW50VmFsdWUgJSAyMiA9PT0gMCkge1xuICAgICAgICAvLyBTdHJpa2VyIHZzLiBHb2Fsa2VlcGVyID4gUmFuZFRoZWlyRnJlZWtpY2sgdnMuIFJhbmRHb2Fsa2VlcGVyUGVuYWx0eVxuICAgICAgICBoYW5kbGVGcmVla2ljayhhdHRhY2tpbmdUZWFtLCBkZWZlbmRpbmdUZWFtKTtcbiAgICAgICAgYXR0YWNraW5nVGVhbS5pbmNyZWFzZVZhbHVlcyg1LCdhdHRhY2snLFsnbWlkZmllbGRlcicsICdzdHJpa2VyJ10pO1xuICAgICAgICBhdHRhY2tpbmdUZWFtLmluY3JlYXNlVmFsdWVzKDUsJ2NyZWF0aXZpdHknLFsnbWlkZmllbGRlcicsICdzdHJpa2VyJ10pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnRWYWx1ZSAlIDE4ID09PSAwKSB7XG4gICAgICAgIC8vIFJhbmRvbVBsYXllciA9PiBkaXNjaXBsaW5lICsgbWF0Y2h0aW1lIHJhbmQgdnMuIHJhbmRvbVxuICAgICAgICBoYW5kbGVEaXNjaXBsaW5lKGF0dGFja2luZ1RlYW0sIGRlZmVuZGluZ1RlYW0pO1xuXG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudFZhbHVlICUgMjUgPT09IDApIHtcbiAgICAgICAgaGFuZGxlSW5qdXJ5KGF0dGFja2luZ1RlYW0pO1xuICAgICAgICBkZWZlbmRpbmdUZWFtLnJlZHVjZVZhbHVlcygzLCdjcmVhdGl2aXR5JyxbJ3N0cmlrZXInLCdtaWRmaWVsZGVyJywgJ2RlZmVuZGVyJywgJ2dvYWxrZWVwZXInXSk7XG4gICAgICB9XG5cbiAgICAgIGlmKGNwdU1vZGUpIHtcbiAgICAgICAgaWYgKGV2ZW50VmFsdWUgJSAxMCA9PT0gMCAmJiBhd2F5VGVhbS5zdWJzIDwgNiAmJiBtYXRjaFRpbWUgPiA1MCkge1xuICAgICAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gZ2VuUmFuZG9tVmFsdWUocG9zaXRpb25zLmxlbmd0aCkgKyAxO1xuICAgICAgICAgIGNvbnN0IHJhbmRvbVBvc2l0aW9uID0gcG9zaXRpb25zW3JhbmRvbUluZGV4XTtcblxuICAgICAgICAgIGlmIChwb3NpdGlvbnNbcmFuZG9tSW5kZXhdKSB7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVQbGF5ZXIgPSBhd2F5VGVhbS5yYW5kb21QbGF5ZXJCeVBvc2l0aW9uKHJhbmRvbVBvc2l0aW9uLCAnc3ViYmVkLW9uJyk7XG4gICAgICAgICAgICByZW1vdmVQbGF5ZXIucGxheWluZyA9ICFyZW1vdmVQbGF5ZXIucGxheWluZztcbiAgICAgICAgICAgIHN1YnN0aXR1dGUoYXdheVRlYW0sIHJlbW92ZVBsYXllcik7XG4gICAgICAgICAgICBjb25zdCBhZGRQbGF5ZXIgPSBhd2F5VGVhbS5yYW5kb21TdWJzdGl0dXRlKHJhbmRvbVBvc2l0aW9uKTtcbiAgICAgICAgICAgIGFkZFBsYXllci5wbGF5aW5nID0gIWFkZFBsYXllci5wbGF5aW5nO1xuICAgICAgICAgICAgc3Vic3RpdHV0ZShhd2F5VGVhbSwgYWRkUGxheWVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUmVkdWNlIGZpdG5lc3Mgb2YgcGxheWVycyBpbiBhIHJhbmRvbSBwb3NpdGlvblxuICAgICAgaWYgKHRydWUpIHtcbiAgICAgICAgY29uc3QgcmFuZG9tSW5kZXggPSBnZW5SYW5kb21WYWx1ZShwb3NpdGlvbnMubGVuZ3RoKSArIDE7XG4gICAgICAgIGNvbnN0IHJhbmRvbVBvc2l0aW9uID0gcG9zaXRpb25zW3JhbmRvbUluZGV4XTtcbiAgICAgICAgZGVmZW5kaW5nVGVhbS5yZWR1Y2VWYWx1ZXMoZ2VuUmFuZG9tVmFsdWUoMTApLCdmaXRuZXNzJyxbcmFuZG9tUG9zaXRpb25dKTtcbiAgICAgIH1cbiAgICAgIC8vIE1vdmUgdGhlIHBvc3Nlc3Npb24gYmFyXG4gICAgICBtb3ZlKCk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgdGltZXJcbiAgICAgIHRpbWVDb250cm9sKCk7XG4gICAgfVxuICB9LDUwMCk7XG5cbiAgLy8gRXZlbnQgTGlzdGVuZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBUZWFtIHNlbGVjdGlvblxuICAkKCcudGVhbS1pbnB1dCcpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgLy8gUkVGQUNUT1I6IG1ha2Ugc2VsZWN0b3JzIGluICR2YXJpYWJsZXMsIHR1cm4gY2xpY2sgaW50byBuYW1lZCBmdW5jdGlvblxuICAgIGNvbnN0IHVzZXJUZWFtID0gZS50YXJnZXQuaW5uZXJIVE1MO1xuICAgIGlmIChob21lVGVhbSA9PT0gbnVsbCkge1xuICAgICAgY29uZmlnVGVhbShob21lVGVhbSwgdXNlclRlYW0pO1xuICAgICAgJCgnLnRpdGxlLW1lc3NhZ2UnKS50ZXh0KCdIb21lIHRlYW0gY2hvc2VuLiBOb3cgY2hvc2UgeW91ciBvcHBvbmVudC4nKTtcbiAgICAgICQoZS50YXJnZXQpLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbmZpZ1RlYW0oYXdheVRlYW0sIHVzZXJUZWFtKTtcbiAgICAgICQoJy50aXRsZS1tZXNzYWdlJykudGV4dCgnT3Bwb25lbnQgc2VsZWN0ZWQuIE5vdyBlZGl0IHRhY3RpY3Mgb3IgcHJvY2VlZCB0byBtYXRjaC4nKTtcbiAgICAgICQoZS50YXJnZXQpLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgfVxuICB9KTtcblxuICAkKCcjcGxheWVyTW9kZScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBjcHVNb2RlID0gIWNwdU1vZGU7XG4gIH0pO1xuXG4gIC8vIFN0YXJ0aW5nIExpbmUgVXBcbiAgLy8gJCgnI3JldmVhbFRlYW0nKS5vbignY2xpY2snLCByZXZlYWxUZWFtKTtcblxuICAvLyBUb2dnbGUgeWVzL25vIHBsYXlpbmdcbiAgJCgnLnRlYW0tcGFuZWwnKS5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkUGxheWVyID0gZS50YXJnZXQuaWQ7XG4gICAgY2hvb3NlUGxheWVycyh0ZWFtVGFjdGljcywgc2VsZWN0ZWRQbGF5ZXIpO1xuICB9KTtcblxuICAkcHJpbWFyeUJ1dHRvbi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgcnVuID0gIXJ1bjtcbiAgICAkKCcjbWF0Y2gtc2V0dXAsIC5pbmZvLW1lc3NhZ2UsIC50ZWFtLXNldHVwJykuaGlkZSgpO1xuICAgICQoJyNtYXRjaC1lbmdpbmUsIC5hd2F5LXRlYW0sIC5ob21lLXRlYW0sIC50aW1lcicpLnNob3coKTtcbiAgICBpZiAocnVuKSB7XG4gICAgICAkcHJpbWFyeUJ1dHRvbi50ZXh0KCdQYXVzZScpO1xuICAgICAgZ2FtZVN0YXJ0ZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAkcHJpbWFyeUJ1dHRvbi50ZXh0KCdQbGF5Jyk7XG4gICAgfVxuXG4gIH0pO1xuXG4gICQoJyNob21lVGVhbScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAocnVuKSB7XG4gICAgICBydW4gPSAhcnVuO1xuICAgIH1cblxuICAgIC8vIEZ1bmN0aW9uc1xuICAgICRwcmltYXJ5QnV0dG9uLnRleHQoJ1BsYXknKTtcbiAgICAkKCcubWF0Y2gtc2V0dXAsIC5tYXRjaC1lbmdpbmUnKS5oaWRlKCk7XG4gICAgJCgnLnRlYW0tc2V0dXAnKS5zaG93KCk7XG4gICAgc2V0dXBUYWN0aWNzKGhvbWVUZWFtKTtcbiAgICB0ZWFtVGFjdGljcyA9IGhvbWVUZWFtO1xuICAgIHJldmVhbFRlYW0odGVhbVRhY3RpY3MpO1xuXG4gIH0pO1xuXG4gICQoJyNhd2F5VGVhbScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAocnVuKSB7XG4gICAgICBydW4gPSAhcnVuO1xuICAgIH1cbiAgICAkcHJpbWFyeUJ1dHRvbi50ZXh0KCdQbGF5Jyk7XG4gICAgJCgnLm1hdGNoLXNldHVwLCAubWF0Y2gtZW5naW5lJykuaGlkZSgpO1xuICAgICQoJy50ZWFtLXNldHVwJykuc2hvdygpO1xuICAgIHNldHVwVGFjdGljcyhhd2F5VGVhbSk7XG4gICAgdGVhbVRhY3RpY3MgPSBhd2F5VGVhbTtcbiAgICByZXZlYWxUZWFtKHRlYW1UYWN0aWNzKTtcbiAgfSk7XG5cbiAgJCgnLmdvLWJhY2snKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgJCgnLnRlYW0tc2V0dXAnKS5oaWRlKCk7XG4gICAgJCgnLm1hdGNoLXNldHVwJykuc2hvdygpO1xuICB9KTtcblxuICAkKCcuZm9ybWF0aW9uJykub24oJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgY29uc3QgbmV3Rm9ybWF0aW9uID0gZS50YXJnZXQudmFsdWU7XG4gICAgdGVhbVRhY3RpY3MuZm9ybWF0aW9uID0gbmV3Rm9ybWF0aW9uO1xuICAgIHJldmVhbFRlYW0odGVhbVRhY3RpY3MpO1xuICB9KTtcblxuICBmdW5jdGlvbiBzZXR1cFRhY3RpY3ModGVhbU9iamVjdCkge1xuICAgICQoJy50ZWFtLXBhbmVsJykuaHRtbCgnJyk7XG4gICAgJCgnLmZvcm1hdGlvbicpLnZhbCh0ZWFtT2JqZWN0LmZvcm1hdGlvbik7XG5cbiAgICAvLyBTb3J0cyBwbGF5ZXJzIGluIG9yZGVyIG9mIHBvc2l0aW9uIFtHSywgRGVmLCBNaWQsIEF0dF1cbiAgICB0ZWFtT2JqZWN0LnBsYXllcnMuc29ydChmdW5jdGlvbihhLGIpe1xuICAgICAgcmV0dXJuIHBvc2l0aW9ucy5pbmRleE9mKGEucG9zaXRpb24pIDwgcG9zaXRpb25zLmluZGV4T2YoYi5wb3NpdGlvbikgPyAtMSA6IDE7XG4gICAgfSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlYW1PYmplY3QucGxheWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcGxheWVyID0gdGVhbU9iamVjdC5wbGF5ZXJzW2ldO1xuXG4gICAgICAvLyBJZiBzdGFydCBnaXZlIGFuIEhUTUwgdGljaywgZWxzZSBnaXZlIGFuIEhUTUwgY3Jvc3NcbiAgICAgIGNvbnN0IHN0YXJ0aW5nRWxldmVuID0gcGxheWVyLnBsYXlpbmcgPyAnJiMxMDAwNDsnIDogJyYjMTAwMDc7JztcblxuICAgICAgLy8gQnVpbGQgdGFibGUgb2Ygc3F1YWQgcGxheWVycyAtIGluc2VydCByZWxldmFudCBjbGFzcyB0byByZWZsZWN0IHBsYXllciBzdGF0dXMsIGUuZy4gc2VudCBvZmYsIHllbGxvdywgaW5qdXJlZCwgc3Vic3RpdHV0ZWRcbiAgICAgICQoJy50ZWFtLXBhbmVsJykuYXBwZW5kKFxuICAgICAgICBgPHAgY2xhc3M9XCJwbGF5ZXItbGluZSAke3BsYXllci5wb3NpdGlvbn0gJHtwbGF5ZXIuc3RhdHVzfVwiIGlkPScke3BsYXllci5uYW1lfSc+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdGFydGluZyAke3BsYXllci5zdGF0dXN9XCIgaWQ9XCIke2l9XCI+JHtzdGFydGluZ0VsZXZlbn08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJwbGF5ZXItcG9zaXRpb24gXCI+JHtwbGF5ZXIucG9zaXRpb259PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGxheWVyLW5hbWVcIj4ke3BsYXllci5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInBsYXllci1zdGF0XCI+JHtwbGF5ZXIuYXR0YWNrfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInBsYXllci1zdGF0XCI+JHtwbGF5ZXIuZGVmZW5jZX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJwbGF5ZXItc3RhdFwiPiR7cGxheWVyLmNyZWF0aXZpdHl9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGxheWVyLXN0YXRcIj4ke3BsYXllci5kZWZlbmNlfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInBsYXllci1zdGF0XCI+JHtwbGF5ZXIuZml0bmVzc308L3NwYW4+XG4gICAgICAgIDwvcD5gXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG5cbiAgZnVuY3Rpb24gcGF1c2VQbGF5KCkge1xuICAgIGlmIChydW4pIHtcbiAgICAgIHJ1biA9ICFydW47XG4gICAgfVxuXG4gICAgJHByaW1hcnlCdXR0b24udGV4dCgnUGxheScpO1xuICAgICQoJy5tYXRjaC1zZXR1cCwgLm1hdGNoLWVuZ2luZScpLmhpZGUoKTtcbiAgICBzZXR1cFRhY3RpY3MoaG9tZVRlYW0pO1xuICAgIHRlYW1UYWN0aWNzID0gaG9tZVRlYW07XG4gICAgcmV2ZWFsVGVhbSh0ZWFtVGFjdGljcyk7XG4gICAgJCgnLnRlYW0tc2V0dXAnKS5zaG93KCk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVhbFRlYW0odGVhbU9iamVjdCkge1xuICAgICQoJy50ZWFtLWRpc3BsYXknKS5odG1sKCcnKTtcblxuICAgIC8vIFNwbGl0IGZvcm1hdGlvbiBpbnRvIGFuIGFycmF5XG4gICAgY29uc3QgZm9ybWF0aW9uID0gWycxJ10uY29uY2F0KHRlYW1PYmplY3QuZm9ybWF0aW9uLnNwbGl0KCctJykpO1xuXG4gICAgbGV0IHBsYXllck51bWJlciA9IDA7XG4gICAgbGV0IHBvc2l0aW9uTnVtYmVyID0gMDtcblxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFRyeSB0byBtYXAgdGhyb3VnaCB0aGUgZm9ybWF0aW9uIGFycmF5LCBlLmcuIFsxLDQsMiwyXSAoaW5jbHVzaXZlIG9mIGdvYWxrZWVwZXIpXG4gICAgICBmb3JtYXRpb24ubWFwKChhcnJheUl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgaXRlcmF0aW9ucyA9IHBhcnNlRmxvYXQoYXJyYXlJdGVtKTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAvLyBMb29wIHRocm91Z2ggcGxheWVycyB3aGlsZSBpIChpbml0aWFsbHkgMCkgaXMgbGVzcyB0aGFuIHRoZSBudW1iZXIgb2YgcG9zaXRpb25zIHJlcXVpcmVkXG4gICAgICAgIHdoaWxlIChpIDwgaXRlcmF0aW9ucykge1xuICAgICAgICAgIC8vIElmIHBsYXllci5wbGF5aW5nID09PSB0cnVlIE9SIGlmIHBsYXllci5zdGF0dXMgaXMgJ2VqZWN0ZWQnIChzZW50IG9mZikuIFBsYXllcnMgd2l0aCByZWQgY2FyZHMgY29udGludWUgdG8gYmUgYWRkZWQgdG8gdGhlIHRlYW0gc2hlZXQsIHNvIHRoYXQgdGhleSBjYW5ub3QgYmUgcmVtb3ZlZC9yZXBsYWNlZC4gQSBjbGFzcyBvZiAucmVkIGlzIGFkZGVkLCB3aGljaCBkaWFibGVkcyB0aGUgYWJpbGl0eSB0byBzdWJzdGl0dXRlIHRoZW0uIFBsYXllcnMgd2l0aCBhIHN0YXR1cyBvZiAnZWplY3RlZCcgaGF2ZSBhIC5wbGF5aW5nIHZhbHVlIG9mIGZhbHNlIC0gdGhleSBubyBsb25nZXIgaW5mbHVlbmNlIGV2ZW50cy5cbiAgICAgICAgICBpZiAodGVhbU9iamVjdC5wbGF5ZXJzW3BsYXllck51bWJlcl0ucGxheWluZyB8fCB0ZWFtT2JqZWN0LnBsYXllcnNbcGxheWVyTnVtYmVyXS5zdGF0dXMgPT09ICdlamVjdGVkJykge1xuXG4gICAgICAgICAgICAvLyBJZiBwbGF5ZXIgaGFzIGJlZW4gcGxhY2VkIG91dCBvZiBwb3NpdGlvbiBhZGQgYSB3YXJuaW5nIGNsYXNzXG4gICAgICAgICAgICBjb25zdCB3YXJuaW5nTWVzc2FnZSA9IHBvc2l0aW9uc1twb3NpdGlvbk51bWJlcl0gIT09IHRlYW1PYmplY3QucGxheWVyc1twbGF5ZXJOdW1iZXJdLnBvc2l0aW9uID8gJ3dhcm5pbmcnIDogJyc7XG5cbiAgICAgICAgICAgIC8vIEFwcGVuZCBwbGF5ZXIgb24gdG8gdGhlIHBpdGNoIG1hcCB3aXRoIGNsYXNzZXMgdGhhdCBpbmRpY2F0ZSB0aGUgcGxheWVyJ3Mgc3RhdHVzLGUuZy4gcmVkIGNhcmQsIHllbGxvdyBjYXJkIG9yIG91dCBvZiBwb3NpaXRvblxuICAgICAgICAgICAgJCgnLnRlYW0tZGlzcGxheScpLmFwcGVuZChcbiAgICAgICAgICAgICAgYDxzcGFuIGNsYXNzPSdwbGF5ZXItYmxvY2sgJHt3YXJuaW5nTWVzc2FnZX0gJHsodGVhbU9iamVjdC5wbGF5ZXJzW3BsYXllck51bWJlcl0uc3RhdHVzKX0nPiR7dGVhbU9iamVjdC5wbGF5ZXJzW3BsYXllck51bWJlcl0ubmFtZX08L3NwYW4+YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRlYW1PYmplY3QucGxheWVyc1twbGF5ZXJOdW1iZXJdLmNob3NlblBvc2l0aW9uID0gcG9zaXRpb25zW3Bvc2l0aW9uTnVtYmVyXTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgcGxheWVyTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgJCgnLnRlYW0tZGlzcGxheScpLmFwcGVuZCgnPGRpdiBjbGFzcz1cInNlcGVyYXRlLXBsYXllcnNcIj4nKTtcbiAgICAgICAgcG9zaXRpb25OdW1iZXIrKztcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2goZXJyKSB7XG4gICAgICAvLyBUaHJvd3MgYW4gZXJyb3Igd2hlbiBmZXdlciB0aGFuIDExIHBsYXllcnMgYXJlIHNlbGVjdGVkLiBJdCBkaXNwbGF5cyBhIHdhcm5pbmcuIERvIG5vdCB3YW50IHRvIHByZXZlbnQgc2VsZWN0aW9ucyBhcyB0aGVyZSBhcmUgbGVnaXRtYXRlIHJlYXNvbnMgd2h5IGZld2VyIHRoYW4gMTEgcGxheWVycyBtYXkgYmUgc2VsZWN0ZWQsIGUuZy4gcmVkIGNhcmRzIG9yIGluanVyaWVzXG4gICAgICAkKCcudGVhbS1kaXNwbGF5JykuYXBwZW5kKGA8cCBjbGFzcz0ndGVhbS1zZWxlY3Rpb24td2FybmluZyBzZXBlcmF0ZS1wbGF5ZXJzJz5MZXNzIHRoYW4gMTEgcGxheWVycyBzZWxlY3RlZCE8L3A+YCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2hvb3NlUGxheWVycyh0ZWFtT2JqZWN0LCBzZWxlY3RlZFBsYXllcikge1xuXG4gICAgdGVhbU9iamVjdC5wbGF5ZXJzW3NlbGVjdGVkUGxheWVyXS5wbGF5aW5nID0gIXRlYW1PYmplY3QucGxheWVyc1tzZWxlY3RlZFBsYXllcl0ucGxheWluZztcblxuICAgIHJldmVhbFRlYW0odGVhbVRhY3RpY3MpO1xuXG4gICAgaWYgKHRlYW1PYmplY3QucGxheWVyc1tzZWxlY3RlZFBsYXllcl0ucGxheWluZykge1xuICAgICAgJChgIyR7c2VsZWN0ZWRQbGF5ZXJ9YCkuaHRtbCgnJiMxMDAwNDsnKTtcbiAgICAgIGlmIChnYW1lU3RhcnRlZCkge1xuICAgICAgICBjb25zb2xlLmxvZygnY2xpY2tlZCcpO1xuICAgICAgICAkKGAjJHtzZWxlY3RlZFBsYXllcn1gKS5wYXJlbnQoKS5jc3MoeydiYWNrZ3JvdW5kJzogJ2dyZWVuJ30pO1xuICAgICAgICBjb25zdCBwbGF5ZXJPbiA9IHRlYW1PYmplY3QucGxheWVyc1tzZWxlY3RlZFBsYXllcl07XG4gICAgICAgIHN1YnN0aXR1dGUodGVhbU9iamVjdCwgcGxheWVyT24pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAkKGAjJHtzZWxlY3RlZFBsYXllcn1gKS5odG1sKCcmIzEwMDA3OycpO1xuICAgICAgaWYgKGdhbWVTdGFydGVkKSB7XG4gICAgICAgICQoYCMke3NlbGVjdGVkUGxheWVyfWApLnBhcmVudCgpLmNzcyh7J3BvaW50ZXItZXZlbnRzJzogJ25vbmUnLCAnYmFja2dyb3VuZCc6ICdyZWQnfSk7XG4gICAgICAgIGNvbnN0IHBsYXllck9mZiA9IHRlYW1PYmplY3QucGxheWVyc1tzZWxlY3RlZFBsYXllcl07XG4gICAgICAgIHN1YnN0aXR1dGUodGVhbU9iamVjdCwgcGxheWVyT2ZmKTtcblxuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gc3Vic3RpdHV0ZSh0ZWFtT2JqZWN0LCBwbGF5ZXIpIHtcbiAgICBpZiAodGVhbU9iamVjdC5zdWJzIDwgNykge1xuICAgICAgaWYgKCFwbGF5ZXIucGxheWluZykge1xuICAgICAgICAkKGAjJHt0ZWFtT2JqZWN0LnBsYWNlfUV2ZW50c2ApLmFwcGVuZChgPGkgY2xhc3M9J2ZhIGZhLWFycm93LXJpZ2h0JyBzdHlsZT0nZm9udC1zaXplOiAyMnB4OyBjb2xvcjpyZWQ7IHBhZGRpbmctdG9wOjVweCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7cGxheWVyLm5hbWV9IHN1YnN0aXR1dGVkPGJyLz5gKTtcbiAgICAgICAgdGVhbU9iamVjdC5zdWJzICs9IDE7XG4gICAgICAgIHBsYXllci5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIHBsYXllci5zdGF0dXMgPSAnc3ViYmVkLW9mZic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKGAjJHt0ZWFtT2JqZWN0LnBsYWNlfUV2ZW50c2ApLmFwcGVuZChgPGkgY2xhc3M9J2ZhIGZhLWFycm93LXJpZ2h0JyBzdHlsZT0nZm9udC1zaXplOiAyMnB4OyBjb2xvcjpncmVlbjsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHtwbGF5ZXIubmFtZX0gc3Vic3RpdHV0ZWQ8YnIvPmApO1xuICAgICAgICB0ZWFtT2JqZWN0LnN1YnMgKz0gMTtcbiAgICAgICAgcGxheWVyLnBsYXlpbmcgPSB0cnVlO1xuICAgICAgICBwbGF5ZXIuc3RhdHVzID0gJ3N1YmJlZC1vbic7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdZb3UgaGF2ZSBoYWQgMyBzdWJzIScpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuXG4gIGZ1bmN0aW9uIHRpbWVDb250cm9sKCkge1xuXG4gICAgaWYobWF0Y2hUaW1lID09PSA0NCkge1xuICAgICAgJGNvbW1lbnRhcnlCb3gudGV4dChgVGhhdCdzIGhhbGYtdGltZSFgKTtcbiAgICAgIHJ1biA9ICFydW47XG4gICAgICAkcHJpbWFyeUJ1dHRvbi50ZXh0KCdQbGF5Jyk7XG4gICAgfVxuXG4gICAgaWYobWF0Y2hUaW1lID09PSA5MCkge1xuICAgICAgJGNvbW1lbnRhcnlCb3gudGV4dChgVGhhdCdzIGZ1bGwtdGltZSFgKTtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJRCk7XG4gICAgICAkcHJpbWFyeUJ1dHRvbi50ZXh0KCdGaW5pc2gnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWF0Y2hUaW1lKys7XG4gICAgICAkbWF0Y2hUaW1lLnRleHQobWF0Y2hUaW1lKTtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGdlblJhbmRvbVZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB2YWx1ZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gbW92ZSgpIHtcblxuICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaG9tZUJhcicpO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSB0d28gdGVhbXMgY3JlYXRpdml0eSBzY29yZXMgYW5kIGNvdmVydCB0aGVtIGludG8gYSBwZXJjZW50YWdlIG91dCBvZiAxMDAgLSB0aGlzIGlzIGZvciB0aGUgcG9zc2Vzc2lvbiBiYXIuXG4gICAgLy8gSXQgKy8tIGEgc21hbGwgbG93IGxldmVsIGludGVnZXIgdG8ga2VlcCBpdCBtb3ZpbmcgY29udGlub3VzbHlcbiAgICB3aWR0aCA9IChob21lVGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdjcmVhdGl2aXR5JykgLyAoaG9tZVRlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnY3JlYXRpdml0eScpICsgYXdheVRlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnY3JlYXRpdml0eScpKSAqIDEwMCkgKyAoTWF0aC5yYW5kb20oKSA8IDAuNSA/IC1nZW5SYW5kb21WYWx1ZSg2KSA6IGdlblJhbmRvbVZhbHVlKDYpKTtcblxuICAgIGVsZW0uc3R5bGUud2lkdGggPSB3aWR0aCArICclJztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdFRlYW0oKSB7XG4gICAgLy8gR2VuZXJhdGUgYSByYW5kb20gdmFsdWVzIGZyb20gaG9tZSBhbmQgYXdheSB0ZWFtIHVzaW5nIHRoZWlyIGF2ZXJhZ2UgY3JlYXRpdml0eSBzY29yZXMgZnJvbSBwbGF5ZXJzIG9uIHRoZSBwaXRjaFxuICAgIC8vIFRoZSBoaWdoZXIgYSB0ZWFtcyBjcmVhdGl2aXR5IHNjb3JlLCB0aGUgbW9yZSBjaGFuY2VzIHRoZXkgd2lsbCBjcmVhdGVcbiAgICAvLyAyNC4wNS4yMDE3IC0gYWRkZWQgYSBGaXRuZXNzIHZhbHVlIGZvciBldmVyeSBwbGF5ZXIsIHdoaWNoIGRlY3JlYXNlcyB0aHJvdWdoIHRoZSBnYW1lLiBUaGlzIGlzIG5vdyBhZGRlZCB0byB0aGUgcmFuZG9tIGNyZWF0aXZpdHkgc2NvcmUgdG8gZGV0ZXJtaW5lLCB3aGljaCB0ZWFtIGhvbWUvYXdheSBnZXRzIHRoZSBjaGFuY2UuXG4gICAgY29uc3QgaG9tZVJhbmRvbSA9ICBnZW5SYW5kb21WYWx1ZShob21lVGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdjcmVhdGl2aXR5JykgKyBob21lVGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdmaXRuZXNzJykpO1xuICAgIGNvbnN0IGF3YXlSYW5kb20gPSAgZ2VuUmFuZG9tVmFsdWUoYXdheVRlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnY3JlYXRpdml0eScpICsgYXdheVRlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnZml0bmVzcycpKTtcblxuICAgIGlmIChob21lUmFuZG9tID49IGF3YXlSYW5kb20pIHtcbiAgICAgIC8vIENoYW5nZSBjb21tZW50YXJ5IHRleHQgYm94IHRvIGNvbG9ycyBvZiBhdHRhY2tpbmcgdGVhbVxuICAgICAgLy8gTWVkaXVtIC0gTG9vayBhdCByZWZhY3RvcmluZyB0aGlzIC0gc29tZSBkdXBsaWNhdGlvblxuICAgICAgJGNvbW1lbnRhcnlCb3guY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgaG9tZVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICRjb21tZW50YXJ5Qm94LmNzcygnY29sb3InLCBob21lVGVhbS5jb2xvcnNbMV0pO1xuICAgICAgaWYgKGdlblJhbmRvbVZhbHVlKDIwKSAlIDQgPT09IDApIHtcbiAgICAgICAgJGNvbW1lbnRhcnlCb3gudGV4dChnZW5lcmF0ZUNvbW1lbnRhcnkoJ2NoYW5jZScsJycpKTtcbiAgICAgICAgaG9tZVRlYW0uaW5jcmVhc2VWYWx1ZXMoMywnYXR0YWNrJyxbJ21pZGZpZWxkZXInLCAnc3RyaWtlciddKTtcbiAgICAgICAgaG9tZVRlYW0uaW5jcmVhc2VWYWx1ZXMoMywnY3JlYXRpdml0eScsWydtaWRmaWVsZGVyJywgJ3N0cmlrZXInXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gW2hvbWVUZWFtLCBhd2F5VGVhbV07XG4gICAgfSBlbHNlIHtcbiAgICAgICRjb21tZW50YXJ5Qm94LmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGF3YXlUZWFtLmNvbG9yc1swXSk7XG4gICAgICAkY29tbWVudGFyeUJveC5jc3MoJ2NvbG9yJywgYXdheVRlYW0uY29sb3JzWzFdKTtcbiAgICAgIGlmIChnZW5SYW5kb21WYWx1ZSgyMCkgJSA0ID09PSAwKXtcbiAgICAgICAgYXdheVRlYW0uaW5jcmVhc2VWYWx1ZXMoMywnYXR0YWNrJyxbJ21pZGZpZWxkZXInLCAnc3RyaWtlciddKTtcbiAgICAgICAgYXdheVRlYW0uaW5jcmVhc2VWYWx1ZXMoMywnY3JlYXRpdml0eScsWydtaWRmaWVsZGVyJywgJ3N0cmlrZXInXSk7XG4gICAgICAgICRjb21tZW50YXJ5Qm94LnRleHQoZ2VuZXJhdGVDb21tZW50YXJ5KCdjaGFuY2UnLCcnKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gW2F3YXlUZWFtLCBob21lVGVhbV07XG4gICAgfVxuICB9XG5cblxuICAvLyBSRU1PVkVcbiAgLy8gZnVuY3Rpb24gc2VsZWN0UGxheWVyKHRlYW0pIHtcbiAgLy8gICBjb25zdCBnZW5SYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRlYW0ucGxheWVycy5sZW5ndGgpO1xuICAvLyAgIHJldHVybiB0ZWFtLnBsYXllcnNbZ2VuUmFuZG9tSW5kZXhdO1xuICAvLyB9XG5cbiAgZnVuY3Rpb24gZ29hbENoYW5jZShhdHRhY2tpbmdUZWFtLCBkZWZlbmRpbmdUZWFtKSB7XG4gICAgLy8gUmVmYWN0b3IgdGhpc1xuICAgIGNvbnN0IGF0dGFja2luZ1BsYXllciA9IGF0dGFja2luZ1RlYW0ucmFuZG9tUGxheWVyKCk7XG4gICAgY29uc3QgZGVmZW5kaW5nUGxheWVyID0gZGVmZW5kaW5nVGVhbS5yYW5kb21QbGF5ZXJCeVBvc2l0aW9uKCdkZWZlbmRlcicpO1xuXG4gICAgaWYgKGdlblJhbmRvbVZhbHVlKGF0dGFja2luZ1BsYXllci5hdHRhY2spID4gZ2VuUmFuZG9tVmFsdWUoZGVmZW5kaW5nUGxheWVyLmRlZmVuY2UpKSB7XG5cbiAgICAgIGdlbmVyYXRlQ29tbWVudGFyeSgnZ29hbCcsIGF0dGFja2luZ1BsYXllcik7XG4gICAgICB1cGRhdGVTY29yZShhdHRhY2tpbmdUZWFtKTtcblxuICAgICAgLy8gUmVmYWN0b3IgdGhlc2UgbWVzc2FnZXMgLSB1c2UgYSBmdW5jdGlvbiB3aGljaCBwYXNzZXMgaW4gcGxheWVyLCB0ZWFtT2JqZWN0LCBjb2xvciBhbmQgaWNvbiBuYW1lXG4gICAgICAkKGAjJHthdHRhY2tpbmdUZWFtLnBsYWNlfUV2ZW50c2ApLmFwcGVuZChgPGkgY2xhc3M9J2ZhIGZhLWZ1dGJvbC1vJyBzdHlsZT0nZm9udC1zaXplOiAyMnB4OyBjb2xvcjp3aGl0ZTsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHthdHRhY2tpbmdQbGF5ZXIubmFtZX0gc2NvcmVkPGJyLz5gKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVEaXNjaXBsaW5lKGF0dGFja2luZ1RlYW0sIGRlZmVuZGluZ1RlYW0pIHtcblxuICAgIC8vIFJlZmFjdG9yXG4gICAgLy8gQVRUQUNLSU5HIFRFQU0gUkVEVU5EQU5UXG4gICAgLy8gdGVhbVN0cmluZyBjYW4gYmUgc3Vic3RpdHV0ZWQgZm9yIGRlZmVuZGluZ1RlYW0ucGxhY2VcbiAgICBjb25zdCBkZWZlbmRpbmdQbGF5ZXIgPSBkZWZlbmRpbmdUZWFtLnJhbmRvbVBsYXllcigpO1xuXG5cbiAgICAvLyBUYWtlcyBtYXRjaCB0aW1lIGluIGFjY291bnQsIHdoaWNoIGRlY3JlYXNlcyB0aGUgbGlrZWxpaG9vZCBvZiBib29raW5ncyBoYXBwZW5pbmcgZWFybGllciBpbiB0aGUgZ2FtZS5cbiAgICBpZiAoKGdlblJhbmRvbVZhbHVlKGRlZmVuZGluZ1BsYXllci5kaXNjaXBsaW5lKSArICgxMDAtbWF0Y2hUaW1lKSkgPCA5MCAmJiBkZWZlbmRpbmdQbGF5ZXIuc3RhdHVzICE9PSAnZWplY3RlZCcpIHtcblxuICAgICAgLy8gQWxyZWFkeSBib29rZWQ/IFNlbmQgaGltIG9mZiFcbiAgICAgIGlmIChkZWZlbmRpbmdQbGF5ZXIuc3RhdHVzID09PSAneWVsbG93Jykge1xuICAgICAgICAvLyBSZWZhY3RvciBjcmVhdGUgYSBjbGFzcyBvciBwYXNzIGluIGFzIGFuIG9iamVjdCAtIG9uZSBsaW5lXG4gICAgICAgICRjb21tZW50YXJ5Qm94LmNzcygnYmFja2dyb3VuZC1jb2xvcicsICcjRkYwMDAwJyk7XG4gICAgICAgICRjb21tZW50YXJ5Qm94LmNzcygnY29sb3InLCAnI0ZGRkZGRicpO1xuICAgICAgICBkZWZlbmRpbmdUZWFtLnJlZHVjZVZhbHVlcygxMCwnZGVmZW5jZScsWydzdHJpa2VyJywnbWlkZmllbGRlcicsICdkZWZlbmRlcicsICdnb2Fsa2VlcGVyJ10pO1xuICAgICAgICBkZWZlbmRpbmdUZWFtLnJlZHVjZVZhbHVlcygyNSwnYXR0YWNrJyxbJ3N0cmlrZXInLCdtaWRmaWVsZGVyJywgJ2RlZmVuZGVyJywgJ2dvYWxrZWVwZXInXSk7XG4gICAgICAgIGRlZmVuZGluZ1RlYW0ucmVkdWNlVmFsdWVzKDI1LCdjcmVhdGl2aXR5JyxbJ3N0cmlrZXInLCdtaWRmaWVsZGVyJywgJ2RlZmVuZGVyJywgJ2dvYWxrZWVwZXInXSk7XG5cbiAgICAgICAgZ2VuZXJhdGVDb21tZW50YXJ5KCdzZWNvbmRZZWxsb3cnLCBkZWZlbmRpbmdQbGF5ZXIpO1xuXG4gICAgICAgIC8vIFJlZmFjdG9yIHRoZXNlIG1lc3NhZ2VzIC0gdXNlIGEgZnVuY3Rpb24gd2hpY2ggcGFzc2VzIGluIHBsYXllciwgdGVhbU9iamVjdCwgY29sb3IgYW5kIGljb24gbmFtZVxuICAgICAgICAkKGAjJHtkZWZlbmRpbmdUZWFtLnBsYWNlfUV2ZW50c2ApLmFwcGVuZChgPGkgY2xhc3M9J2ZhIGZhLXNxdWFyZSBldmVudC1pdGVtJyBzdHlsZT0nZm9udC1zaXplOiAyNHB4OyBjb2xvcjogcmVkOyBwYWRkaW5nLXRvcDo1cHgnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+ICR7bWF0Y2hUaW1lfSBtaW5zOiAke2RlZmVuZGluZ1BsYXllci5uYW1lfSBzZW50IG9mZjxici8+YCk7XG4gICAgICAgIGRlZmVuZGluZ1BsYXllci5zdGF0dXMgPSAnZWplY3RlZCc7XG4gICAgICAgIGRlZmVuZGluZ1BsYXllci5wbGF5aW5nID0gZmFsc2U7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlZmFjdG9yIGNyZWF0ZSBhIGNsYXNzIG9yIHBhc3MgaW4gYXMgYW4gb2JqZWN0IC0gb25lIGxpbmVcbiAgICAgICAgJGNvbW1lbnRhcnlCb3guY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJ3llbGxvdycpO1xuICAgICAgICAkY29tbWVudGFyeUJveC5jc3MoJ2NvbG9yJywgJyMwMDAwMDAnKTtcbiAgICAgICAgZ2VuZXJhdGVDb21tZW50YXJ5KCd5ZWxsb3cnLCBkZWZlbmRpbmdQbGF5ZXIpO1xuICAgICAgICBkZWZlbmRpbmdQbGF5ZXIuZGVmZW5jZSAtPSA4O1xuXG4gICAgICAgICQoYCMke2RlZmVuZGluZ1RlYW0ucGxhY2V9RXZlbnRzYCkuYXBwZW5kKGBcbiAgICAgICAgICA8aSBjbGFzcz0nZmEgZmEtc3F1YXJlIGV2ZW50LWl0ZW0nIHN0eWxlPSdmb250LXNpemU6IDI0cHg7IGNvbG9yOiB5ZWxsb3c7IHBhZGRpbmctdG9wOjVweCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7ZGVmZW5kaW5nUGxheWVyLm5hbWV9IGJvb2tlZDxici8+YCk7XG4gICAgICAgIGRlZmVuZGluZ1BsYXllci5zdGF0dXMgPSAneWVsbG93JztcbiAgICAgICAgZGVmZW5kaW5nUGxheWVyLmZpdG5lc3MgLT0gZ2VuUmFuZG9tVmFsdWUoNSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlSW5qdXJ5KGF0dGFja2luZ1RlYW0pIHtcbiAgICBjb25zdCBhdHRhY2tpbmdQbGF5ZXIgPSBhdHRhY2tpbmdUZWFtLnJhbmRvbVBsYXllcigpO1xuXG4gICAgaWYgKGdlblJhbmRvbVZhbHVlKDEwMSkgJSA0MCA9PT0gMCkge1xuXG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ2luanVyeScsIGF0dGFja2luZ1BsYXllcik7XG4gICAgICAkKGAjJHthdHRhY2tpbmdUZWFtLnBsYWNlfUV2ZW50c2ApLmFwcGVuZChgPGkgY2xhc3M9J2ZhIGZhLXBsdXMnIHN0eWxlPSdmb250LXNpemU6IDI2cHg7IGNvbG9yOiBncmVlbjsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHthdHRhY2tpbmdQbGF5ZXIubmFtZX0gaW5qdXJlZDxici8+YCk7XG4gICAgICBpZiAoYXR0YWNraW5nVGVhbS5wbGFjZSA9PT0gJ2F3YXknICYmIGNwdU1vZGUpIHtcbiAgICAgICAgYXR0YWNraW5nUGxheWVyLnBsYXlpbmcgPSAhYXR0YWNraW5nUGxheWVyLnBsYXlpbmc7XG4gICAgICAgIHN1YnN0aXR1dGUoYXdheVRlYW0sIGF0dGFja2luZ1BsYXllcik7XG4gICAgICAgIGNvbnN0IGFkZFBsYXllciA9IGF3YXlUZWFtLnJhbmRvbVN1YnN0aXR1dGUoYXR0YWNraW5nUGxheWVyLnBvc2l0aW9uKTtcbiAgICAgICAgYWRkUGxheWVyLnBsYXlpbmcgPSAhYWRkUGxheWVyLnBsYXlpbmc7XG4gICAgICAgIHN1YnN0aXR1dGUoYXdheVRlYW0sIGFkZFBsYXllcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhdHRhY2tpbmdQbGF5ZXIuZml0bmVzcyA9IDAgKyBnZW5SYW5kb21WYWx1ZSgzMCk7XG4gICAgICAgIGF0dGFja2luZ1BsYXllci5zdGF0dXMgPSAnaW5qdXJlZCc7XG4gICAgICAgIGF0dGFja2luZ1BsYXllci5wbGF5aW5nID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgYXR0YWNraW5nUGxheWVyLmZpdG5lc3MgLT0gZ2VuUmFuZG9tVmFsdWUoMTUpO1xuICAgICAgYXR0YWNraW5nUGxheWVyLmRlZmVuY2UgLT0gZ2VuUmFuZG9tVmFsdWUoMTApO1xuICAgICAgYXR0YWNraW5nUGxheWVyLmF0dGFjayAtPSBnZW5SYW5kb21WYWx1ZSgxMCk7XG4gICAgICAvLyBSZWZhY3RvciAtXG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ25lYXJNaXNzJywgYXR0YWNraW5nUGxheWVyKTtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUZyZWVraWNrKGF0dGFja2luZ1RlYW0sIGRlZmVuZGluZ1RlYW0pIHtcbiAgICBjb25zdCBhdHRhY2tpbmdQbGF5ZXIgPSBhdHRhY2tpbmdUZWFtLnJhbmRvbVBsYXllckJ5UG9zaXRpb24oJ21pZGZpZWxkZXInKTtcbiAgICBjb25zdCBkZWZlbmRpbmdWYWx1ZSA9IChkZWZlbmRpbmdUZWFtLnJhbmRvbVBsYXllckJ5UG9zaXRpb24oJ2dvYWxrZWVwZXInKS5kZWZlbmNlICsgZGVmZW5kaW5nVGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdkZWZlbmRlcicpKTtcblxuICAgIGlmIChhdHRhY2tpbmdQbGF5ZXIuYXR0YWNrID4gZGVmZW5kaW5nVmFsdWUpIHtcbiAgICAgIHVwZGF0ZVNjb3JlKGF0dGFja2luZ1RlYW0pO1xuXG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ2ZyZWVraWNrJywgYXR0YWNraW5nUGxheWVyKTtcbiAgICAgICQoYCMke2F0dGFja2luZ1RlYW0ucGxhY2V9RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtZnV0Ym9sLW8nIHN0eWxlPSdmb250LXNpemU6IDIycHg7IGNvbG9yOndoaXRlOyBwYWRkaW5nLXRvcDo1cHgnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+ICR7bWF0Y2hUaW1lfSBtaW5zOiAke2F0dGFja2luZ1BsYXllci5uYW1lfSBzY29yZWQ8YnIvPmApO1xuICAgICAgYXR0YWNraW5nUGxheWVyLmF0dGFjayArPSA1O1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ3dhc3RlZEZyZWVraWNrJywgYXR0YWNraW5nUGxheWVyKTtcbiAgICAgIGF0dGFja2luZ1BsYXllci5jcmVhdGl2aXR5IC09IDU7XG4gICAgICBhdHRhY2tpbmdUZWFtLnJlZHVjZVZhbHVlcyhnZW5SYW5kb21WYWx1ZSgxMCksICdhdHRhY2snLCBbJ3N0cmlrZXInLCAnbWlkZmllbGRlciddKTtcbiAgICAgIGF0dGFja2luZ1RlYW0ucmVkdWNlVmFsdWVzKGdlblJhbmRvbVZhbHVlKDEwKSwgJ2NyZWF0aXZpdHknLCBbJ3N0cmlrZXInLCAnbWlkZmllbGRlciddKTtcblxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBoYW5kbGVQZW5hbHR5KGF0dGFja2luZ1RlYW0sIGRlZmVuZGluZ1RlYW0pIHtcblxuICAgIGNvbnN0IGF0dGFja2luZ1BsYXllciA9IGF0dGFja2luZ1RlYW0ucmFuZG9tUGxheWVyQnlQb3NpdGlvbignc3RyaWtlcicpO1xuICAgIGNvbnN0IGRlZmVuZGluZ1BsYXllciA9IGRlZmVuZGluZ1RlYW0ucmFuZG9tUGxheWVyQnlQb3NpdGlvbignZ29hbGtlZXBlcicpO1xuICAgIGNvbnN0IGJvb2tlZFBsYXllciA9IGRlZmVuZGluZ1RlYW0ucmFuZG9tUGxheWVyQnlQb3NpdGlvbignZGVmZW5kZXInKTtcbiAgICAvLyBCb29rIHRoZSBwbGF5ZXI/XG4gICAgaWYgKGdlblJhbmRvbVZhbHVlKDEwMCkgPiAyNSkge1xuICAgICAgYm9va2VkUGxheWVyLnN0YXR1cyA9ICd5ZWxsb3cnO1xuICAgICAgJChgIyR7ZGVmZW5kaW5nVGVhbS5wbGFjZX1FdmVudHNgKS5hcHBlbmQoYDxpIGNsYXNzPSdmYSBmYS1zcXVhcmUgZXZlbnQtaXRlbScgc3R5bGU9J2ZvbnQtc2l6ZTogMjRweDsgY29sb3I6IHllbGxvdzsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHtib29rZWRQbGF5ZXIubmFtZX0gYm9va2VkPGJyLz5gKTtcbiAgICB9XG5cbiAgICBpZiAoKGdlblJhbmRvbVZhbHVlKGF0dGFja2luZ1BsYXllci5hdHRhY2spKjIpID4gZ2VuUmFuZG9tVmFsdWUoZGVmZW5kaW5nUGxheWVyLmRlZmVuY2UpKSB7XG5cbiAgICAgIHVwZGF0ZVNjb3JlKGF0dGFja2luZ1RlYW0pO1xuXG4gICAgICAvLyAkY29tbWVudGFyeUJveC50ZXh0KGAke2F0dGFja2luZ1BsYXllci5uYW1lfSdzIGNsaW5pY2FsIGZyb20gdGhlIHNwb3QhIEdvYWwhYCk7XG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ3BlbmFsdHknLCBhdHRhY2tpbmdQbGF5ZXIpO1xuICAgICAgJChgIyR7YXR0YWNraW5nVGVhbS5wbGFjZX1FdmVudHNgKS5hcHBlbmQoYDxpIGNsYXNzPSdmYSBmYS1mdXRib2wtbycgc3R5bGU9J2ZvbnQtc2l6ZTogMjJweDsgY29sb3I6d2hpdGU7IHBhZGRpbmctdG9wOjVweCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7YXR0YWNraW5nUGxheWVyLm5hbWV9IHNjb3JlcyBwZW5hbHR5PGJyLz5gKTtcbiAgICAgIGF0dGFja2luZ1BsYXllci5hdHRhY2sgKz0gNTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuZXJhdGVDb21tZW50YXJ5KCdtaXNzZWRQZW5hbHR5JywgYXR0YWNraW5nUGxheWVyKTtcbiAgICAgICQoYCMke2F0dGFja2luZ1RlYW0ucGxhY2V9RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtZnV0Ym9sLW8nIHN0eWxlPSdmb250LXNpemU6IDIycHg7IGNvbG9yOnJlZDsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHthdHRhY2tpbmdQbGF5ZXIubmFtZX0gbWlzc2VkIHBlbmFsdHk8YnIvPmApO1xuICAgICAgZGVmZW5kaW5nUGxheWVyLmRlZmVuY2UgKz0gMTA7XG4gICAgICBhdHRhY2tpbmdQbGF5ZXIuYXR0YWNrIC09IDEwO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmFpZ2h0UmVkKGRlZmVuZGluZ1RlYW0pIHtcbiAgICBjb25zdCBkZWZlbmRpbmdQbGF5ZXIgPSBkZWZlbmRpbmdUZWFtLnJhbmRvbVBsYXllcigpO1xuICAgIGlmIChnZW5SYW5kb21WYWx1ZShkZWZlbmRpbmdQbGF5ZXIuZGlzY2lwbGluZSkgKyAoMTAwLW1hdGNoVGltZSkgPCAyNSkge1xuICAgICAgZGVmZW5kaW5nUGxheWVyLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgIGRlZmVuZGluZ1BsYXllci5zdGF0dXMgPSAnZWplY3RlZCc7XG5cbiAgICAgIC8vICRjb21tZW50YXJ5Qm94LnRleHQoJ1RoZSByZWZlcmVlIGdpdmVzIGhpbSBhIHN0cmFpZ2h0IHJlZCEnKTtcbiAgICAgIGdlbmVyYXRlQ29tbWVudGFyeSgnc3RyYWlnaHRSZWQnLCBkZWZlbmRpbmdQbGF5ZXIpO1xuICAgICAgJChgIyR7ZGVmZW5kaW5nVGVhbS5wbGFjZX1FdmVudHNgKS5hcHBlbmQoYDxpIGNsYXNzPSdmYSBmYS1zcXVhcmUnIHN0eWxlPSdmb250LXNpemU6IDI0cHg7IGNvbG9yOiByZWQ7IHBhZGRpbmctdG9wOjVweCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7ZGVmZW5kaW5nUGxheWVyLm5hbWV9IHNlbnQgb2ZmPGJyLz5gKTtcbiAgICAgIC8vIGlmIChkZWZlbmRpbmdUZWFtLnBsYWNlID09PSAnaG9tZScpIHBhdXNlUGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbmZpZ1RlYW0odGVhbSwgc2VsZWN0b3IpIHtcbiAgICAvLyBSZWZhY3RvciBhbGwgdGVhbXMgaW50byBvbmUgb2JqZWN0LCB0aGVuIHBhc3MgaW4gb2JqZWN0W3NlbGVjdG9yXSA9PiBzYXZlIGFib3V0IDIwIGxpbmVzIG9mIGNvZGVcbiAgICBpZiAoaG9tZVRlYW0gPT09IG51bGwpIHtcbiAgICAgICQoJy5ob21lLXRlYW0gIC50ZWFtLW5hbWUnKS50ZXh0KHNlbGVjdG9yKTtcbiAgICAgIHN3aXRjaCAoc2VsZWN0b3IpIHtcbiAgICAgICAgY2FzZSAnVG90dGVuaGFtJzpcbiAgICAgICAgICBob21lVGVhbSA9IHNwdXJzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdNYW4gVW5pdGVkJzpcbiAgICAgICAgICBob21lVGVhbSA9IG1hblVuaXRlZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTGl2ZXJwb29sJzpcbiAgICAgICAgICBob21lVGVhbSA9IGxpdmVycG9vbDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTWFuIENpdHknOlxuICAgICAgICAgIGhvbWVUZWFtID0gbWFuQ2l0eTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRXZlcnRvbic6XG4gICAgICAgICAgaG9tZVRlYW0gPSBldmVydG9uO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdDaGVsc2VhJzpcbiAgICAgICAgICBob21lVGVhbSA9IGNoZWxzZWE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0xlaWNlc3Rlcic6XG4gICAgICAgICAgaG9tZVRlYW0gPSBsZWljZXN0ZXI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0Fyc2VuYWwnOlxuICAgICAgICAgIGhvbWVUZWFtID0gYXJzZW5hbDtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGhvbWVUZWFtLnBsYWNlID0gJ2hvbWUnO1xuICAgICAgJCgnLmhvbWUtdGVhbSwgI2hvbWVCYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBob21lVGVhbS5jb2xvcnNbMF0pO1xuICAgICAgJCgnLmhvbWUtdGVhbScpLmNzcygnY29sb3InLCBob21lVGVhbS5jb2xvcnNbMV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcuYXdheS10ZWFtIC50ZWFtLW5hbWUnKS50ZXh0KHNlbGVjdG9yKTtcbiAgICAgIHN3aXRjaCAoc2VsZWN0b3IpIHtcbiAgICAgICAgY2FzZSAnVG90dGVuaGFtJzpcbiAgICAgICAgICBhd2F5VGVhbSA9IHNwdXJzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdNYW4gVW5pdGVkJzpcbiAgICAgICAgICBhd2F5VGVhbSA9IG1hblVuaXRlZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTGl2ZXJwb29sJzpcbiAgICAgICAgICBhd2F5VGVhbSA9IGxpdmVycG9vbDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTWFuIENpdHknOlxuICAgICAgICAgIGF3YXlUZWFtID0gbWFuQ2l0eTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRXZlcnRvbic6XG4gICAgICAgICAgYXdheVRlYW0gPSBldmVydG9uO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdDaGVsc2VhJzpcbiAgICAgICAgICBhd2F5VGVhbSA9IGNoZWxzZWE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0xlaWNlc3Rlcic6XG4gICAgICAgICAgYXdheVRlYW0gPSBsZWljZXN0ZXI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0Fyc2VuYWwnOlxuICAgICAgICAgIGF3YXlUZWFtID0gYXJzZW5hbDtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGF3YXlUZWFtLnBsYWNlID0gJ2F3YXknO1xuICAgICAgJCgnLmF3YXktdGVhbSwgLnBvc3Nlc3Npb24tYmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgYXdheVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICQoJy5hd2F5LXRlYW0nKS5jc3MoJ2NvbG9yJywgYXdheVRlYW0uY29sb3JzWzFdKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZW5lcmF0ZUNvbW1lbnRhcnkoc2NlbmFyaW8sIHBsYXllcikge1xuICAgIGNvbnN0IGNvbW1lbnRhcnkgPSB7XG4gICAgICBnb2FsOiBbJ0dvYWwhJywgJ0hlXFwncyBzY29yZWQhJywgYFRoYXQncyBhIGdyZWF0IGZpbmlzaCFgLCBgV2hhdCBhIGdvYWwgYnkgJHtwbGF5ZXIubmFtZX1gLCBgJHtwbGF5ZXIubmFtZX0gZmluaXNoZXMgb2ZmIHRoZSBtb3ZlIWBdLFxuICAgICAgZnJlZWtpY2s6IFtgSXQncyBhIGZyZWVraWNrYCwgYCR7cGxheWVyLm5hbWV9IHRvIHRha2UgdGhlIGZyZWVraWNrYCwgYEhlIGxpbmVzIHVwIHRoZSBmcmVla2lja2AsIGBUaGlzIGlzIGEgY2hhbmNlIHRvIGdldCBhIGNyb3NzIGluYF0sXG4gICAgICB3YXN0ZWRGcmVla2ljazogW2Ake3BsYXllci5uYW1lfSBsb3NlcyBwb3NzZXNzaW9uYCwgYFRoYXQncyBlbmRlZCB1cCBpbiByb3cgWmAsIGBUaGUgYXR0YWNrIGFtb3VudHMgdG8gbm90aGluZ2AsIGAke3BsYXllci5uYW1lfSBoYXMgd2FzdGVkIHRoYXQgb3Bwb3J0dW5pdHlgLCBgJHtwbGF5ZXIubmFtZX0ncyBlZmZvcnQgZ29lcyBvdmVyIHRoZSBiYXJgLCBgSGUgaGFuZHMgYmFjayBwb3NzZXNzaW9uIHRvIHRoZSBvdGhlciB0ZWFtYF0sXG4gICAgICB5ZWxsb3c6IFtgSGUncyBnb2luZyBpbiB0aGUgYm9va2AsIGBPdWNoISAke3BsYXllci5uYW1lfSB3aWxsIGdldCBhIHllbGxvdyBmb3IgdGhhdGAsIGBUaGF0J3MgYSBib29raW5nYCwgYEl0J3MgYSB5ZWxsb3chYCwgYFRoZSByZWYgaXMgdGFraW5nIGhpcyBuYW1lYF0sXG4gICAgICBzZWNvbmRZZWxsb3c6IFtgSGUncyBhbHJlYWR5IGJlZW4gYm9va2VkLi4uYCwgYFRoYXQncyBhIHNlY29uZCB5ZWxsb3dgLCBgJHtwbGF5ZXIubmFtZX0gaXMgc2hvd24gYSByZWQhYCwgYCR7cGxheWVyLm5hbWV9IGlzIG9mZmBdLFxuICAgICAgc3RyYWlnaHRSZWQ6IFtgJHtwbGF5ZXIubmFtZX0gaXMgc2hvd24gYSBzdHJhaWdodCByZWQhYCwgYCR7cGxheWVyLm5hbWV9IGlzIG9mZmAsIGBUaGUgcmVmIGhhcyBnaXZlbiBoaW0gc3RyYWlnaHQgcmVkIWBdLFxuICAgICAgcGVuYWx0eTogW2BUaGUgcmVmZXJlZSBwb2ludHMgdG8gdGhlIHNwb3RgLCBgVGhhdCdzIGEgcGVuYWx0eWAsIGAke3BsYXllci5uYW1lfSBpcyBmb3VsZWQgaW4gdGhlIGFyZWFgLCBgVGhlIHJlZiBibG93cyBoaXMgd2hpc3RsZS4gUGVuYWx0eS5gXSxcbiAgICAgIG1pc3NlZFBlbmFsdHk6IFtgU2F2ZWQhYCwgYEl0J3Mgb3ZlciB0aGUgYmFyYCwgYCR7cGxheWVyLm5hbWV9IGhhcyBtaXNzZWQgaXQhYCwgYE9oIGRlYXIhICR7cGxheWVyLm5hbWV9J3MgcHV0IGl0IHdpZGUnYF0sXG4gICAgICBpbmp1cnk6IFtgJHtwbGF5ZXIubmFtZX0ncyBpcyBnb2luZyBvZmZgLGAke3BsYXllci5uYW1lfSBpcyBpbmp1cmVkYCxgJHtwbGF5ZXIubmFtZX0gY2FuJ3QgY29udGludWVgXSxcbiAgICAgIGNoYW5jZTogW2BUaGUgYmFsbCBpcyB3YXN0ZWRgLCBgUG9zc2Vzc2lvbiBpcyBzbG9wcGlseSBnaXZlbiBhd2F5YCwgYFRoYXQgaXMgd2FzdGVkYCwgYFRoZSByZWZlcmVlIHB1bGxzIGJhY2sgcGxheWAsIGBUaGUgYmFsbCBnb2VzIG91dCBmb3IgYSB0aHJvd2AsIGBHb29kIGludGVyY2VwdGlvbiFgLCBgSGUncyByb2JiZWQgaGltIG9mIHBvc3Nlc2lvbmAsIGBUaGF0IHdhcyBhIHdheXdhcmQgYmFsbGAsIGBIZSBjYW4ndCBxdWl0ZSBnZXQgb24gdGhlIGVuZCBvZiB0aGF0IG9uZWBdLFxuICAgICAgbmVhck1pc3M6IFtgJHtwbGF5ZXIubmFtZX0gaXMgbGltcGluZywgYnV0IGhlJ2xsIGJlIG9rYXlgLCBgVGhhdCdzIGEgc29yZSBvbmUuYCwgYCR7cGxheWVyLm5hbWV9IGxvb2tzIHRvIGJlIHN0cnVnZ2xpbmdgLCBgVGhlcmUncyBhIG5hc3R5IGNvbWluZyB0b2dldGhlcmAsIGBUaGUgcmVmZXJlZSB3YXZlcyBwbGF5IG9uYF1cbiAgICB9O1xuICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gZ2VuUmFuZG9tVmFsdWUoY29tbWVudGFyeVtzY2VuYXJpb10ubGVuZ3RoKTtcbiAgICBjb25zdCBtZXNzYWdlID0gY29tbWVudGFyeVtzY2VuYXJpb11bcmFuZG9tSW5kZXhdO1xuICAgICRjb21tZW50YXJ5Qm94LnRleHQoYCR7bWVzc2FnZX1gKTtcblxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlU2NvcmUodGVhbU9iamVjdCkge1xuICAgIGxldCBzY29yZSA9IG51bGw7XG4gICAgbGV0IGdldFNjb3JlID0gbnVsbDtcbiAgICBpZiAodGVhbU9iamVjdC5wbGFjZSA9PT0gJ2hvbWUnKSB7XG4gICAgICBnZXRTY29yZSA9ICRob21lU2NvcmUudGV4dCgpO1xuICAgICAgc2NvcmUgPSBwYXJzZUZsb2F0KGdldFNjb3JlKSArIDE7XG4gICAgICAkaG9tZVNjb3JlLnRleHQoc2NvcmUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZXRTY29yZSA9ICRhd2F5U2NvcmUudGV4dCgpO1xuICAgICAgc2NvcmUgPSBwYXJzZUZsb2F0KGdldFNjb3JlKSArIDE7XG4gICAgICAkYXdheVNjb3JlLnRleHQoc2NvcmUpO1xuICAgIH1cbiAgfVxufSk7XG4iXX0=
