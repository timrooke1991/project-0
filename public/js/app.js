"use strict";var _slicedToArray=function(){function e(e,a){var o=[],s=!0,t=!1,r=void 0;try{for(var n,l=e[Symbol.iterator]();!(s=(n=l.next()).done)&&(o.push(n.value),!a||o.length!==a);s=!0);}catch(e){t=!0,r=e}finally{try{!s&&l.return&&l.return()}finally{if(t)throw r}}return o}return function(a,o){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return e(a,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();$(function(){function e(){44===g&&(h.text("That's half-time!"),b=!b,y.text("Play")),90===g?(h.text("That's full-time!"),clearInterval(x),y.text("Finish")):(g++,d.text(g))}function a(e){return Math.floor(Math.random()*e)}function o(){var e=document.getElementById("homeBar");k=v.averagePlayerValues("creativity")/w.averagePlayerValues("creativity")*100,console.log(v.averagePlayerValues("creativity")),console.log(w.averagePlayerValues("creativity")),console.log(k),e.style.width=k+"%"}function s(){return a(v.averagePlayerValues("creativity"))>=a(w.averagePlayerValues("creativity"))?(h.css("background-color",v.colors[0]),h.css("color",v.colors[1]),a(10)%2==0&&h.text(p("chance","")),[v,"home",w]):(h.css("background-color",w.colors[0]),h.css("color",w.colors[1]),a(10)%2==0&&h.text(p("chance","")),[w,"away",v])}function t(e,o,s){var t=null,r=null,n=e.randomPlayer(),l=s.randomPlayerByPosition("defender");a(n.attack)>a(l.defence)&&("home"===o?(r=u.text(),t=parseFloat(r)+1,u.text(t)):(r=f.text(),t=parseFloat(r)+1,f.text(t)),p("goal",n),$("#"+o+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:white; padding-top:5px' aria-hidden='true'></i> "+g+" mins: "+n.name+" scored<br/>"))}function r(e,o,s){console.log("YELLOW");var t=s.randomPlayer(),r="home"===o?"away":"home";a(t.discipline)+(100-g)<90&&("Yellow"===t.status?(h.css("background-color","#FF0000"),h.css("color","#FFFFFF"),p("secondYellow",t),$("#"+r+"Events").append("<i class='fa fa-square event-item' style='font-size: 24px; color: red; padding-top:5px' aria-hidden='true'></i> "+g+" mins: "+t.name+" sent off<br/>"),t.status="Ejected",t.playing=!1):(h.css("background-color","yellow"),h.css("color","#000000"),p("yellow",t),$("#"+r+"Events").append("\n          <i class='fa fa-square event-item' style='font-size: 24px; color: yellow; padding-top:5px' aria-hidden='true'></i> "+g+" mins: "+t.name+" booked<br/>"),t.status="Yellow"))}function n(e,o){var s=e.randomPlayer();a(101)%8==0?(p("injury",s),$("#"+o+"Events").append("<i class='fa fa-plus' style='font-size: 26px; color: green; padding-top:5px' aria-hidden='true'></i> "+g+" mins: "+s.name+" injured<br/>"),s.playing=!1):h.text(s.name+"'s limping, but he'll be okay")}function l(e,a,o){var s=e.randomPlayerByPosition("midfielder"),t=o.randomPlayerByPosition("goalkeeper").defence+o.averagePlayerValues("defender");if(s.attack>t){var r=null,n=null;"home"===a?(n=u.text(),r=parseFloat(n)+1,u.text(r)):(n=f.text(),r=parseFloat(n)+1,f.text(r)),p("freekick",s),$("#"+a+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:white; padding-top:5px' aria-hidden='true'></i> "+g+" mins: "+s.name+" scored<br/>")}else p("wastedFreekick",s)}function c(e,o,s){var t=e.randomPlayerByPosition("striker"),r=s.randomPlayerByPosition("goalkeeper"),n=s.randomPlayerByPosition("defender"),l="home"===o?"away":"home";if(a(100)>25&&(n.status="Yellow",$("#"+l+"Events").append("<i class='fa fa-square event-item' style='font-size: 24px; color: yellow; padding-top:5px' aria-hidden='true'></i> "+g+" mins: "+n.name+" booked<br/>")),2*a(t.attack)>a(r.defence)){var c=null,i=null;"home"===o?(i=u.text(),c=parseFloat(i)+1,u.text(c)):(i=f.text(),c=parseFloat(i)+1,f.text(c)),p("penalty",t),$("#"+o+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:white; padding-top:5px' aria-hidden='true'></i> "+g+" mins: "+t.name+" scores penalty<br/>")}else h.text("He's missed it! The pressure has got to him"),$("#"+o+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:red; padding-top:5px' aria-hidden='true'></i> "+g+" mins: "+t.name+" missed penalty<br/>")}function i(e,o){var s=e.randomPlayer();if(a(s.discipline)>75){s.playing=!1;var t="home"===o?"away":"home";p("straightRed",s),$("#"+t+"Events").append("<i class='fa fa-square' style='font-size: 24px; color: red; padding-top:5px' aria-hidden='true'></i> "+g+" mins: "+s.name+" sent off<br/>")}}function m(e,a){if(null===v){switch($(".home-team  .team-name").text(a),a){case"Tottenham":v=spurs,$(".home-team, #homeBar").css("background-color",v.colors[0]),$(".home-team").css("color",v.colors[1]);break;case"Man United":v=manUnited,$(".home-team, #homeBar").css("background-color",v.colors[0]),$(".home-team").css("color",v.colors[1]);break;case"Liverpool":v=liverpool,$(".home-team, #homeBar").css("background-color",v.colors[0]),$(".home-team").css("color",v.colors[1]);break;case"Man City":v=manCity,$(".home-team, #homeBar").css("background-color",v.colors[0]),$(".home-team").css("color",v.colors[1]);break;case"Everton":v=everton,$(".home-team, #homeBar").css("background-color",v.colors[0]),$(".home-team").css("color",v.colors[1]);break;case"Chelsea":v=chelsea,$(".home-team, #homeBar").css("background-color",v.colors[0]),$(".home-team").css("color",v.colors[1]);break;case"Leicester":v=leicester,$(".home-team, #homeBar").css("background-color",v.colors[0]),$(".home-team").css("color",v.colors[1]);break;case"Arsenal":v=arsenal,$(".home-team, #homeBar").css("background-color",v.colors[0]),$(".home-team").css("color",v.colors[1])}console.log(v)}else{switch($(".away-team .team-name").text(a),a){case"Tottenham":w=spurs,$(".away-team, .possession-bar").css("background-color",w.colors[0]),$(".away-team").css("color",w.colors[1]);break;case"Man United":w=manUnited,$(".away-team, .possession-bar").css("background-color",w.colors[0]),$(".away-team").css("color",w.colors[1]);break;case"Liverpool":w=liverpool,$(".away-team, .possession-bar").css("background-color",w.colors[0]),$(".away-team").css("color",w.colors[1]);break;case"Man City":w=manCity,$(".away-team, .possession-bar").css("background-color",w.colors[0]),$(".away-team").css("color",w.colors[1]);break;case"Everton":w=everton,$(".away-team, .possession-bar").css("background-color",w.colors[0]),$(".away-team").css("color",w.colors[1]);break;case"Chelsea":w=chelsea,$(".away-team, .possession-bar").css("background-color",w.colors[0]),$(".away-team").css("color",w.colors[1]);break;case"Leicester":w=leicester,$(".away-team, .possession-bar").css("background-color",w.colors[0]),$(".away-team").css("color",w.colors[1]);break;case"Arsenal":w=arsenal,$(".away-team, .possession-bar").css("background-color",w.colors[0]),$(".away-team").css("color",w.colors[1])}console.log(w)}console.log(a)}function p(e,o){var s={goal:["Goal!","He's scored!","That's a great finish!","What a goal by "+o.name,o.name+" finishes off the move!"],freekick:["It's a freekick",o.name+" to take the freekick","He lines up the freekick","This is a chance to get a cross in"],wastedFreekick:[o.name+" loses possession","That's ended up in row Z","The attack amounts to nothing",o.name+" has wasted that opportunity",o.name+"'s effort goes over the bar","He hands back possession to the other team"],yellow:["He's going in the book","Ouch! "+o.name+"'ll a yellow for that","That's a booking","It's a yellow!","The ref is taking his name"],secondYellow:["He's already been booked...","That's a second yellow",o.name+" is shown a red!",o.name+" is off"],straightRed:[o.name+" is shown a straight red!",o.name+" is off","The ref has given him straight red!"],penalty:["The referee points to the spot","That's a penalty",o.name+" is fouled in the area","The ref blows his whistle. Penalty."],injury:[o.name+"'s is going off",o.name+" is injured",o.name+" can't continue"],chance:["The ball is wasted","Possession is sloppily given away","That is wasted","The referee pulls back play","The ball goes out for a throw","Good interception!","He's robbed him of possesion"]},t=a(s[e].length),r=s[e][t];h.text(""+r)}var d=$(".changing-minutes"),h=$("#commentaryBox"),y=$(".primary-button"),u=$(".home-team .score"),f=$(".away-team .score"),g=0,b=!1,k=50,v=null,w=null,x=setInterval(function(){if(b){var m=a(100)+1;console.log(g+": "+m);var p=s(),d=_slicedToArray(p,3),h=d[0],y=d[1],u=d[2];m%18==0&&t(h,y,u),m%80==0&&c(h,y,u),m%90==0&&i(u,y),m%22==0&&l(h,y,u),m%14==0&&r(h,y,u),m%60==0&&n(h,y),o(),e()}},200);$(".team-input").on("click",function(e){var a=e.target.innerHTML;null===v?(m(v,a),console.log("homeTeam now selected!"),$(".title-message").text("Home team chosen. Now chose your opponent.")):(m(w,a),console.log("awayTeam now selected!"),$("#match-setup, .info-message").hide(),$("#match-engine, .away-team, .home-team, .timer").show())}),$("#revealTeam").on("click",function(){$(".team-display").html("");var e=["1"].concat(v.formation.split("-")),a=["goalkeeper","defender","midfielder","striker"],o=0,s=0;try{e.map(function(e){for(var t=parseFloat(e),r=0;r<t;)v.players[o].playing&&($(".team-display").append("<p>"+a[s]+": "+v.players[o].name+"</p>"),v.players[o].chosenPosition=a[s],r++),console.log(o),o++;$(".team-display").append("<hr>"),s++})}catch(e){alert("Select 11 players!")}}),$(".player-selection-box button").on("click",function(){$(".team-panel").html("");var e=["goalkeeper","defender","midfielder","striker"];v.players.sort(function(a,o){return e.indexOf(a.position)<e.indexOf(o.position)?-1:1});for(var a=0;a<v.players.length;a++){var o=v.players[a],s=o.playing?"&#10004;":"&#10007;";$(".team-panel").append('<p class="player-line" id=\''+o.name+'\'>\n          <span class="starting" id="'+a+'">'+s+'</span>\n          <span class="player-name">'+o.position+" "+o.name+'</span>\n          <span class="player-stat">'+o.attack+'</span>\n          <span class="player-stat">'+o.defence+"</span>\n        </p>")}}),$(".team-panel").on("click",function(e){var a=e.target.id;v.players[a].playing=!v.players[a].playing,console.log(v.players[a].playing),v.players[a].playing?$("#"+a).html("&#10004;"):$("#"+a).html("&#10007;")}),y.on("click",function(){b=!b,b?y.text("Pause"):y.text("Play")}),$(".select-btn").on("click",function(){$(".match-setup").hide(),$(".team-setup").show()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiJGNvbW1lbnRhcnlCb3giLCJ0ZXh0IiwiJHByaW1hcnlCdXR0b24iLCJydW4iLCJtYXRjaFRpbWUiLCIkbWF0Y2hUaW1lIiwibW92ZSIsInZhbHVlIiwiZWxlbSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb25zb2xlIiwid2lkdGgiLCJob21lVGVhbSIsImF3YXlUZWFtIiwiYXZlcmFnZVBsYXllclZhbHVlcyIsImxvZyIsInNlbGVjdFRlYW0iLCJob21lUmFuZG9tIiwiZ2VuUmFuZG9tVmFsdWUiLCJjb2xvcnMiLCJjc3MiLCJnZW5lcmF0ZUNvbW1lbnRhcnkiLCJzZWxlY3RQbGF5ZXIiLCJ0ZWFtIiwiYXR0YWNraW5nUGxheWVyIiwiYXR0YWNraW5nVGVhbSIsInJhbmRvbVBsYXllciIsInNjb3JlIiwidGVhbVN0cmluZyIsImdldFNjb3JlIiwiJGhvbWVTY29yZSIsInJhbmRvbVBsYXllckJ5UG9zaXRpb24iLCJhdHRhY2siLCJkZWZlbmRpbmdQbGF5ZXIiLCJkZWZlbmNlIiwiJGF3YXlTY29yZSIsInBhcnNlRmxvYXQiLCJoYW5kbGVEaXNjaXBsaW5lIiwibmFtZSIsImRpc2NpcGxpbmUiLCJkZWZlbmRpbmdUZWFtIiwic3RhdHVzIiwiYXBwZW5kIiwicGxheWluZyIsImhhbmRsZUZyZWVraWNrIiwiZGVmZW5kaW5nVmFsdWUiLCJoYW5kbGVQZW5hbHR5IiwiYm9va2VkUGxheWVyIiwic3RyYWlnaHRSZWQiLCJzZWxlY3RvciIsInNwdXJzIiwibWFuVW5pdGVkIiwibGl2ZXJwb29sIiwibWFuQ2l0eSIsImV2ZXJ0b24iLCJjaGVsc2VhIiwibGVpY2VzdGVyIiwiYXJzZW5hbCIsInNjZW5hcmlvIiwiZnJlZWtpY2siLCJzZWNvbmRZZWxsb3ciLCJjaGFuY2UiLCJwbGF5ZXIiLCJjb21tZW50YXJ5IiwiZ29hbCIsInJhbmRvbWVJbmRleCIsIm1lc3NhZ2UiLCJ5ZWxsb3ciLCJwZW5hbHR5IiwiaW5qdXJ5IiwibGVuZ3RoIiwic2V0SW50ZXJ2YWwiLCJ0aW1lcklEIiwiZXZlbnRWYWx1ZSIsIl9zZWxlY3RUZWFtIiwiX3NlbGVjdFRlYW0yIiwiX3NsaWNlZFRvQXJyYXkiLCJnb2FsQ2hhbmNlIiwiaGFuZGxlSW5qdXJ5IiwidGltZUNvbnRyb2wiLCJvbiIsImUiLCJ1c2VyVGVhbSIsInRhcmdldCIsImlubmVySFRNTCIsImNvbmZpZ1RlYW0iLCJoaWRlIiwic2hvdyIsImh0bWwiLCJmb3JtYXRpb24iLCJzcGxpdCIsInBsYXllck51bWJlciIsInBvc2l0aW9uTnVtYmVyIiwibWFwIiwiYXJyYXlJdGVtIiwiaXRlcmF0aW9ucyIsImkiLCJwbGF5ZXJzIiwiY29uY2F0IiwicG9zaXRpb25zIiwiY2hvc2VuUG9zaXRpb24iLCJzb3J0IiwiYSIsImIiLCJlcnIiLCJpbmRleE9mIiwicG9zaXRpb24iLCJzdGFydGluZ0VsZXZlbiIsInNlbGVjdGVkUGxheWVyIl0sIm1hcHBpbmdzIjoibWNBQUFBLEdBQUUsV0FtS0lDLFFBQUFBLEtBRWVDLEtBQWZDLElBQ0RGLEVBQUFDLEtBQUEscUJBRkNFLEdBQU9BLEVBSVRELEVBQUdFLEtBQWtCLFNBR0pILEtBQWZDLEdBSEZGLEVBSU9DLEtBSlAscUJBS0VHLGNBQUFBLEdBQ0FDLEVBQUFKLEtBQWdCRyxZQUduQkEsSUFIR0MsRUFBV0osS0FBS0csSUFTcEIsUUFBU0UsR0FBT0MsR0FDZCxNQUFNQyxNQUFPQyxNQUFBQSxLQUFTQyxTQUFlSCxHQUdyQ0ksUUFBQUEsS0FDQUEsR0FBQUEsR0FBWUMsU0FBWkYsZUFBQSxVQUNBRixHQUFBSyxFQUFtQkQsb0JBQW5CLGNBQUFFLEVBQUFDLG9CQUFBLGNBQUEsSUFDREosUUFBQUssSUFBQUgsRUFBQUUsb0JBQUEsZUFIQ0osUUFBUUssSUFBSUYsRUFBU0Msb0JBQW9CLGVBSzNDSixRQUFTTSxJQUFBQSxHQUNQVCxFQUFNVSxNQUFBQSxNQUFjQyxFQUFBQSxJQUdwQixRQUFJRCxLQUlGLE1BSEFDLEdBQW1CTixFQUFvQkEs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S0FPekQsZ0RBUkZ6QyxFQUFBOUIsT0FRRSxnREFLZ0M4QixFQUFPNUIsUUFMdkMsNEJBbUJGdEIsRUFBQUEsZUFBU3FGLEdBQVFXLFFBQUFBLFNBQUFBLEdBQ2pCbEcsR0FBQUEsR0FBcUJ1RixFQUFBQSxPQUFRVyxFQUM3QmhHLEdBQVNxRixRQUFRVyxHQUFnQmpFLFNBQVU3QyxFQUFNOEcsUUFBQUEsR0FBdUJqRSxRQUoxRWpDLFFBQUFLLElBQUFILEVBQUFxRixRQUFBVyxHQUFBakUsU0FJRS9CLEVBQVNxRixRQUFRVyxHQUFnQmpFLFFBQVU3QyxFQUFBQSxJQUFNOEcsR0FBa0JwQixLQUFLLFlBQWMxRixFQUFBQSxJQUFNOEcsR0FBa0JwQixLQUFLLGNBT3BIdkYsRUFIRCtFLEdBQUEsUUFBQSxXQUNFOUUsR0FBT0EsRUFJUEEsRUFBQUQsRUFBa0JELEtBQXBCLFNBQTZCQyxFQUFNRCxLQUFBLFVBR2xDRixFQUhELGVBQUFrRixHQUFBLFFBQUEsV0FDRWxGLEVBQUUsZ0JBQWdCd0YsT0FJcEJ4RixFQUFBLGVBQUF5RiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKCgpID0+IHtcbiAgY29uc3QgJG1hdGNoVGltZSA9ICQoJy5jaGFuZ2luZy1taW51dGVzJyk7XG4gIGNvbnN0ICRjb21tZW50YXJ5Qm94ID0gJCgnI2NvbW1lbnRhcnlCb3gnKTtcbiAgY29uc3QgJHByaW1hcnlCdXR0b24gPSAkKCcucHJpbWFyeS1idXR0b24nKTtcbiAgY29uc3QgJGhvbWVTY29yZSA9ICQoJy5ob21lLXRlYW0gLnNjb3JlJyk7XG4gIGNvbnN0ICRhd2F5U2NvcmUgPSAkKCcuYXdheS10ZWFtIC5zY29yZScpO1xuICAvLyBjb25zdCAkaG9tZVRlYW0gPSAkKCcuaG9tZS10ZWFtJyk7XG4gIC8vIGNvbnN0ICRhd2F5VGVhbSA9ICQoJy5hd2F5LXRlYW0nKTtcblxuXG4gIGxldCBtYXRjaFRpbWUgPSAwO1xuICBsZXQgcnVuID0gZmFsc2U7XG4gIGxldCB3aWR0aCA9IDUwO1xuICBsZXQgaG9tZVRlYW0gPSBudWxsO1xuICBsZXQgYXdheVRlYW0gPSBudWxsO1xuXG5cbiAgLy8gTUFUQ0ggTE9HSUNcbiAgY29uc3QgdGltZXJJRCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgIGlmIChydW4pIHtcblxuICAgICAgY29uc3QgZXZlbnRWYWx1ZSA9IGdlblJhbmRvbVZhbHVlKDEwMCkgKyAxO1xuICAgICAgY29uc29sZS5sb2coYCR7bWF0Y2hUaW1lfTogJHtldmVudFZhbHVlfWApO1xuXG4gICAgICAvLyBDcmVhdGl2aXR5IFN1bUNyZWF0aXZpdHkgdnMuIFN1bUNyZWF0aXZpdHlcbiAgICAgIGNvbnN0IFthdHRhY2tpbmdUZWFtLCB0ZWFtU3RyaW5nLCBkZWZlbmRpbmdUZWFtXSA9IHNlbGVjdFRlYW0oKTtcblxuICAgICAgLy8gY29uc3QgY2hvc2VuUGxheWVyID0gc2VsZWN0UGxheWVyKHRlYW1PYmplY3QpO1xuICAgICAgLy8gY29uc29sZS5sb2coY2hvc2VuUGxheWVyKTtcbiAgICAgIC8vIFdobyBoYXMgdGhlIGV2ZW50P1xuICAgICAgaWYgKGV2ZW50VmFsdWUgJSAxOCA9PT0gMCkge1xuICAgICAgICAvLyBSYW5kb20gKFN0cmlrZXIsIE1pZGZpZWxkZXIpIHZzLiBHb2Fsa2VlcGVyID4gUmFuZFRoZWlyQXR0YWNrIHZzLiBSYW5kR29hbGtlZXBlclxuICAgICAgICBnb2FsQ2hhbmNlKGF0dGFja2luZ1RlYW0sIHRlYW1TdHJpbmcsIGRlZmVuZGluZ1RlYW0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnRWYWx1ZSAlIDgwID09PSAwKSB7XG4gICAgICAgIC8vIFN0cmlrZXIgdnMuIEdvYWxrZWVwZXIgPiBSYW5kVGhlaXJBdHRhY2sgdnMuIFJhbmRHb2Fsa2VlcGVyUGVuYWx0eVxuICAgICAgICBoYW5kbGVQZW5hbHR5KGF0dGFja2luZ1RlYW0sIHRlYW1TdHJpbmcsIGRlZmVuZGluZ1RlYW0pO1xuICAgICAgfVxuICAgICAgLy9cbiAgICAgIGlmIChldmVudFZhbHVlICUgOTAgPT09IDApIHtcbiAgICAgICAgLy8gUmFuZG9tIFBsYXllciA9PiBEaXNjaXBsaW5lID4gcmFuZG9tXG4gICAgICAgIHN0cmFpZ2h0UmVkKGRlZmVuZGluZ1RlYW0sIHRlYW1TdHJpbmcpO1xuICAgICAgfVxuICAgICAgLy9cbiAgICAgIGlmIChldmVudFZhbHVlICUgMjIgPT09IDApIHtcbiAgICAgICAgLy8gU3RyaWtlciB2cy4gR29hbGtlZXBlciA+IFJhbmRUaGVpckZyZWVraWNrIHZzLiBSYW5kR29hbGtlZXBlclBlbmFsdHlcbiAgICAgICAgaGFuZGxlRnJlZWtpY2soYXR0YWNraW5nVGVhbSwgdGVhbVN0cmluZywgZGVmZW5kaW5nVGVhbSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudFZhbHVlICUgMTQgPT09IDApIHtcbiAgICAgICAgLy8gUmFuZG9tUGxheWVyID0+IGRpc2NpcGxpbmUgKyBtYXRjaHRpbWUgcmFuZCB2cy4gcmFuZG9tXG4gICAgICAgIGhhbmRsZURpc2NpcGxpbmUoYXR0YWNraW5nVGVhbSwgdGVhbVN0cmluZywgZGVmZW5kaW5nVGVhbSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudFZhbHVlICUgNjAgPT09IDApIHtcbiAgICAgICAgaGFuZGxlSW5qdXJ5KGF0dGFja2luZ1RlYW0sIHRlYW1TdHJpbmcpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZWR1Y2UgRml0bmVzc1xuICAgICAgbW92ZSgpO1xuICAgICAgdGltZUNvbnRyb2woKTtcbiAgICB9XG4gIH0sMjAwKTtcblxuICAvLyBFdmVudCBMaXN0ZW5lcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBUZWFtIHNlbGVjdGlvblxuICAkKCcudGVhbS1pbnB1dCcpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgY29uc3QgdXNlclRlYW0gPSBlLnRhcmdldC5pbm5lckhUTUw7XG4gICAgaWYgKGhvbWVUZWFtID09PSBudWxsKSB7XG4gICAgICBjb25maWdUZWFtKGhvbWVUZWFtLCB1c2VyVGVhbSk7XG4gICAgICBjb25zb2xlLmxvZygnaG9tZVRlYW0gbm93IHNlbGVjdGVkIScpO1xuICAgICAgJCgnLnRpdGxlLW1lc3NhZ2UnKS50ZXh0KCdIb21lIHRlYW0gY2hvc2VuLiBOb3cgY2hvc2UgeW91ciBvcHBvbmVudC4nKTtcbiAgICAgIC8vIGUuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbmZpZ1RlYW0oYXdheVRlYW0sIHVzZXJUZWFtKTtcbiAgICAgIGNvbnNvbGUubG9nKCdhd2F5VGVhbSBub3cgc2VsZWN0ZWQhJyk7XG4gICAgICAkKCcjbWF0Y2gtc2V0dXAsIC5pbmZvLW1lc3NhZ2UnKS5oaWRlKCk7XG4gICAgICAkKCcjbWF0Y2gtZW5naW5lLCAuYXdheS10ZWFtLCAuaG9tZS10ZWFtLCAudGltZXInKS5zaG93KCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBTdGFydGluZyBMaW5lIFVwXG4gICQoJyNyZXZlYWxUZWFtJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICQoJy50ZWFtLWRpc3BsYXknKS5odG1sKCcnKTtcbiAgICBjb25zdCBmb3JtYXRpb24gPSBbJzEnXS5jb25jYXQoaG9tZVRlYW0uZm9ybWF0aW9uLnNwbGl0KCctJykpO1xuICAgIGNvbnN0IHBvc2l0aW9ucyA9IFsnZ29hbGtlZXBlcicsICdkZWZlbmRlcicsICdtaWRmaWVsZGVyJywgJ3N0cmlrZXInXTtcbiAgICBsZXQgcGxheWVyTnVtYmVyID0gMDtcbiAgICBsZXQgcG9zaXRpb25OdW1iZXIgPSAwO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvcm1hdGlvbi5tYXAoKGFycmF5SXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBpdGVyYXRpb25zID0gcGFyc2VGbG9hdChhcnJheUl0ZW0pO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgaXRlcmF0aW9ucykge1xuICAgICAgICAgIGlmIChob21lVGVhbS5wbGF5ZXJzW3BsYXllck51bWJlcl0ucGxheWluZykge1xuICAgICAgICAgICAgJCgnLnRlYW0tZGlzcGxheScpLmFwcGVuZChgPHA+JHtwb3NpdGlvbnNbcG9zaXRpb25OdW1iZXJdfTogJHtob21lVGVhbS5wbGF5ZXJzW3BsYXllck51bWJlcl0ubmFtZX08L3A+YCk7XG4gICAgICAgICAgICBob21lVGVhbS5wbGF5ZXJzW3BsYXllck51bWJlcl0uY2hvc2VuUG9zaXRpb24gPSBwb3NpdGlvbnNbcG9zaXRpb25OdW1iZXJdO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmxvZyhwbGF5ZXJOdW1iZXIpO1xuICAgICAgICAgIHBsYXllck51bWJlcisrO1xuICAgICAgICB9XG4gICAgICAgICQoJy50ZWFtLWRpc3BsYXknKS5hcHBlbmQoJzxocj4nKTtcbiAgICAgICAgcG9zaXRpb25OdW1iZXIrKztcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2goZXJyKSB7XG4gICAgICBhbGVydCgnU2VsZWN0IDExIHBsYXllcnMhJyk7XG4gICAgfVxuICB9KTtcblxuICAkKCcucGxheWVyLXNlbGVjdGlvbi1ib3ggYnV0dG9uJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICQoJy50ZWFtLXBhbmVsJykuaHRtbCgnJyk7XG5cbiAgICBjb25zdCBwb3NpdGlvbnMgPSBbJ2dvYWxrZWVwZXInLCAnZGVmZW5kZXInLCAnbWlkZmllbGRlcicsICdzdHJpa2VyJ107XG4gICAgaG9tZVRlYW0ucGxheWVycy5zb3J0KGZ1bmN0aW9uKGEsYil7XG4gICAgICByZXR1cm4gcG9zaXRpb25zLmluZGV4T2YoYS5wb3NpdGlvbikgPCBwb3NpdGlvbnMuaW5kZXhPZihiLnBvc2l0aW9uKSA/IC0xIDogMTtcbiAgICB9KTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9tZVRlYW0ucGxheWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcGxheWVyID0gaG9tZVRlYW0ucGxheWVyc1tpXTtcbiAgICAgIGNvbnN0IHN0YXJ0aW5nRWxldmVuID0gcGxheWVyLnBsYXlpbmcgPyAnJiMxMDAwNDsnIDogJyYjMTAwMDc7JztcblxuICAgICAgJCgnLnRlYW0tcGFuZWwnKS5hcHBlbmQoXG4gICAgICAgIGA8cCBjbGFzcz1cInBsYXllci1saW5lXCIgaWQ9JyR7cGxheWVyLm5hbWV9Jz5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInN0YXJ0aW5nXCIgaWQ9XCIke2l9XCI+JHtzdGFydGluZ0VsZXZlbn08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJwbGF5ZXItbmFtZVwiPiR7cGxheWVyLnBvc2l0aW9ufSAke3BsYXllci5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInBsYXllci1zdGF0XCI+JHtwbGF5ZXIuYXR0YWNrfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInBsYXllci1zdGF0XCI+JHtwbGF5ZXIuZGVmZW5jZX08L3NwYW4+XG4gICAgICAgIDwvcD5gXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG5cblxuXG5cblxuXG4gIC8vIFRvZ2dsZSB5ZXMvbm8gcGxheWluZ1xuICAkKCcudGVhbS1wYW5lbCcpLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgY29uc3Qgc2VsZWN0ZWRQbGF5ZXIgPSBlLnRhcmdldC5pZDtcbiAgICBob21lVGVhbS5wbGF5ZXJzW3NlbGVjdGVkUGxheWVyXS5wbGF5aW5nID0gIWhvbWVUZWFtLnBsYXllcnNbc2VsZWN0ZWRQbGF5ZXJdLnBsYXlpbmc7XG4gICAgY29uc29sZS5sb2coaG9tZVRlYW0ucGxheWVyc1tzZWxlY3RlZFBsYXllcl0ucGxheWluZyk7XG4gICAgaG9tZVRlYW0ucGxheWVyc1tzZWxlY3RlZFBsYXllcl0ucGxheWluZyA/ICQoYCMke3NlbGVjdGVkUGxheWVyfWApLmh0bWwoJyYjMTAwMDQ7JykgOiAkKGAjJHtzZWxlY3RlZFBsYXllcn1gKS5odG1sKCcmIzEwMDA3OycpO1xuXG4gIH0pO1xuXG4gICRwcmltYXJ5QnV0dG9uLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBydW4gPSAhcnVuO1xuICAgIHJ1biA/ICRwcmltYXJ5QnV0dG9uLnRleHQoJ1BhdXNlJykgOiAkcHJpbWFyeUJ1dHRvbi50ZXh0KCdQbGF5Jyk7XG4gIH0pO1xuXG4gICQoJy5zZWxlY3QtYnRuJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICQoJy5tYXRjaC1zZXR1cCcpLmhpZGUoKTtcbiAgICAkKCcudGVhbS1zZXR1cCcpLnNob3coKTtcbiAgfSk7XG5cbiAgLy8gRnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBmdW5jdGlvbiB0aW1lQ29udHJvbCgpIHtcblxuICAgIGlmKG1hdGNoVGltZSA9PT0gNDQpIHtcbiAgICAgICRjb21tZW50YXJ5Qm94LnRleHQoYFRoYXQncyBoYWxmLXRpbWUhYCk7XG4gICAgICBydW4gPSAhcnVuO1xuICAgICAgJHByaW1hcnlCdXR0b24udGV4dCgnUGxheScpO1xuICAgIH1cblxuICAgIGlmKG1hdGNoVGltZSA9PT0gOTApIHtcbiAgICAgICRjb21tZW50YXJ5Qm94LnRleHQoYFRoYXQncyBmdWxsLXRpbWUhYCk7XG4gICAgICBjbGVhckludGVydmFsKHRpbWVySUQpO1xuICAgICAgJHByaW1hcnlCdXR0b24udGV4dCgnRmluaXNoJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hdGNoVGltZSsrO1xuICAgICAgJG1hdGNoVGltZS50ZXh0KG1hdGNoVGltZSk7XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBnZW5SYW5kb21WYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdmFsdWUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdmUoKSB7XG4gICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdob21lQmFyJyk7XG4gICAgd2lkdGggPSAoKGhvbWVUZWFtLmF2ZXJhZ2VQbGF5ZXJWYWx1ZXMoJ2NyZWF0aXZpdHknKS9hd2F5VGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdjcmVhdGl2aXR5JykpICogMTAwKTtcbiAgICBjb25zb2xlLmxvZyhob21lVGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdjcmVhdGl2aXR5JykpXG4gICAgY29uc29sZS5sb2coYXdheVRlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnY3JlYXRpdml0eScpKVxuICAgIGNvbnNvbGUubG9nKHdpZHRoKVxuICAgIGVsZW0uc3R5bGUud2lkdGggPSB3aWR0aCArICclJztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdFRlYW0oKSB7XG4gICAgY29uc3QgaG9tZVJhbmRvbSA9ICBnZW5SYW5kb21WYWx1ZShob21lVGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdjcmVhdGl2aXR5JykpO1xuICAgIGNvbnN0IGF3YXlSYW5kb20gPSAgZ2VuUmFuZG9tVmFsdWUoYXdheVRlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnY3JlYXRpdml0eScpKTtcblxuICAgIGlmIChob21lUmFuZG9tID49IGF3YXlSYW5kb20pIHtcbiAgICAgICRjb21tZW50YXJ5Qm94LmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGhvbWVUZWFtLmNvbG9yc1swXSk7XG4gICAgICAkY29tbWVudGFyeUJveC5jc3MoJ2NvbG9yJywgaG9tZVRlYW0uY29sb3JzWzFdKTtcbiAgICAgIGlmIChnZW5SYW5kb21WYWx1ZSgxMCkgJSAyID09PSAwKSAkY29tbWVudGFyeUJveC50ZXh0KGdlbmVyYXRlQ29tbWVudGFyeSgnY2hhbmNlJywnJykpO1xuICAgICAgcmV0dXJuIFtob21lVGVhbSwgJ2hvbWUnLCBhd2F5VGVhbV07XG4gICAgfSBlbHNlIHtcbiAgICAgICRjb21tZW50YXJ5Qm94LmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGF3YXlUZWFtLmNvbG9yc1swXSk7XG4gICAgICAkY29tbWVudGFyeUJveC5jc3MoJ2NvbG9yJywgYXdheVRlYW0uY29sb3JzWzFdKTtcbiAgICAgIGlmIChnZW5SYW5kb21WYWx1ZSgxMCkgJSAyID09PSAwKSAkY29tbWVudGFyeUJveC50ZXh0KGdlbmVyYXRlQ29tbWVudGFyeSgnY2hhbmNlJywnJykpO1xuICAgICAgcmV0dXJuIFthd2F5VGVhbSwgJ2F3YXknLCBob21lVGVhbV07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2VsZWN0UGxheWVyKHRlYW0pIHtcbiAgICBjb25zdCBnZW5SYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRlYW0ucGxheWVycy5sZW5ndGgpO1xuICAgIHJldHVybiB0ZWFtLnBsYXllcnNbZ2VuUmFuZG9tSW5kZXhdO1xuICB9XG5cbiAgZnVuY3Rpb24gZ29hbENoYW5jZShhdHRhY2tpbmdUZWFtLCB0ZWFtU3RyaW5nLCBkZWZlbmRpbmdUZWFtKSB7XG4gICAgLy8gUmVmYWN0b3IgdGhpc1xuICAgIGxldCBzY29yZSA9IG51bGw7XG4gICAgbGV0IGdldFNjb3JlID0gbnVsbDtcbiAgICBjb25zdCBhdHRhY2tpbmdQbGF5ZXIgPSBhdHRhY2tpbmdUZWFtLnJhbmRvbVBsYXllcigpO1xuICAgIGNvbnN0IGRlZmVuZGluZ1BsYXllciA9IGRlZmVuZGluZ1RlYW0ucmFuZG9tUGxheWVyQnlQb3NpdGlvbignZGVmZW5kZXInKTtcblxuICAgIGlmIChnZW5SYW5kb21WYWx1ZShhdHRhY2tpbmdQbGF5ZXIuYXR0YWNrKSA+IGdlblJhbmRvbVZhbHVlKGRlZmVuZGluZ1BsYXllci5kZWZlbmNlKSkge1xuICAgICAgaWYgKHRlYW1TdHJpbmcgPT09ICdob21lJykge1xuICAgICAgICBnZXRTY29yZSA9ICRob21lU2NvcmUudGV4dCgpO1xuICAgICAgICBzY29yZSA9IHBhcnNlRmxvYXQoZ2V0U2NvcmUpICsgMTtcbiAgICAgICAgJGhvbWVTY29yZS50ZXh0KHNjb3JlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdldFNjb3JlID0gJGF3YXlTY29yZS50ZXh0KCk7XG4gICAgICAgIHNjb3JlID0gcGFyc2VGbG9hdChnZXRTY29yZSkgKyAxO1xuICAgICAgICAkYXdheVNjb3JlLnRleHQoc2NvcmUpO1xuICAgICAgfVxuICAgICAgLy8kY29tbWVudGFyeUJveC50ZXh0KGBHb2FsIWApO1xuICAgICAgZ2VuZXJhdGVDb21tZW50YXJ5KCdnb2FsJywgYXR0YWNraW5nUGxheWVyKTtcblxuICAgICAgJChgIyR7dGVhbVN0cmluZ31FdmVudHNgKS5hcHBlbmQoYDxpIGNsYXNzPSdmYSBmYS1mdXRib2wtbycgc3R5bGU9J2ZvbnQtc2l6ZTogMjJweDsgY29sb3I6d2hpdGU7IHBhZGRpbmctdG9wOjVweCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7YXR0YWNraW5nUGxheWVyLm5hbWV9IHNjb3JlZDxici8+YCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlRGlzY2lwbGluZShhdHRhY2tpbmdUZWFtLCB0ZWFtU3RyaW5nLCBkZWZlbmRpbmdUZWFtKSB7XG4gICAgY29uc29sZS5sb2coJ1lFTExPVycpO1xuICAgIGNvbnN0IGRlZmVuZGluZ1BsYXllciA9IGRlZmVuZGluZ1RlYW0ucmFuZG9tUGxheWVyKCk7XG4gICAgY29uc3QgdGVhbSA9IHRlYW1TdHJpbmcgPT09ICdob21lJyA/ICdhd2F5JyA6ICdob21lJztcbiAgICBpZiAoKGdlblJhbmRvbVZhbHVlKGRlZmVuZGluZ1BsYXllci5kaXNjaXBsaW5lKSArICgxMDAtbWF0Y2hUaW1lKSkgPCA5MCkge1xuICAgICAgLy8gQWxyZWFkeSBib29rZWQ/IFNlbmQgaGltIG9mZiFcbiAgICAgIGlmIChkZWZlbmRpbmdQbGF5ZXIuc3RhdHVzID09PSAnWWVsbG93Jykge1xuICAgICAgICAkY29tbWVudGFyeUJveC5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnI0ZGMDAwMCcpO1xuICAgICAgICAkY29tbWVudGFyeUJveC5jc3MoJ2NvbG9yJywgJyNGRkZGRkYnKTtcbiAgICAgICAgLy8gU3RvcmUgbWVzYWdlcyBhbmQgZGV0YWlscyBpbiBhbiBnYW1lIE9iamVjdFxuICAgICAgICAvLyAkY29tbWVudGFyeUJveC50ZXh0KGAke2RlZmVuZGluZ1BsYXllci5uYW1lfSBnZXRzIGEgcmVkIWApO1xuICAgICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ3NlY29uZFllbGxvdycsIGRlZmVuZGluZ1BsYXllcilcbiAgICAgICAgJChgIyR7dGVhbX1FdmVudHNgKS5hcHBlbmQoYDxpIGNsYXNzPSdmYSBmYS1zcXVhcmUgZXZlbnQtaXRlbScgc3R5bGU9J2ZvbnQtc2l6ZTogMjRweDsgY29sb3I6IHJlZDsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHtkZWZlbmRpbmdQbGF5ZXIubmFtZX0gc2VudCBvZmY8YnIvPmApO1xuXG4gICAgICAgIGRlZmVuZGluZ1BsYXllci5zdGF0dXMgPSAnRWplY3RlZCc7XG4gICAgICAgIGRlZmVuZGluZ1BsYXllci5wbGF5aW5nID0gZmFsc2U7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRjb21tZW50YXJ5Qm94LmNzcygnYmFja2dyb3VuZC1jb2xvcicsICd5ZWxsb3cnKTtcbiAgICAgICAgJGNvbW1lbnRhcnlCb3guY3NzKCdjb2xvcicsICcjMDAwMDAwJyk7XG4gICAgICAgIC8vICRjb21tZW50YXJ5Qm94LnRleHQoYCR7ZGVmZW5kaW5nUGxheWVyLm5hbWV9IGdldHMgYSB5ZWxsb3chYCk7XG4gICAgICAgIGdlbmVyYXRlQ29tbWVudGFyeSgneWVsbG93JywgZGVmZW5kaW5nUGxheWVyKVxuXG4gICAgICAgIC8vIFN0b3JlIG1lc2FnZXMgYW5kIGRldGFpbHMgaW4gYW4gZ2FtZSBPYmplY3RcbiAgICAgICAgJChgIyR7dGVhbX1FdmVudHNgKS5hcHBlbmQoYFxuICAgICAgICAgIDxpIGNsYXNzPSdmYSBmYS1zcXVhcmUgZXZlbnQtaXRlbScgc3R5bGU9J2ZvbnQtc2l6ZTogMjRweDsgY29sb3I6IHllbGxvdzsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHtkZWZlbmRpbmdQbGF5ZXIubmFtZX0gYm9va2VkPGJyLz5gKTtcblxuICAgICAgICBkZWZlbmRpbmdQbGF5ZXIuc3RhdHVzID0gJ1llbGxvdyc7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlSW5qdXJ5KGF0dGFja2luZ1RlYW0sIHRlYW1TdHJpbmcpIHtcbiAgICBjb25zdCBhdHRhY2tpbmdQbGF5ZXIgPSBhdHRhY2tpbmdUZWFtLnJhbmRvbVBsYXllcigpO1xuICAgIC8vIFRIRVJFIENPVUxEIEJFIEFOIElOSlVSWVxuICAgIGlmIChnZW5SYW5kb21WYWx1ZSgxMDEpICUgOCA9PT0gMCkge1xuICAgICAgLy8gJGNvbW1lbnRhcnlCb3gudGV4dChgJHthdHRhY2tpbmdQbGF5ZXIubmFtZX0gZ2V0cyB0YWtlbiBvZmYgb24gYSBzdHJldGNoZXIhYCk7XG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ2luanVyeScsIGF0dGFja2luZ1BsYXllcik7XG4gICAgICAkKGAjJHt0ZWFtU3RyaW5nfUV2ZW50c2ApLmFwcGVuZChgPGkgY2xhc3M9J2ZhIGZhLXBsdXMnIHN0eWxlPSdmb250LXNpemU6IDI2cHg7IGNvbG9yOiBncmVlbjsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHthdHRhY2tpbmdQbGF5ZXIubmFtZX0gaW5qdXJlZDxici8+YCk7XG4gICAgICBhdHRhY2tpbmdQbGF5ZXIucGxheWluZyA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAkY29tbWVudGFyeUJveC50ZXh0KGAke2F0dGFja2luZ1BsYXllci5uYW1lfSdzIGxpbXBpbmcsIGJ1dCBoZSdsbCBiZSBva2F5YCk7XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVGcmVla2ljayhhdHRhY2tpbmdUZWFtLCB0ZWFtU3RyaW5nLCBkZWZlbmRpbmdUZWFtKSB7XG4gICAgY29uc3QgYXR0YWNraW5nUGxheWVyID0gYXR0YWNraW5nVGVhbS5yYW5kb21QbGF5ZXJCeVBvc2l0aW9uKCdtaWRmaWVsZGVyJyk7XG4gICAgY29uc3QgZGVmZW5kaW5nVmFsdWUgPSAoZGVmZW5kaW5nVGVhbS5yYW5kb21QbGF5ZXJCeVBvc2l0aW9uKCdnb2Fsa2VlcGVyJykuZGVmZW5jZSArIGRlZmVuZGluZ1RlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnZGVmZW5kZXInKSk7XG5cbiAgICBpZiAoYXR0YWNraW5nUGxheWVyLmF0dGFjayA+IGRlZmVuZGluZ1ZhbHVlKSB7XG4gICAgICAvLyBSZWZhY3RvciB0aGlzXG4gICAgICBsZXQgc2NvcmUgPSBudWxsO1xuICAgICAgbGV0IGdldFNjb3JlID0gbnVsbDtcbiAgICAgIGlmICh0ZWFtU3RyaW5nID09PSAnaG9tZScpIHtcbiAgICAgICAgZ2V0U2NvcmUgPSAkaG9tZVNjb3JlLnRleHQoKTtcbiAgICAgICAgc2NvcmUgPSBwYXJzZUZsb2F0KGdldFNjb3JlKSArIDE7XG4gICAgICAgICRob21lU2NvcmUudGV4dChzY29yZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZXRTY29yZSA9ICRhd2F5U2NvcmUudGV4dCgpO1xuICAgICAgICBzY29yZSA9IHBhcnNlRmxvYXQoZ2V0U2NvcmUpICsgMTtcbiAgICAgICAgJGF3YXlTY29yZS50ZXh0KHNjb3JlKTtcbiAgICAgIH1cblxuICAgICAgLy8kY29tbWVudGFyeUJveC50ZXh0KGBJdCdzIGEgd29uZGVyIGdvYWwhIEdvYWwhYCk7XG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ2ZyZWVraWNrJywgYXR0YWNraW5nUGxheWVyKTtcbiAgICAgICQoYCMke3RlYW1TdHJpbmd9RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtZnV0Ym9sLW8nIHN0eWxlPSdmb250LXNpemU6IDIycHg7IGNvbG9yOndoaXRlOyBwYWRkaW5nLXRvcDo1cHgnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+ICR7bWF0Y2hUaW1lfSBtaW5zOiAke2F0dGFja2luZ1BsYXllci5uYW1lfSBzY29yZWQ8YnIvPmApO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbmVyYXRlQ29tbWVudGFyeSgnd2FzdGVkRnJlZWtpY2snLCBhdHRhY2tpbmdQbGF5ZXIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBoYW5kbGVQZW5hbHR5KGF0dGFja2luZ1RlYW0sIHRlYW1TdHJpbmcsIGRlZmVuZGluZ1RlYW0pIHtcblxuICAgIGNvbnN0IGF0dGFja2luZ1BsYXllciA9IGF0dGFja2luZ1RlYW0ucmFuZG9tUGxheWVyQnlQb3NpdGlvbignc3RyaWtlcicpO1xuICAgIGNvbnN0IGRlZmVuZGluZ1BsYXllciA9IGRlZmVuZGluZ1RlYW0ucmFuZG9tUGxheWVyQnlQb3NpdGlvbignZ29hbGtlZXBlcicpO1xuICAgIGNvbnN0IGJvb2tlZFBsYXllciA9IGRlZmVuZGluZ1RlYW0ucmFuZG9tUGxheWVyQnlQb3NpdGlvbignZGVmZW5kZXInKTtcbiAgICBjb25zdCB0ZWFtID0gdGVhbVN0cmluZyA9PT0gJ2hvbWUnID8gJ2F3YXknIDogJ2hvbWUnO1xuICAgIC8vIEJvb2sgdGhlIHBsYXllcj9cbiAgICBpZiAoZ2VuUmFuZG9tVmFsdWUoMTAwKSA+IDI1KSB7XG4gICAgICAvLyBjb25zb2xlLmxvZygnaGVyZScpO1xuICAgICAgYm9va2VkUGxheWVyLnN0YXR1cyA9ICdZZWxsb3cnO1xuICAgICAgJChgIyR7dGVhbX1FdmVudHNgKS5hcHBlbmQoYDxpIGNsYXNzPSdmYSBmYS1zcXVhcmUgZXZlbnQtaXRlbScgc3R5bGU9J2ZvbnQtc2l6ZTogMjRweDsgY29sb3I6IHllbGxvdzsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHtib29rZWRQbGF5ZXIubmFtZX0gYm9va2VkPGJyLz5gKTtcbiAgICB9XG5cbiAgICBpZiAoKGdlblJhbmRvbVZhbHVlKGF0dGFja2luZ1BsYXllci5hdHRhY2spKjIpID4gZ2VuUmFuZG9tVmFsdWUoZGVmZW5kaW5nUGxheWVyLmRlZmVuY2UpKSB7XG5cbiAgICAgIGxldCBzY29yZSA9IG51bGw7XG4gICAgICBsZXQgZ2V0U2NvcmUgPSBudWxsO1xuICAgICAgaWYgKHRlYW1TdHJpbmcgPT09ICdob21lJykge1xuICAgICAgICBnZXRTY29yZSA9ICRob21lU2NvcmUudGV4dCgpO1xuICAgICAgICBzY29yZSA9IHBhcnNlRmxvYXQoZ2V0U2NvcmUpICsgMTtcbiAgICAgICAgJGhvbWVTY29yZS50ZXh0KHNjb3JlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdldFNjb3JlID0gJGF3YXlTY29yZS50ZXh0KCk7XG4gICAgICAgIHNjb3JlID0gcGFyc2VGbG9hdChnZXRTY29yZSkgKyAxO1xuICAgICAgICAkYXdheVNjb3JlLnRleHQoc2NvcmUpO1xuICAgICAgfVxuXG4gICAgICAvLyAkY29tbWVudGFyeUJveC50ZXh0KGAke2F0dGFja2luZ1BsYXllci5uYW1lfSdzIGNsaW5pY2FsIGZyb20gdGhlIHNwb3QhIEdvYWwhYCk7XG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ3BlbmFsdHknLCBhdHRhY2tpbmdQbGF5ZXIpO1xuICAgICAgJChgIyR7dGVhbVN0cmluZ31FdmVudHNgKS5hcHBlbmQoYDxpIGNsYXNzPSdmYSBmYS1mdXRib2wtbycgc3R5bGU9J2ZvbnQtc2l6ZTogMjJweDsgY29sb3I6d2hpdGU7IHBhZGRpbmctdG9wOjVweCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7YXR0YWNraW5nUGxheWVyLm5hbWV9IHNjb3JlcyBwZW5hbHR5PGJyLz5gKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAkY29tbWVudGFyeUJveC50ZXh0KGBIZSdzIG1pc3NlZCBpdCEgVGhlIHByZXNzdXJlIGhhcyBnb3QgdG8gaGltYCk7XG4gICAgICAkKGAjJHt0ZWFtU3RyaW5nfUV2ZW50c2ApLmFwcGVuZChgPGkgY2xhc3M9J2ZhIGZhLWZ1dGJvbC1vJyBzdHlsZT0nZm9udC1zaXplOiAyMnB4OyBjb2xvcjpyZWQ7IHBhZGRpbmctdG9wOjVweCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7YXR0YWNraW5nUGxheWVyLm5hbWV9IG1pc3NlZCBwZW5hbHR5PGJyLz5gKTtcblxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmFpZ2h0UmVkKGRlZmVuZGluZ1RlYW0sIHRlYW1TdHJpbmcpIHtcbiAgICBjb25zdCBkZWZlbmRpbmdQbGF5ZXIgPSBkZWZlbmRpbmdUZWFtLnJhbmRvbVBsYXllcigpO1xuICAgIGlmIChnZW5SYW5kb21WYWx1ZShkZWZlbmRpbmdQbGF5ZXIuZGlzY2lwbGluZSkgPiA3NSkge1xuICAgICAgZGVmZW5kaW5nUGxheWVyLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgIGNvbnN0IHRlYW0gPSB0ZWFtU3RyaW5nID09PSAnaG9tZScgPyAnYXdheScgOiAnaG9tZSc7XG4gICAgICAvLyAkY29tbWVudGFyeUJveC50ZXh0KCdUaGUgcmVmZXJlZSBnaXZlcyBoaW0gYSBzdHJhaWdodCByZWQhJyk7XG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ3N0cmFpZ2h0UmVkJywgZGVmZW5kaW5nUGxheWVyKTtcbiAgICAgICQoYCMke3RlYW19RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtc3F1YXJlJyBzdHlsZT0nZm9udC1zaXplOiAyNHB4OyBjb2xvcjogcmVkOyBwYWRkaW5nLXRvcDo1cHgnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+ICR7bWF0Y2hUaW1lfSBtaW5zOiAke2RlZmVuZGluZ1BsYXllci5uYW1lfSBzZW50IG9mZjxici8+YCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29uZmlnVGVhbSh0ZWFtLCBzZWxlY3Rvcikge1xuICAgIGlmIChob21lVGVhbSA9PT0gbnVsbCkge1xuICAgICAgJCgnLmhvbWUtdGVhbSAgLnRlYW0tbmFtZScpLnRleHQoc2VsZWN0b3IpO1xuICAgICAgc3dpdGNoIChzZWxlY3Rvcikge1xuICAgICAgICBjYXNlICdUb3R0ZW5oYW0nOlxuICAgICAgICAgIGhvbWVUZWFtID0gc3B1cnM7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbSwgI2hvbWVCYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBob21lVGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5ob21lLXRlYW0nKS5jc3MoJ2NvbG9yJywgaG9tZVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTWFuIFVuaXRlZCc6XG4gICAgICAgICAgaG9tZVRlYW0gPSBtYW5Vbml0ZWQ7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbSwgI2hvbWVCYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBob21lVGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5ob21lLXRlYW0nKS5jc3MoJ2NvbG9yJywgaG9tZVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTGl2ZXJwb29sJzpcbiAgICAgICAgICBob21lVGVhbSA9IGxpdmVycG9vbDtcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtLCAjaG9tZUJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGhvbWVUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbScpLmNzcygnY29sb3InLCBob21lVGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdNYW4gQ2l0eSc6XG4gICAgICAgICAgaG9tZVRlYW0gPSBtYW5DaXR5O1xuICAgICAgICAgICQoJy5ob21lLXRlYW0sICNob21lQmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgaG9tZVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtJykuY3NzKCdjb2xvcicsIGhvbWVUZWFtLmNvbG9yc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0V2ZXJ0b24nOlxuICAgICAgICAgIGhvbWVUZWFtID0gZXZlcnRvbjtcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtLCAjaG9tZUJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGhvbWVUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbScpLmNzcygnY29sb3InLCBob21lVGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdDaGVsc2VhJzpcbiAgICAgICAgICBob21lVGVhbSA9IGNoZWxzZWE7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbSwgI2hvbWVCYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBob21lVGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5ob21lLXRlYW0nKS5jc3MoJ2NvbG9yJywgaG9tZVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTGVpY2VzdGVyJzpcbiAgICAgICAgICBob21lVGVhbSA9IGxlaWNlc3RlcjtcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtLCAjaG9tZUJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGhvbWVUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbScpLmNzcygnY29sb3InLCBob21lVGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdBcnNlbmFsJzpcbiAgICAgICAgICBob21lVGVhbSA9IGFyc2VuYWw7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbSwgI2hvbWVCYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBob21lVGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5ob21lLXRlYW0nKS5jc3MoJ2NvbG9yJywgaG9tZVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKGhvbWVUZWFtKTtcbiAgICB9IGVsc2Uge1xuXG4gICAgICAkKCcuYXdheS10ZWFtIC50ZWFtLW5hbWUnKS50ZXh0KHNlbGVjdG9yKTtcblxuICAgICAgc3dpdGNoIChzZWxlY3Rvcikge1xuICAgICAgICBjYXNlICdUb3R0ZW5oYW0nOlxuICAgICAgICAgIGF3YXlUZWFtID0gc3B1cnM7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbSwgLnBvc3Nlc3Npb24tYmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgYXdheVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICAgICAkKCcuYXdheS10ZWFtJykuY3NzKCdjb2xvcicsIGF3YXlUZWFtLmNvbG9yc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ01hbiBVbml0ZWQnOlxuICAgICAgICAgIGF3YXlUZWFtID0gbWFuVW5pdGVkO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0sIC5wb3NzZXNzaW9uLWJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGF3YXlUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbScpLmNzcygnY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdMaXZlcnBvb2wnOlxuICAgICAgICAgIGF3YXlUZWFtID0gbGl2ZXJwb29sO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0sIC5wb3NzZXNzaW9uLWJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGF3YXlUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbScpLmNzcygnY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdNYW4gQ2l0eSc6XG4gICAgICAgICAgYXdheVRlYW0gPSBtYW5DaXR5O1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0sIC5wb3NzZXNzaW9uLWJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGF3YXlUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbScpLmNzcygnY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFdmVydG9uJzpcbiAgICAgICAgICBhd2F5VGVhbSA9IGV2ZXJ0b247XG4gICAgICAgICAgJCgnLmF3YXktdGVhbSwgLnBvc3Nlc3Npb24tYmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgYXdheVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICAgICAkKCcuYXdheS10ZWFtJykuY3NzKCdjb2xvcicsIGF3YXlUZWFtLmNvbG9yc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0NoZWxzZWEnOlxuICAgICAgICAgIGF3YXlUZWFtID0gY2hlbHNlYTtcbiAgICAgICAgICAkKCcuYXdheS10ZWFtLCAucG9zc2Vzc2lvbi1iYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0nKS5jc3MoJ2NvbG9yJywgYXdheVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTGVpY2VzdGVyJzpcbiAgICAgICAgICBhd2F5VGVhbSA9IGxlaWNlc3RlcjtcbiAgICAgICAgICAkKCcuYXdheS10ZWFtLCAucG9zc2Vzc2lvbi1iYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0nKS5jc3MoJ2NvbG9yJywgYXdheVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQXJzZW5hbCc6XG4gICAgICAgICAgYXdheVRlYW0gPSBhcnNlbmFsO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0sIC5wb3NzZXNzaW9uLWJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGF3YXlUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbScpLmNzcygnY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coYXdheVRlYW0pO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKHNlbGVjdG9yKTtcbiAgICAvLyBQYXNzIGluIHRoZSBvYmplY3QgdmFsdWVzIHRvIGhvbWVUZWFtXG4gIH1cblxuICBmdW5jdGlvbiBnZW5lcmF0ZUNvbW1lbnRhcnkoc2NlbmFyaW8sIHBsYXllcikge1xuICAgIGNvbnN0IGNvbW1lbnRhcnkgPSB7XG4gICAgICBnb2FsOiBbJ0dvYWwhJywgJ0hlXFwncyBzY29yZWQhJywgYFRoYXQncyBhIGdyZWF0IGZpbmlzaCFgLCBgV2hhdCBhIGdvYWwgYnkgJHtwbGF5ZXIubmFtZX1gLCBgJHtwbGF5ZXIubmFtZX0gZmluaXNoZXMgb2ZmIHRoZSBtb3ZlIWBdLFxuICAgICAgZnJlZWtpY2s6IFtgSXQncyBhIGZyZWVraWNrYCwgYCR7cGxheWVyLm5hbWV9IHRvIHRha2UgdGhlIGZyZWVraWNrYCwgYEhlIGxpbmVzIHVwIHRoZSBmcmVla2lja2AsIGBUaGlzIGlzIGEgY2hhbmNlIHRvIGdldCBhIGNyb3NzIGluYF0sXG4gICAgICB3YXN0ZWRGcmVla2ljazogW2Ake3BsYXllci5uYW1lfSBsb3NlcyBwb3NzZXNzaW9uYCwgYFRoYXQncyBlbmRlZCB1cCBpbiByb3cgWmAsIGBUaGUgYXR0YWNrIGFtb3VudHMgdG8gbm90aGluZ2AsIGAke3BsYXllci5uYW1lfSBoYXMgd2FzdGVkIHRoYXQgb3Bwb3J0dW5pdHlgLCBgJHtwbGF5ZXIubmFtZX0ncyBlZmZvcnQgZ29lcyBvdmVyIHRoZSBiYXJgLCBgSGUgaGFuZHMgYmFjayBwb3NzZXNzaW9uIHRvIHRoZSBvdGhlciB0ZWFtYF0sXG4gICAgICB5ZWxsb3c6IFtgSGUncyBnb2luZyBpbiB0aGUgYm9va2AsIGBPdWNoISAke3BsYXllci5uYW1lfSdsbCBhIHllbGxvdyBmb3IgdGhhdGAsIGBUaGF0J3MgYSBib29raW5nYCwgYEl0J3MgYSB5ZWxsb3chYCwgYFRoZSByZWYgaXMgdGFraW5nIGhpcyBuYW1lYF0sXG4gICAgICBzZWNvbmRZZWxsb3c6IFtgSGUncyBhbHJlYWR5IGJlZW4gYm9va2VkLi4uYCwgYFRoYXQncyBhIHNlY29uZCB5ZWxsb3dgLCBgJHtwbGF5ZXIubmFtZX0gaXMgc2hvd24gYSByZWQhYCwgYCR7cGxheWVyLm5hbWV9IGlzIG9mZmBdLFxuICAgICAgc3RyYWlnaHRSZWQ6IFtgJHtwbGF5ZXIubmFtZX0gaXMgc2hvd24gYSBzdHJhaWdodCByZWQhYCwgYCR7cGxheWVyLm5hbWV9IGlzIG9mZmAsIGBUaGUgcmVmIGhhcyBnaXZlbiBoaW0gc3RyYWlnaHQgcmVkIWBdLFxuICAgICAgcGVuYWx0eTogW2BUaGUgcmVmZXJlZSBwb2ludHMgdG8gdGhlIHNwb3RgLCBgVGhhdCdzIGEgcGVuYWx0eWAsIGAke3BsYXllci5uYW1lfSBpcyBmb3VsZWQgaW4gdGhlIGFyZWFgLCBgVGhlIHJlZiBibG93cyBoaXMgd2hpc3RsZS4gUGVuYWx0eS5gXSxcbiAgICAgIGluanVyeTogW2Ake3BsYXllci5uYW1lfSdzIGlzIGdvaW5nIG9mZmAsYCR7cGxheWVyLm5hbWV9IGlzIGluanVyZWRgLGAke3BsYXllci5uYW1lfSBjYW4ndCBjb250aW51ZWBdLFxuICAgICAgY2hhbmNlOiBbYFRoZSBiYWxsIGlzIHdhc3RlZGAsIGBQb3NzZXNzaW9uIGlzIHNsb3BwaWx5IGdpdmVuIGF3YXlgLCBgVGhhdCBpcyB3YXN0ZWRgLCBgVGhlIHJlZmVyZWUgcHVsbHMgYmFjayBwbGF5YCwgYFRoZSBiYWxsIGdvZXMgb3V0IGZvciBhIHRocm93YCwgYEdvb2QgaW50ZXJjZXB0aW9uIWAsIGBIZSdzIHJvYmJlZCBoaW0gb2YgcG9zc2VzaW9uYF1cbiAgICB9O1xuICAgIGNvbnN0IHJhbmRvbWVJbmRleCA9IGdlblJhbmRvbVZhbHVlKGNvbW1lbnRhcnlbc2NlbmFyaW9dLmxlbmd0aCk7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNvbW1lbnRhcnlbc2NlbmFyaW9dW3JhbmRvbWVJbmRleF07XG4gICAgJGNvbW1lbnRhcnlCb3gudGV4dChgJHttZXNzYWdlfWApO1xuXG4gIH1cblxufSk7XG4iXX0=
