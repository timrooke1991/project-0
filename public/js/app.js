"use strict";var _slicedToArray=function(){function e(e,a){var s=[],o=!0,t=!1,r=void 0;try{for(var n,i=e[Symbol.iterator]();!(o=(n=i.next()).done)&&(s.push(n.value),!a||s.length!==a);o=!0);}catch(e){t=!0,r=e}finally{try{!o&&i.return&&i.return()}finally{if(t)throw r}}return s}return function(a,s){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return e(a,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();$(function(){function e(e){$(".team-panel").html(""),$(".formation").val(e.formation),e.players.sort(function(e,a){return E.indexOf(e.position)<E.indexOf(a.position)?-1:1});for(var a=0;a<e.players.length;a++){var s=e.players[a],o=s.playing?"&#10004;":"&#10007;";$(".team-panel").append('<p class="player-line '+s.position+" "+s.status+"\" id='"+s.name+"'>\n          <span class=\"starting "+s.status+'" id="'+a+'">'+o+'</span>\n          <span class="player-position ">'+s.position+'</span>\n          <span class="player-name">'+s.name+'</span>\n          <span class="player-stat">'+s.attack+'</span>\n          <span class="player-stat">'+s.defence+'</span>\n          <span class="player-stat">'+s.creativity+'</span>\n          <span class="player-stat">'+s.defence+'</span>\n          <span class="player-stat">'+s.fitness+"</span>\n        </p>")}}function a(e){$(".team-display").html("");var a=["1"].concat(e.formation.split("-")),s=0,o=0;try{a.map(function(a){for(var t=parseFloat(a),r=0;r<t;){if(e.players[s].playing||"ejected"===e.players[s].status){var n=E[o]!==e.players[s].position?"warning":"";$(".team-display").append("<span class='player-block "+n+" "+e.players[s].status+"'>"+e.players[s].name+"</span>"),e.players[s].chosenPosition=E[o],r++}console.log(s),s++}$(".team-display").append('<div class="seperate-players">'),o++})}catch(e){$(".team-display").append("<p class='team-selection-warning seperate-players'>Less than 11 players selected!</p>")}}function s(e,s){if(e.players[s].playing=!e.players[s].playing,a(w),e.players[s].playing){if($("#"+s).html("&#10004;"),F){console.log("clicked"),$("#"+s).parent().css({background:"green"});var t=e.players[s];o(e,t)}}else if($("#"+s).html("&#10007;"),F){$("#"+s).parent().css({"pointer-events":"none",background:"red"});var r=e.players[s];o(e,r)}}function o(e,a){e.subs<7?a.playing?($("#"+e.place+"Events").append("<i class='fa fa-arrow-right' style='font-size: 22px; color:green; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+a.name+" substituted<br/>"),e.subs+=1,a.playing=!0):($("#"+e.place+"Events").append("<i class='fa fa-arrow-right' style='font-size: 22px; color:red; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+a.name+" substituted<br/>"),e.subs+=1,a.playing=!1,a.status="subbed-off"):console.log("You have had 3 subs!")}function t(){44===x&&(g.text("That's half-time!"),P=!P,k.text("Play")),90===x?(g.text("That's full-time!"),clearInterval(z),k.text("Finish")):(x++,h.text(x))}function r(e){return Math.floor(Math.random()*e)}function n(){var e=document.getElementById("homeBar");T=V.averagePlayerValues("creativity")/(V.averagePlayerValues("creativity")+B.averagePlayerValues("creativity"))*100+(Math.random()<.5?-r(6):r(6)),console.log(V.averagePlayerValues("creativity")),console.log(B.averagePlayerValues("creativity")),e.style.width=T+"%"}function i(){return r(V.averagePlayerValues("creativity")+V.averagePlayerValues("fitness"))>=r(B.averagePlayerValues("creativity")+B.averagePlayerValues("fitness"))?(g.css("background-color",V.colors[0]),g.css("color",V.colors[1]),r(20)%4==0&&(g.text(f("chance","")),V.increaseValues(3,"attack",["midfielder","striker"]),V.increaseValues(3,"creativity",["midfielder","striker"])),[V,"home",B]):(g.css("background-color",B.colors[0]),g.css("color",B.colors[1]),r(20)%4==0&&(B.increaseValues(3,"attack",["midfielder","striker"]),B.increaseValues(3,"creativity",["midfielder","striker"]),g.text(f("chance",""))),[B,"away",V])}function l(e,a,s){var o=null,t=null,n=e.randomPlayer(),i=s.randomPlayerByPosition("defender");r(n.attack)>r(i.defence)&&("home"===a?(t=b.text(),o=parseFloat(t)+1,b.text(o)):(t=v.text(),o=parseFloat(t)+1,v.text(o)),f("goal",n),$("#"+a+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:white; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+n.name+" scored<br/>"))}function c(e,a,s){console.log("YELLOW");var o=s.randomPlayer(),t="home"===a?"away":"home";r(o.discipline)+(100-x)<90&&"ejected"!==o.status&&("yellow"===o.status?(g.css("background-color","#FF0000"),g.css("color","#FFFFFF"),f("secondYellow",o),$("#"+t+"Events").append("<i class='fa fa-square event-item' style='font-size: 24px; color: red; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+o.name+" sent off<br/>"),o.status="ejected"):(g.css("background-color","yellow"),g.css("color","#000000"),f("yellow",o),o.defence-=8,$("#"+t+"Events").append("\n          <i class='fa fa-square event-item' style='font-size: 24px; color: yellow; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+o.name+" booked<br/>"),o.status="yellow"))}function d(e,a){var s=e.randomPlayer();if(r(101)%8==0)if(f("injury",s),$("#"+a+"Events").append("<i class='fa fa-plus' style='font-size: 26px; color: green; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+s.name+" injured<br/>"),"away"===e.place){s.playing=!s.playing,o(B,s);var t=B.randomSubstitute(s.position);t.playing=!t.playing,o(B,t)}else"home"===e.place&&(s.fitness=0+r(30),s.status="injured",s.playing=!1);else s.fitness-=6,s.defence-=6,s.attack-=6,g.text(s.name+"'s limping, but he'll be okay")}function p(e,a,s){var o=e.randomPlayerByPosition("midfielder"),t=s.randomPlayerByPosition("goalkeeper").defence+s.averagePlayerValues("defender");if(o.attack>t){var r=null,n=null;"home"===a?(n=b.text(),r=parseFloat(n)+1,b.text(r)):(n=v.text(),r=parseFloat(n)+1,v.text(r)),f("freekick",o),$("#"+a+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:white; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+o.name+" scored<br/>"),o.attack+=5}else f("wastedFreekick",o),o.creativity-=2,e.reduceValues(10,"attack",["striker","midfielder","defender"])}function m(e,a,s){var o=e.randomPlayerByPosition("striker"),t=s.randomPlayerByPosition("goalkeeper"),n=s.randomPlayerByPosition("defender"),i="home"===a?"away":"home";if(r(100)>25&&(n.status="yellow",$("#"+i+"Events").append("<i class='fa fa-square event-item' style='font-size: 24px; color: yellow; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+n.name+" booked<br/>")),2*r(o.attack)>r(t.defence)){var l=null,c=null;"home"===a?(c=b.text(),l=parseFloat(c)+1,b.text(l)):(c=v.text(),l=parseFloat(c)+1,v.text(l)),f("penalty",o),$("#"+a+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:white; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+o.name+" scores penalty<br/>"),o.attack+=5}else f("missedPenalty",o),$("#"+a+"Events").append("<i class='fa fa-futbol-o' style='font-size: 22px; color:red; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+o.name+" missed penalty<br/>"),t.defence+=10,o.attack-=10}function u(e,a){var s=e.randomPlayer();if(r(s.discipline)<25){s.playing=!1,s.status="ejected";var o="home"===a?"away":"home";f("straightRed",s),$("#"+o+"Events").append("<i class='fa fa-square' style='font-size: 24px; color: red; padding-top:5px' aria-hidden='true'></i> "+x+" mins: "+s.name+" sent off<br/>")}}function y(e,a){if(null===V){switch($(".home-team  .team-name").text(a),a){case"Tottenham":V=spurs,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Man United":V=manUnited,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Liverpool":V=liverpool,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Man City":V=manCity,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Everton":V=everton,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Chelsea":V=chelsea,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Leicester":V=leicester,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1]);break;case"Arsenal":V=arsenal,$(".home-team, #homeBar").css("background-color",V.colors[0]),$(".home-team").css("color",V.colors[1])}V.place="home",console.log(V)}else{switch($(".away-team .team-name").text(a),a){case"Tottenham":B=spurs,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Man United":B=manUnited,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Liverpool":B=liverpool,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Man City":B=manCity,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Everton":B=everton,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Chelsea":B=chelsea,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Leicester":B=leicester,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1]);break;case"Arsenal":B=arsenal,$(".away-team, .possession-bar").css("background-color",B.colors[0]),$(".away-team").css("color",B.colors[1])}B.place="away",console.log(B)}console.log(a)}function f(e,a){var s={goal:["Goal!","He's scored!","That's a great finish!","What a goal by "+a.name,a.name+" finishes off the move!"],freekick:["It's a freekick",a.name+" to take the freekick","He lines up the freekick","This is a chance to get a cross in"],wastedFreekick:[a.name+" loses possession","That's ended up in row Z","The attack amounts to nothing",a.name+" has wasted that opportunity",a.name+"'s effort goes over the bar","He hands back possession to the other team"],yellow:["He's going in the book","Ouch! "+a.name+" will get a yellow for that","That's a booking","It's a yellow!","The ref is taking his name"],secondYellow:["He's already been booked...","That's a second yellow",a.name+" is shown a red!",a.name+" is off"],straightRed:[a.name+" is shown a straight red!",a.name+" is off","The ref has given him straight red!"],penalty:["The referee points to the spot","That's a penalty",a.name+" is fouled in the area","The ref blows his whistle. Penalty."],missedPenalty:["Saved!","It's over the bar",a.name+" has missed it!","Oh dear! "+a.name+"'s put it wide'"],injury:[a.name+"'s is going off",a.name+" is injured",a.name+" can't continue"],chance:["The ball is wasted","Possession is sloppily given away","That is wasted","The referee pulls back play","The ball goes out for a throw","Good interception!","He's robbed him of possesion"]},o=r(s[e].length),t=s[e][o];g.text(""+t)}var h=$(".changing-minutes"),g=$("#commentaryBox"),k=$(".primary-button"),b=$(".home-team .score"),v=$(".away-team .score"),w=null,x=0,P=!1,T=50,V=null,B=null,F=!1,E=["goalkeeper","defender","midfielder","striker"],z=setInterval(function(){if(P){var e=r(100)+1;console.log(x+": "+e);var a=i(),s=_slicedToArray(a,3),y=s[0],f=s[1],h=s[2];if(e%18==0&&(l(y,f,h),y.increaseValues(5,"attack",["midfielder","striker"]),y.increaseValues(5,"creativity",["midfielder","striker"]),h.reduceValues(5,"defence",["midfielder","defender","goalkeeper"])),e%80==0&&(m(y,f,h),h.reduceValues(3,"defence",["midfielder","defender","goalkeeper"])),e%90==0&&(u(h,f),h.reduceValues(10,"defence",["striker","midfielder","defender","goalkeeper"]),h.reduceValues(10,"attack",["striker","midfielder","defender","goalkeeper"]),h.reduceValues(10,"creativity",["striker","midfielder","defender","goalkeeper"])),e%22==0&&(p(y,f,h),y.increaseValues(5,"attack",["midfielder","striker"]),y.increaseValues(5,"creativity",["midfielder","striker"])),e%18==0&&c(y,f,h),e%75==0&&(d(y,f),h.reduceValues(3,"creativity",["striker","midfielder","defender","goalkeeper"])),e%10==0&&B.subs<6&&x>50){var g=r(E.length)+1,k=E[g];if(E[g]){var b=B.randomPlayerByPosition(k);b.playing=!b.playing,o(B,b);var v=B.randomSubstitute(k);v.playing=!v.playing,o(B,v)}}h.reduceValues(1,"fitness",["striker","midfielder","defender","goalkeeper"]),n(),t()}},200);$(".team-input").on("click",function(e){var a=e.target.innerHTML;null===V?(y(V,a),console.log("homeTeam now selected!"),$(".title-message").text("Home team chosen. Now chose your opponent.")):(y(B,a),console.log("awayTeam now selected!"),$(".title-message").text("Opponent selected. Now edit tactics or proceed to match."))}),$("#revealTeam").on("click",function(){a(w)}),$(".team-panel").on("click",function(e){var a=e.target.id;s(w,a)}),k.on("click",function(){P=!P,$("#match-setup, .info-message, .team-setup").hide(),$("#match-engine, .away-team, .home-team, .timer").show(),P?(k.text("Pause"),F=!0):k.text("Play")}),$("#homeTeam").on("click",function(){P&&(P=!P),k.text("Play"),$(".match-setup, .match-engine").hide(),$(".team-setup").show(),e(V),w=V,a(w)}),$("#awayTeam").on("click",function(){P&&(P=!P),k.text("Play"),$(".match-setup, .match-engine").hide(),$(".team-setup").show(),e(B),w=B,a(w)}),$(".go-back").on("click",function(){$(".team-setup").hide(),$(".match-setup").show()}),$(".formation").on("change",function(e){var s=e.target.value;w.formation=s,a(w)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwic2V0dXBUYWN0aWNzIiwidGVhbU9iamVjdCIsImh0bWwiLCJ2YWwiLCJmb3JtYXRpb24iLCJ0ZWFtVGFjdGljcyIsIm5ld0Zvcm1hdGlvbiIsInJldmVhbFRlYW0iLCJhIiwicG9zaXRpb24iLCJwb3NpdGlvbnMiLCJpbmRleE9mIiwiYiIsInBsYXllcnMiLCJsZW5ndGgiLCJpIiwicGxheWVyIiwic3RhcnRpbmdFbGV2ZW4iLCJzdGF0dXMiLCJuYW1lIiwicGxheWluZyIsImF0dGFjayIsImRlZmVuY2UiLCJjcmVhdGl2aXR5IiwiZml0bmVzcyIsInBsYXllck51bWJlciIsInBvc2l0aW9uTnVtYmVyIiwiY29uY2F0Iiwic3BsaXQiLCJwYXJzZUZsb2F0IiwibWFwIiwiYXJyYXlJdGVtIiwid2FybmluZ01lc3NhZ2UiLCJpdGVyYXRpb25zIiwiYXBwZW5kIiwiY29uc29sZSIsImNob3NlblBvc2l0aW9uIiwibG9nIiwiZ2FtZVN0YXJ0ZWQiLCJzZWxlY3RlZFBsYXllciIsInN1YnN0aXR1dGUiLCJwbGF5ZXJPbiIsInBhcmVudCIsImNzcyIsImJhY2tncm91bmQiLCJwbGF5ZXJPZmYiLCJwb2ludGVyLWV2ZW50cyIsInN1YnMiLCJwbGFjZSIsIm1hdGNoVGltZSIsIiRjb21tZW50YXJ5Qm94IiwidGV4dCIsIiRwcmltYXJ5QnV0dG9uIiwiJG1hdGNoVGltZSIsImdlblJhbmRvbVZhbHVlIiwiY2xlYXJJbnRlcnZhbCIsImZsb29yIiwiYXZlcmFnZVBsYXllclZhbHVlcyIsImF3YXlUZWFtIiwibW92ZSIsImF3YXlSYW5kb20iLCJ3aWR0aCIsImhvbWVSYW5kb20iLCJob21lVGVhbSIsIk1hdGgiLCJyYW5kb20iLCJjb2xvcnMiLCJlbGVtIiwic3R5bGUiLCJpbmNyZWFzZVZhbHVlcyIsImdlbmVyYXRlQ29tbWVudGFyeSIsInNlbGVjdFBsYXllciIsInRlYW0iLCJnZW5SYW5kb21JbmRleCIsInNjb3JlIiwidGVhbVN0cmluZyIsImRlZmVuZGluZ1RlYW0iLCJnZXRTY29yZSIsIiRhd2F5U2NvcmUiLCJyYW5kb21QbGF5ZXIiLCJyYW5kb21QbGF5ZXJCeVBvc2l0aW9uIiwiYXR0YWNraW5nUGxheWVyIiwiZGVmZW5kaW5nUGxheWVyIiwiJGhvbWVTY29yZSIsImhhbmRsZURpc2NpcGxpbmUiLCJhdHRhY2tpbmdUZWFtIiwiZGlzY2lwbGluZSIsInJhbmRvbVN1YnN0aXR1dGUiLCJhZGRQbGF5ZXIiLCJoYW5kbGVGcmVla2ljayIsImRlZmVuZGluZ1ZhbHVlIiwicmVkdWNlVmFsdWVzIiwiaGFuZGxlUGVuYWx0eSIsImJvb2tlZFBsYXllciIsInNlbGVjdG9yIiwic3B1cnMiLCJjb25maWdUZWFtIiwibGl2ZXJwb29sIiwibWFuVW5pdGVkIiwibWFuQ2l0eSIsImV2ZXJ0b24iLCJjaGVsc2VhIiwibGVpY2VzdGVyIiwiYXJzZW5hbCIsImNvbW1lbnRhcnkiLCJnb2FsIiwiZnJlZWtpY2siLCJzZWNvbmRZZWxsb3ciLCJzdHJhaWdodFJlZCIsImluanVyeSIsIm1lc3NhZ2UiLCJzY2VuYXJpbyIsInJhbmRvbUluZGV4Iiwid2FzdGVkRnJlZWtpY2siLCJ5ZWxsb3ciLCJwZW5hbHR5IiwibWlzc2VkUGVuYWx0eSIsImNoYW5jZSIsInJ1biIsImV2ZW50VmFsdWUiLCJ0aW1lcklEIiwic2V0SW50ZXJ2YWwiLCJzZWxlY3RUZWFtIiwiZ29hbENoYW5jZSIsInJhbmRvbVBvc2l0aW9uIiwiaGFuZGxlSW5qdXJ5IiwicmVtb3ZlUGxheWVyIiwib24iLCJlIiwidGltZUNvbnRyb2wiLCJ1c2VyVGVhbSIsInRhcmdldCIsImlkIiwiY2hvb3NlUGxheWVycyIsImhpZGUiLCJzaG93IiwidmFsdWUiXSwibWFwcGluZ3MiOiJtY0FBQUEsR0FBRSxXQXFLQyxRQUhEQyxHQUFBQyxHQVlFRixFQUFFLGVBQWVHLEtBQUssSUFQdEJILEVBQUEsY0FBRkksSUFBbUJGLEVBQVVHLFdBRTNCQyxFQUFBQSxRQUFZRCxLQUFZRSxTQUFBQSxF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YnhILEVBQVNGLEtBR1QrQyxFQUFBQSxZQUFBQSxHQUFlRCxRQUFLLFdBQ3BCcEQsRUFBRSxlQUFBdUksT0FDRnZJLEVBQUUsZ0JBQWV3SSxTQUdqQmhJLEVBQUFBLGNBQVdGLEdBQUFBLFNBQVgsU0FBQTJILEdBVEYsR0FBQTFILEdBQUEwSCxFQUFBRyxPQUFBSyxLQW1CRW5JLEdBQVlELFVBQVlFLEVBUHhCQyxFQUFGRiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKCgpID0+IHtcbiAgY29uc3QgJG1hdGNoVGltZSA9ICQoJy5jaGFuZ2luZy1taW51dGVzJyk7XG4gIGNvbnN0ICRjb21tZW50YXJ5Qm94ID0gJCgnI2NvbW1lbnRhcnlCb3gnKTtcbiAgY29uc3QgJHByaW1hcnlCdXR0b24gPSAkKCcucHJpbWFyeS1idXR0b24nKTtcbiAgY29uc3QgJGhvbWVTY29yZSA9ICQoJy5ob21lLXRlYW0gLnNjb3JlJyk7XG4gIGNvbnN0ICRhd2F5U2NvcmUgPSAkKCcuYXdheS10ZWFtIC5zY29yZScpO1xuICAvLyBjb25zdCAkaG9tZVRlYW0gPSAkKCcuaG9tZS10ZWFtJyk7XG4gIC8vIGNvbnN0ICRhd2F5VGVhbSA9ICQoJy5hd2F5LXRlYW0nKTtcbiAgbGV0IHRlYW1UYWN0aWNzID0gbnVsbDtcblxuICBsZXQgbWF0Y2hUaW1lID0gMDtcbiAgbGV0IHJ1biA9IGZhbHNlO1xuICBsZXQgd2lkdGggPSA1MDtcbiAgbGV0IGhvbWVUZWFtID0gbnVsbDtcbiAgbGV0IGF3YXlUZWFtID0gbnVsbDtcbiAgbGV0IGdhbWVTdGFydGVkID0gZmFsc2U7XG4gIGNvbnN0IHBvc2l0aW9ucyA9IFsnZ29hbGtlZXBlcicsICdkZWZlbmRlcicsICdtaWRmaWVsZGVyJywgJ3N0cmlrZXInXTtcblxuICAvLyBNQVRDSCBMT0dJQ1xuICBjb25zdCB0aW1lcklEID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgaWYgKHJ1biApIHtcblxuICAgICAgY29uc3QgZXZlbnRWYWx1ZSA9IGdlblJhbmRvbVZhbHVlKDEwMCkgKyAxO1xuICAgICAgY29uc29sZS5sb2coYCR7bWF0Y2hUaW1lfTogJHtldmVudFZhbHVlfWApO1xuXG4gICAgICAvLyBDcmVhdGl2aXR5IFN1bUNyZWF0aXZpdHkgdnMuIFN1bUNyZWF0aXZpdHlcbiAgICAgIGNvbnN0IFthdHRhY2tpbmdUZWFtLCB0ZWFtU3RyaW5nLCBkZWZlbmRpbmdUZWFtXSA9IHNlbGVjdFRlYW0oKTtcblxuICAgICAgLy8gY29uc3QgY2hvc2VuUGxheWVyID0gc2VsZWN0UGxheWVyKHRlYW1PYmplY3QpO1xuICAgICAgLy8gY29uc29sZS5sb2coY2hvc2VuUGxheWVyKTtcbiAgICAgIC8vIFdobyBoYXMgdGhlIGV2ZW50P1xuICAgICAgaWYgKGV2ZW50VmFsdWUgJSAxOCA9PT0gMCkge1xuICAgICAgICAvLyBSYW5kb20gKFN0cmlrZXIsIE1pZGZpZWxkZXIpIHZzLiBHb2Fsa2VlcGVyID4gUmFuZFRoZWlyQXR0YWNrIHZzLiBSYW5kR29hbGtlZXBlclxuICAgICAgICBnb2FsQ2hhbmNlKGF0dGFja2luZ1RlYW0sIHRlYW1TdHJpbmcsIGRlZmVuZGluZ1RlYW0pO1xuICAgICAgICBhdHRhY2tpbmdUZWFtLmluY3JlYXNlVmFsdWVzKDUsJ2F0dGFjaycsWydtaWRmaWVsZGVyJywgJ3N0cmlrZXInXSk7XG4gICAgICAgIGF0dGFja2luZ1RlYW0uaW5jcmVhc2VWYWx1ZXMoNSwnY3JlYXRpdml0eScsWydtaWRmaWVsZGVyJywgJ3N0cmlrZXInXSk7XG4gICAgICAgIGRlZmVuZGluZ1RlYW0ucmVkdWNlVmFsdWVzKDUsJ2RlZmVuY2UnLFsnbWlkZmllbGRlcicsICdkZWZlbmRlcicsICdnb2Fsa2VlcGVyJ10pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnRWYWx1ZSAlIDgwID09PSAwKSB7XG4gICAgICAgIC8vIFN0cmlrZXIgdnMuIEdvYWxrZWVwZXIgPiBSYW5kVGhlaXJBdHRhY2sgdnMuIFJhbmRHb2Fsa2VlcGVyUGVuYWx0eVxuICAgICAgICBoYW5kbGVQZW5hbHR5KGF0dGFja2luZ1RlYW0sIHRlYW1TdHJpbmcsIGRlZmVuZGluZ1RlYW0pO1xuICAgICAgICBkZWZlbmRpbmdUZWFtLnJlZHVjZVZhbHVlcygzLCdkZWZlbmNlJyxbJ21pZGZpZWxkZXInLCAnZGVmZW5kZXInLCAnZ29hbGtlZXBlciddKTtcbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICBpZiAoZXZlbnRWYWx1ZSAlIDkwID09PSAwKSB7XG4gICAgICAgIC8vIFJhbmRvbSBQbGF5ZXIgPT4gRGlzY2lwbGluZSA+IHJhbmRvbVxuICAgICAgICBzdHJhaWdodFJlZChkZWZlbmRpbmdUZWFtLCB0ZWFtU3RyaW5nKTtcbiAgICAgICAgZGVmZW5kaW5nVGVhbS5yZWR1Y2VWYWx1ZXMoMTAsJ2RlZmVuY2UnLFsnc3RyaWtlcicsJ21pZGZpZWxkZXInLCAnZGVmZW5kZXInLCAnZ29hbGtlZXBlciddKTtcbiAgICAgICAgZGVmZW5kaW5nVGVhbS5yZWR1Y2VWYWx1ZXMoMTAsJ2F0dGFjaycsWydzdHJpa2VyJywnbWlkZmllbGRlcicsICdkZWZlbmRlcicsICdnb2Fsa2VlcGVyJ10pO1xuICAgICAgICBkZWZlbmRpbmdUZWFtLnJlZHVjZVZhbHVlcygxMCwnY3JlYXRpdml0eScsWydzdHJpa2VyJywnbWlkZmllbGRlcicsICdkZWZlbmRlcicsICdnb2Fsa2VlcGVyJ10pO1xuICAgICAgfVxuICAgICAgLy9cbiAgICAgIGlmIChldmVudFZhbHVlICUgMjIgPT09IDApIHtcbiAgICAgICAgLy8gU3RyaWtlciB2cy4gR29hbGtlZXBlciA+IFJhbmRUaGVpckZyZWVraWNrIHZzLiBSYW5kR29hbGtlZXBlclBlbmFsdHlcbiAgICAgICAgaGFuZGxlRnJlZWtpY2soYXR0YWNraW5nVGVhbSwgdGVhbVN0cmluZywgZGVmZW5kaW5nVGVhbSk7XG4gICAgICAgIGF0dGFja2luZ1RlYW0uaW5jcmVhc2VWYWx1ZXMoNSwnYXR0YWNrJyxbJ21pZGZpZWxkZXInLCAnc3RyaWtlciddKTtcbiAgICAgICAgYXR0YWNraW5nVGVhbS5pbmNyZWFzZVZhbHVlcyg1LCdjcmVhdGl2aXR5JyxbJ21pZGZpZWxkZXInLCAnc3RyaWtlciddKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50VmFsdWUgJSAxOCA9PT0gMCkge1xuICAgICAgICAvLyBSYW5kb21QbGF5ZXIgPT4gZGlzY2lwbGluZSArIG1hdGNodGltZSByYW5kIHZzLiByYW5kb21cbiAgICAgICAgaGFuZGxlRGlzY2lwbGluZShhdHRhY2tpbmdUZWFtLCB0ZWFtU3RyaW5nLCBkZWZlbmRpbmdUZWFtKTtcblxuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnRWYWx1ZSAlIDc1ID09PSAwKSB7XG4gICAgICAgIGhhbmRsZUluanVyeShhdHRhY2tpbmdUZWFtLCB0ZWFtU3RyaW5nKTtcbiAgICAgICAgZGVmZW5kaW5nVGVhbS5yZWR1Y2VWYWx1ZXMoMywnY3JlYXRpdml0eScsWydzdHJpa2VyJywnbWlkZmllbGRlcicsICdkZWZlbmRlcicsICdnb2Fsa2VlcGVyJ10pO1xuICAgICAgfVxuXG4gICAgICBpZih0cnVlKSB7XG4gICAgICAgIGlmIChldmVudFZhbHVlICUgMTAgPT09IDAgJiYgYXdheVRlYW0uc3VicyA8IDYgJiYgbWF0Y2hUaW1lID4gNTApIHtcbiAgICAgICAgICBjb25zdCByYW5kb21JbmRleCA9IGdlblJhbmRvbVZhbHVlKHBvc2l0aW9ucy5sZW5ndGgpICsgMTtcbiAgICAgICAgICBjb25zdCByYW5kb21Qb3NpdGlvbiA9IHBvc2l0aW9uc1tyYW5kb21JbmRleF07XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cocmFuZG9tSW5kZXgpO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJhbmRvbVBvc2l0aW9uKTtcbiAgICAgICAgICBpZiAocG9zaXRpb25zW3JhbmRvbUluZGV4XSkge1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlUGxheWVyID0gYXdheVRlYW0ucmFuZG9tUGxheWVyQnlQb3NpdGlvbihyYW5kb21Qb3NpdGlvbik7XG4gICAgICAgICAgICByZW1vdmVQbGF5ZXIucGxheWluZyA9ICFyZW1vdmVQbGF5ZXIucGxheWluZztcbiAgICAgICAgICAgIHN1YnN0aXR1dGUoYXdheVRlYW0sIHJlbW92ZVBsYXllcik7XG4gICAgICAgICAgICBjb25zdCBhZGRQbGF5ZXIgPSBhd2F5VGVhbS5yYW5kb21TdWJzdGl0dXRlKHJhbmRvbVBvc2l0aW9uKTtcbiAgICAgICAgICAgIGFkZFBsYXllci5wbGF5aW5nID0gIWFkZFBsYXllci5wbGF5aW5nO1xuICAgICAgICAgICAgc3Vic3RpdHV0ZShhd2F5VGVhbSwgYWRkUGxheWVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUmVkdWNlIEZpdG5lc3NcbiAgICAgIGlmICh0cnVlKSB7XG4gICAgICAgIGRlZmVuZGluZ1RlYW0ucmVkdWNlVmFsdWVzKDEsJ2ZpdG5lc3MnLFsnc3RyaWtlcicsJ21pZGZpZWxkZXInLCAnZGVmZW5kZXInLCAnZ29hbGtlZXBlciddKTtcbiAgICAgIH1cbiAgICAgIG1vdmUoKTtcbiAgICAgIHRpbWVDb250cm9sKCk7XG4gICAgfVxuICB9LDIwMCk7XG5cbiAgLy8gRXZlbnQgTGlzdGVuZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gVGVhbSBzZWxlY3Rpb25cbiAgJCgnLnRlYW0taW5wdXQnKS5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgIGNvbnN0IHVzZXJUZWFtID0gZS50YXJnZXQuaW5uZXJIVE1MO1xuICAgIGlmIChob21lVGVhbSA9PT0gbnVsbCkge1xuICAgICAgY29uZmlnVGVhbShob21lVGVhbSwgdXNlclRlYW0pO1xuICAgICAgY29uc29sZS5sb2coJ2hvbWVUZWFtIG5vdyBzZWxlY3RlZCEnKTtcbiAgICAgICQoJy50aXRsZS1tZXNzYWdlJykudGV4dCgnSG9tZSB0ZWFtIGNob3Nlbi4gTm93IGNob3NlIHlvdXIgb3Bwb25lbnQuJyk7XG4gICAgICAvLyBlLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25maWdUZWFtKGF3YXlUZWFtLCB1c2VyVGVhbSk7XG4gICAgICBjb25zb2xlLmxvZygnYXdheVRlYW0gbm93IHNlbGVjdGVkIScpO1xuICAgICAgJCgnLnRpdGxlLW1lc3NhZ2UnKS50ZXh0KCdPcHBvbmVudCBzZWxlY3RlZC4gTm93IGVkaXQgdGFjdGljcyBvciBwcm9jZWVkIHRvIG1hdGNoLicpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gU3RhcnRpbmcgTGluZSBVcFxuICAkKCcjcmV2ZWFsVGVhbScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICByZXZlYWxUZWFtKHRlYW1UYWN0aWNzKTtcbiAgfSk7XG5cbiAgLy8gVG9nZ2xlIHllcy9ubyBwbGF5aW5nXG4gICQoJy50ZWFtLXBhbmVsJykub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICBjb25zdCBzZWxlY3RlZFBsYXllciA9IGUudGFyZ2V0LmlkO1xuICAgIGNob29zZVBsYXllcnModGVhbVRhY3RpY3MsIHNlbGVjdGVkUGxheWVyKTtcbiAgfSk7XG5cbiAgJHByaW1hcnlCdXR0b24ub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIHJ1biA9ICFydW47XG4gICAgJCgnI21hdGNoLXNldHVwLCAuaW5mby1tZXNzYWdlLCAudGVhbS1zZXR1cCcpLmhpZGUoKTtcbiAgICAkKCcjbWF0Y2gtZW5naW5lLCAuYXdheS10ZWFtLCAuaG9tZS10ZWFtLCAudGltZXInKS5zaG93KCk7XG4gICAgaWYgKHJ1bikge1xuICAgICAgJHByaW1hcnlCdXR0b24udGV4dCgnUGF1c2UnKTtcbiAgICAgIGdhbWVTdGFydGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHByaW1hcnlCdXR0b24udGV4dCgnUGxheScpO1xuICAgIH1cblxuICB9KTtcblxuICAkKCcjaG9tZVRlYW0nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKHJ1bikge1xuICAgICAgcnVuID0gIXJ1bjtcbiAgICB9XG4gICAgJHByaW1hcnlCdXR0b24udGV4dCgnUGxheScpO1xuICAgICQoJy5tYXRjaC1zZXR1cCwgLm1hdGNoLWVuZ2luZScpLmhpZGUoKTtcbiAgICAkKCcudGVhbS1zZXR1cCcpLnNob3coKTtcbiAgICBzZXR1cFRhY3RpY3MoaG9tZVRlYW0pO1xuICAgIHRlYW1UYWN0aWNzID0gaG9tZVRlYW07XG4gICAgcmV2ZWFsVGVhbSh0ZWFtVGFjdGljcyk7XG5cbiAgfSk7XG5cbiAgJCgnI2F3YXlUZWFtJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmIChydW4pIHtcbiAgICAgIHJ1biA9ICFydW47XG4gICAgfVxuICAgICRwcmltYXJ5QnV0dG9uLnRleHQoJ1BsYXknKTtcbiAgICAkKCcubWF0Y2gtc2V0dXAsIC5tYXRjaC1lbmdpbmUnKS5oaWRlKCk7XG4gICAgJCgnLnRlYW0tc2V0dXAnKS5zaG93KCk7XG4gICAgc2V0dXBUYWN0aWNzKGF3YXlUZWFtKTtcbiAgICB0ZWFtVGFjdGljcyA9IGF3YXlUZWFtO1xuICAgIHJldmVhbFRlYW0odGVhbVRhY3RpY3MpO1xuICB9KTtcblxuICAkKCcuZ28tYmFjaycpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAkKCcudGVhbS1zZXR1cCcpLmhpZGUoKTtcbiAgICAkKCcubWF0Y2gtc2V0dXAnKS5zaG93KCk7XG4gIH0pO1xuXG4gICQoJy5mb3JtYXRpb24nKS5vbignY2hhbmdlJywgKGUpID0+IHtcbiAgICBjb25zdCBuZXdGb3JtYXRpb24gPSBlLnRhcmdldC52YWx1ZTtcbiAgICB0ZWFtVGFjdGljcy5mb3JtYXRpb24gPSBuZXdGb3JtYXRpb247XG4gICAgcmV2ZWFsVGVhbSh0ZWFtVGFjdGljcyk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHNldHVwVGFjdGljcyh0ZWFtT2JqZWN0KSB7XG4gICAgJCgnLnRlYW0tcGFuZWwnKS5odG1sKCcnKTtcbiAgICAkKCcuZm9ybWF0aW9uJykudmFsKHRlYW1PYmplY3QuZm9ybWF0aW9uKTtcblxuICAgIHRlYW1PYmplY3QucGxheWVycy5zb3J0KGZ1bmN0aW9uKGEsYil7XG4gICAgICByZXR1cm4gcG9zaXRpb25zLmluZGV4T2YoYS5wb3NpdGlvbikgPCBwb3NpdGlvbnMuaW5kZXhPZihiLnBvc2l0aW9uKSA/IC0xIDogMTtcbiAgICB9KTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVhbU9iamVjdC5wbGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwbGF5ZXIgPSB0ZWFtT2JqZWN0LnBsYXllcnNbaV07XG4gICAgICBjb25zdCBzdGFydGluZ0VsZXZlbiA9IHBsYXllci5wbGF5aW5nID8gJyYjMTAwMDQ7JyA6ICcmIzEwMDA3Oyc7XG4gICAgICAvLyBjb25zdCBwbGF5aW5nU3RhdHVzID0gcGxheWVyLnBsYXlpbmcgPyAnb24tZmllbGQnIDogJ29uLWJlbmNoJztcblxuICAgICAgJCgnLnRlYW0tcGFuZWwnKS5hcHBlbmQoXG4gICAgICAgIGA8cCBjbGFzcz1cInBsYXllci1saW5lICR7cGxheWVyLnBvc2l0aW9ufSAke3BsYXllci5zdGF0dXN9XCIgaWQ9JyR7cGxheWVyLm5hbWV9Jz5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInN0YXJ0aW5nICR7cGxheWVyLnN0YXR1c31cIiBpZD1cIiR7aX1cIj4ke3N0YXJ0aW5nRWxldmVufTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInBsYXllci1wb3NpdGlvbiBcIj4ke3BsYXllci5wb3NpdGlvbn08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJwbGF5ZXItbmFtZVwiPiR7cGxheWVyLm5hbWV9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGxheWVyLXN0YXRcIj4ke3BsYXllci5hdHRhY2t9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGxheWVyLXN0YXRcIj4ke3BsYXllci5kZWZlbmNlfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInBsYXllci1zdGF0XCI+JHtwbGF5ZXIuY3JlYXRpdml0eX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJwbGF5ZXItc3RhdFwiPiR7cGxheWVyLmRlZmVuY2V9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGxheWVyLXN0YXRcIj4ke3BsYXllci5maXRuZXNzfTwvc3Bhbj5cbiAgICAgICAgPC9wPmBcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2VQbGF5KCkge1xuICAgIGlmIChydW4pIHtcbiAgICAgIHJ1biA9ICFydW47XG4gICAgfVxuXG4gICAgJHByaW1hcnlCdXR0b24udGV4dCgnUGxheScpO1xuICAgICQoJy5tYXRjaC1zZXR1cCwgLm1hdGNoLWVuZ2luZScpLmhpZGUoKTtcbiAgICBzZXR1cFRhY3RpY3MoaG9tZVRlYW0pO1xuICAgIHRlYW1UYWN0aWNzID0gaG9tZVRlYW07XG4gICAgcmV2ZWFsVGVhbSh0ZWFtVGFjdGljcyk7XG4gICAgJCgnLnRlYW0tc2V0dXAnKS5zaG93KCk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVhbFRlYW0odGVhbU9iamVjdCkge1xuICAgICQoJy50ZWFtLWRpc3BsYXknKS5odG1sKCcnKTtcbiAgICBjb25zdCBmb3JtYXRpb24gPSBbJzEnXS5jb25jYXQodGVhbU9iamVjdC5mb3JtYXRpb24uc3BsaXQoJy0nKSk7XG5cbiAgICBsZXQgcGxheWVyTnVtYmVyID0gMDtcbiAgICBsZXQgcG9zaXRpb25OdW1iZXIgPSAwO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvcm1hdGlvbi5tYXAoKGFycmF5SXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBpdGVyYXRpb25zID0gcGFyc2VGbG9hdChhcnJheUl0ZW0pO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgaXRlcmF0aW9ucykge1xuICAgICAgICAgIC8vIGFkZGVkIGVqZWN0ZWRcbiAgICAgICAgICBpZiAodGVhbU9iamVjdC5wbGF5ZXJzW3BsYXllck51bWJlcl0ucGxheWluZyB8fCB0ZWFtT2JqZWN0LnBsYXllcnNbcGxheWVyTnVtYmVyXS5zdGF0dXMgPT09ICdlamVjdGVkJykge1xuICAgICAgICAgICAgY29uc3Qgd2FybmluZ01lc3NhZ2UgPSBwb3NpdGlvbnNbcG9zaXRpb25OdW1iZXJdICE9PSB0ZWFtT2JqZWN0LnBsYXllcnNbcGxheWVyTnVtYmVyXS5wb3NpdGlvbiA/ICd3YXJuaW5nJyA6ICcnO1xuICAgICAgICAgICAgJCgnLnRlYW0tZGlzcGxheScpLmFwcGVuZChcbiAgICAgICAgICAgICAgYDxzcGFuIGNsYXNzPSdwbGF5ZXItYmxvY2sgJHt3YXJuaW5nTWVzc2FnZX0gJHsodGVhbU9iamVjdC5wbGF5ZXJzW3BsYXllck51bWJlcl0uc3RhdHVzKX0nPiR7dGVhbU9iamVjdC5wbGF5ZXJzW3BsYXllck51bWJlcl0ubmFtZX08L3NwYW4+YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRlYW1PYmplY3QucGxheWVyc1twbGF5ZXJOdW1iZXJdLmNob3NlblBvc2l0aW9uID0gcG9zaXRpb25zW3Bvc2l0aW9uTnVtYmVyXTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5sb2cocGxheWVyTnVtYmVyKTtcbiAgICAgICAgICBwbGF5ZXJOdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICAkKCcudGVhbS1kaXNwbGF5JykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwic2VwZXJhdGUtcGxheWVyc1wiPicpO1xuICAgICAgICBwb3NpdGlvbk51bWJlcisrO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaChlcnIpIHtcbiAgICAgICQoJy50ZWFtLWRpc3BsYXknKS5hcHBlbmQoYDxwIGNsYXNzPSd0ZWFtLXNlbGVjdGlvbi13YXJuaW5nIHNlcGVyYXRlLXBsYXllcnMnPkxlc3MgdGhhbiAxMSBwbGF5ZXJzIHNlbGVjdGVkITwvcD5gKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaG9vc2VQbGF5ZXJzKHRlYW1PYmplY3QsIHNlbGVjdGVkUGxheWVyKSB7XG4gICAgdGVhbU9iamVjdC5wbGF5ZXJzW3NlbGVjdGVkUGxheWVyXS5wbGF5aW5nID0gIXRlYW1PYmplY3QucGxheWVyc1tzZWxlY3RlZFBsYXllcl0ucGxheWluZztcbiAgICAvL2NvbnNvbGUubG9nKHRlYW1PYmplY3QucGxheWVyc1tzZWxlY3RlZFBsYXllcl0ucGxheWluZyk7XG4gICAgcmV2ZWFsVGVhbSh0ZWFtVGFjdGljcyk7XG4gICAgaWYgKHRlYW1PYmplY3QucGxheWVyc1tzZWxlY3RlZFBsYXllcl0ucGxheWluZykge1xuICAgICAgJChgIyR7c2VsZWN0ZWRQbGF5ZXJ9YCkuaHRtbCgnJiMxMDAwNDsnKTtcbiAgICAgIGlmIChnYW1lU3RhcnRlZCkge1xuICAgICAgICBjb25zb2xlLmxvZygnY2xpY2tlZCcpO1xuICAgICAgICAkKGAjJHtzZWxlY3RlZFBsYXllcn1gKS5wYXJlbnQoKS5jc3MoeydiYWNrZ3JvdW5kJzogJ2dyZWVuJ30pO1xuICAgICAgICBjb25zdCBwbGF5ZXJPbiA9IHRlYW1PYmplY3QucGxheWVyc1tzZWxlY3RlZFBsYXllcl07XG4gICAgICAgIHN1YnN0aXR1dGUodGVhbU9iamVjdCwgcGxheWVyT24pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAkKGAjJHtzZWxlY3RlZFBsYXllcn1gKS5odG1sKCcmIzEwMDA3OycpO1xuICAgICAgaWYgKGdhbWVTdGFydGVkKSB7XG4gICAgICAgICQoYCMke3NlbGVjdGVkUGxheWVyfWApLnBhcmVudCgpLmNzcyh7J3BvaW50ZXItZXZlbnRzJzogJ25vbmUnLCAnYmFja2dyb3VuZCc6ICdyZWQnfSk7XG4gICAgICAgIGNvbnN0IHBsYXllck9mZiA9IHRlYW1PYmplY3QucGxheWVyc1tzZWxlY3RlZFBsYXllcl07XG4gICAgICAgIHN1YnN0aXR1dGUodGVhbU9iamVjdCwgcGxheWVyT2ZmKTtcblxuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gc3Vic3RpdHV0ZSh0ZWFtT2JqZWN0LCBwbGF5ZXIpIHtcbiAgICBpZiAodGVhbU9iamVjdC5zdWJzIDwgNykge1xuICAgICAgaWYgKCFwbGF5ZXIucGxheWluZykge1xuICAgICAgICAkKGAjJHt0ZWFtT2JqZWN0LnBsYWNlfUV2ZW50c2ApLmFwcGVuZChgPGkgY2xhc3M9J2ZhIGZhLWFycm93LXJpZ2h0JyBzdHlsZT0nZm9udC1zaXplOiAyMnB4OyBjb2xvcjpyZWQ7IHBhZGRpbmctdG9wOjVweCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7cGxheWVyLm5hbWV9IHN1YnN0aXR1dGVkPGJyLz5gKTtcbiAgICAgICAgdGVhbU9iamVjdC5zdWJzICs9IDE7XG4gICAgICAgIHBsYXllci5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIHBsYXllci5zdGF0dXMgPSAnc3ViYmVkLW9mZic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKGAjJHt0ZWFtT2JqZWN0LnBsYWNlfUV2ZW50c2ApLmFwcGVuZChgPGkgY2xhc3M9J2ZhIGZhLWFycm93LXJpZ2h0JyBzdHlsZT0nZm9udC1zaXplOiAyMnB4OyBjb2xvcjpncmVlbjsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHtwbGF5ZXIubmFtZX0gc3Vic3RpdHV0ZWQ8YnIvPmApO1xuICAgICAgICB0ZWFtT2JqZWN0LnN1YnMgKz0gMTtcbiAgICAgICAgcGxheWVyLnBsYXlpbmcgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnWW91IGhhdmUgaGFkIDMgc3VicyEnKTtcbiAgICB9XG4gIH1cblxuICAvLyBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cblxuICBmdW5jdGlvbiB0aW1lQ29udHJvbCgpIHtcblxuICAgIGlmKG1hdGNoVGltZSA9PT0gNDQpIHtcbiAgICAgICRjb21tZW50YXJ5Qm94LnRleHQoYFRoYXQncyBoYWxmLXRpbWUhYCk7XG4gICAgICBydW4gPSAhcnVuO1xuICAgICAgJHByaW1hcnlCdXR0b24udGV4dCgnUGxheScpO1xuICAgIH1cblxuICAgIGlmKG1hdGNoVGltZSA9PT0gOTApIHtcbiAgICAgICRjb21tZW50YXJ5Qm94LnRleHQoYFRoYXQncyBmdWxsLXRpbWUhYCk7XG4gICAgICBjbGVhckludGVydmFsKHRpbWVySUQpO1xuICAgICAgJHByaW1hcnlCdXR0b24udGV4dCgnRmluaXNoJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hdGNoVGltZSsrO1xuICAgICAgJG1hdGNoVGltZS50ZXh0KG1hdGNoVGltZSk7XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBnZW5SYW5kb21WYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdmFsdWUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdmUoKSB7XG5cbiAgICAvLyBOZWVkIHRvIHNvcnQgdGhpc1xuICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaG9tZUJhcicpO1xuXG4gICAgd2lkdGggPSAoaG9tZVRlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnY3JlYXRpdml0eScpIC8gKGhvbWVUZWFtLmF2ZXJhZ2VQbGF5ZXJWYWx1ZXMoJ2NyZWF0aXZpdHknKSArIGF3YXlUZWFtLmF2ZXJhZ2VQbGF5ZXJWYWx1ZXMoJ2NyZWF0aXZpdHknKSkgKiAxMDApICsgKE1hdGgucmFuZG9tKCkgPCAwLjUgPyAtZ2VuUmFuZG9tVmFsdWUoNikgOiBnZW5SYW5kb21WYWx1ZSg2KSk7XG4gICAgY29uc29sZS5sb2coaG9tZVRlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnY3JlYXRpdml0eScpKTtcbiAgICBjb25zb2xlLmxvZyhhd2F5VGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdjcmVhdGl2aXR5JykpO1xuICAgIGVsZW0uc3R5bGUud2lkdGggPSB3aWR0aCArICclJztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdFRlYW0oKSB7XG4gICAgY29uc3QgaG9tZVJhbmRvbSA9ICBnZW5SYW5kb21WYWx1ZShob21lVGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdjcmVhdGl2aXR5JykgKyBob21lVGVhbS5hdmVyYWdlUGxheWVyVmFsdWVzKCdmaXRuZXNzJykpO1xuICAgIGNvbnN0IGF3YXlSYW5kb20gPSAgZ2VuUmFuZG9tVmFsdWUoYXdheVRlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnY3JlYXRpdml0eScpICsgYXdheVRlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnZml0bmVzcycpKTtcblxuICAgIGlmIChob21lUmFuZG9tID49IGF3YXlSYW5kb20pIHtcbiAgICAgICRjb21tZW50YXJ5Qm94LmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGhvbWVUZWFtLmNvbG9yc1swXSk7XG4gICAgICAkY29tbWVudGFyeUJveC5jc3MoJ2NvbG9yJywgaG9tZVRlYW0uY29sb3JzWzFdKTtcbiAgICAgIGlmIChnZW5SYW5kb21WYWx1ZSgyMCkgJSA0ID09PSAwKSB7XG4gICAgICAgICRjb21tZW50YXJ5Qm94LnRleHQoZ2VuZXJhdGVDb21tZW50YXJ5KCdjaGFuY2UnLCcnKSk7XG4gICAgICAgIGhvbWVUZWFtLmluY3JlYXNlVmFsdWVzKDMsJ2F0dGFjaycsWydtaWRmaWVsZGVyJywgJ3N0cmlrZXInXSk7XG4gICAgICAgIGhvbWVUZWFtLmluY3JlYXNlVmFsdWVzKDMsJ2NyZWF0aXZpdHknLFsnbWlkZmllbGRlcicsICdzdHJpa2VyJ10pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtob21lVGVhbSwgJ2hvbWUnLCBhd2F5VGVhbV07XG4gICAgfSBlbHNlIHtcbiAgICAgICRjb21tZW50YXJ5Qm94LmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGF3YXlUZWFtLmNvbG9yc1swXSk7XG4gICAgICAkY29tbWVudGFyeUJveC5jc3MoJ2NvbG9yJywgYXdheVRlYW0uY29sb3JzWzFdKTtcbiAgICAgIGlmIChnZW5SYW5kb21WYWx1ZSgyMCkgJSA0ID09PSAwKXtcbiAgICAgICAgYXdheVRlYW0uaW5jcmVhc2VWYWx1ZXMoMywnYXR0YWNrJyxbJ21pZGZpZWxkZXInLCAnc3RyaWtlciddKTtcbiAgICAgICAgYXdheVRlYW0uaW5jcmVhc2VWYWx1ZXMoMywnY3JlYXRpdml0eScsWydtaWRmaWVsZGVyJywgJ3N0cmlrZXInXSk7XG4gICAgICAgICRjb21tZW50YXJ5Qm94LnRleHQoZ2VuZXJhdGVDb21tZW50YXJ5KCdjaGFuY2UnLCcnKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gW2F3YXlUZWFtLCAnYXdheScsIGhvbWVUZWFtXTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZWxlY3RQbGF5ZXIodGVhbSkge1xuICAgIGNvbnN0IGdlblJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGVhbS5wbGF5ZXJzLmxlbmd0aCk7XG4gICAgcmV0dXJuIHRlYW0ucGxheWVyc1tnZW5SYW5kb21JbmRleF07XG4gIH1cblxuICBmdW5jdGlvbiBnb2FsQ2hhbmNlKGF0dGFja2luZ1RlYW0sIHRlYW1TdHJpbmcsIGRlZmVuZGluZ1RlYW0pIHtcbiAgICAvLyBSZWZhY3RvciB0aGlzXG4gICAgbGV0IHNjb3JlID0gbnVsbDtcbiAgICBsZXQgZ2V0U2NvcmUgPSBudWxsO1xuICAgIGNvbnN0IGF0dGFja2luZ1BsYXllciA9IGF0dGFja2luZ1RlYW0ucmFuZG9tUGxheWVyKCk7XG4gICAgY29uc3QgZGVmZW5kaW5nUGxheWVyID0gZGVmZW5kaW5nVGVhbS5yYW5kb21QbGF5ZXJCeVBvc2l0aW9uKCdkZWZlbmRlcicpO1xuXG4gICAgaWYgKGdlblJhbmRvbVZhbHVlKGF0dGFja2luZ1BsYXllci5hdHRhY2spID4gZ2VuUmFuZG9tVmFsdWUoZGVmZW5kaW5nUGxheWVyLmRlZmVuY2UpKSB7XG4gICAgICBpZiAodGVhbVN0cmluZyA9PT0gJ2hvbWUnKSB7XG4gICAgICAgIGdldFNjb3JlID0gJGhvbWVTY29yZS50ZXh0KCk7XG4gICAgICAgIHNjb3JlID0gcGFyc2VGbG9hdChnZXRTY29yZSkgKyAxO1xuICAgICAgICAkaG9tZVNjb3JlLnRleHQoc2NvcmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2V0U2NvcmUgPSAkYXdheVNjb3JlLnRleHQoKTtcbiAgICAgICAgc2NvcmUgPSBwYXJzZUZsb2F0KGdldFNjb3JlKSArIDE7XG4gICAgICAgICRhd2F5U2NvcmUudGV4dChzY29yZSk7XG4gICAgICB9XG4gICAgICAvLyRjb21tZW50YXJ5Qm94LnRleHQoYEdvYWwhYCk7XG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ2dvYWwnLCBhdHRhY2tpbmdQbGF5ZXIpO1xuXG4gICAgICAkKGAjJHt0ZWFtU3RyaW5nfUV2ZW50c2ApLmFwcGVuZChgPGkgY2xhc3M9J2ZhIGZhLWZ1dGJvbC1vJyBzdHlsZT0nZm9udC1zaXplOiAyMnB4OyBjb2xvcjp3aGl0ZTsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHthdHRhY2tpbmdQbGF5ZXIubmFtZX0gc2NvcmVkPGJyLz5gKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVEaXNjaXBsaW5lKGF0dGFja2luZ1RlYW0sIHRlYW1TdHJpbmcsIGRlZmVuZGluZ1RlYW0pIHtcbiAgICBjb25zb2xlLmxvZygnWUVMTE9XJyk7XG4gICAgY29uc3QgZGVmZW5kaW5nUGxheWVyID0gZGVmZW5kaW5nVGVhbS5yYW5kb21QbGF5ZXIoKTtcbiAgICBjb25zdCB0ZWFtID0gdGVhbVN0cmluZyA9PT0gJ2hvbWUnID8gJ2F3YXknIDogJ2hvbWUnO1xuICAgIGlmICgoZ2VuUmFuZG9tVmFsdWUoZGVmZW5kaW5nUGxheWVyLmRpc2NpcGxpbmUpICsgKDEwMC1tYXRjaFRpbWUpKSA8IDkwICYmIGRlZmVuZGluZ1BsYXllci5zdGF0dXMgIT09ICdlamVjdGVkJykge1xuICAgICAgLy8gQWxyZWFkeSBib29rZWQ/IFNlbmQgaGltIG9mZiFcbiAgICAgIGlmIChkZWZlbmRpbmdQbGF5ZXIuc3RhdHVzID09PSAneWVsbG93Jykge1xuICAgICAgICAkY29tbWVudGFyeUJveC5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnI0ZGMDAwMCcpO1xuICAgICAgICAkY29tbWVudGFyeUJveC5jc3MoJ2NvbG9yJywgJyNGRkZGRkYnKTtcblxuICAgICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ3NlY29uZFllbGxvdycsIGRlZmVuZGluZ1BsYXllcik7XG4gICAgICAgICQoYCMke3RlYW19RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtc3F1YXJlIGV2ZW50LWl0ZW0nIHN0eWxlPSdmb250LXNpemU6IDI0cHg7IGNvbG9yOiByZWQ7IHBhZGRpbmctdG9wOjVweCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7ZGVmZW5kaW5nUGxheWVyLm5hbWV9IHNlbnQgb2ZmPGJyLz5gKTtcbiAgICAgICAgZGVmZW5kaW5nUGxheWVyLnN0YXR1cyA9ICdlamVjdGVkJztcbiAgICAgICAgLy8gZGVmZW5kaW5nUGxheWVyLnN0YXR1cyA9ICdlamVjdGVkJztcbiAgICAgICAgLy8gZGVmZW5kaW5nUGxheWVyLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgLy8gaWYgKGRlZmVuZGluZ1RlYW0ucGxhY2UgPT09ICdob21lJykgcGF1c2VQbGF5KCk7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRjb21tZW50YXJ5Qm94LmNzcygnYmFja2dyb3VuZC1jb2xvcicsICd5ZWxsb3cnKTtcbiAgICAgICAgJGNvbW1lbnRhcnlCb3guY3NzKCdjb2xvcicsICcjMDAwMDAwJyk7XG4gICAgICAgIC8vICRjb21tZW50YXJ5Qm94LnRleHQoYCR7ZGVmZW5kaW5nUGxheWVyLm5hbWV9IGdldHMgYSB5ZWxsb3chYCk7XG4gICAgICAgIGdlbmVyYXRlQ29tbWVudGFyeSgneWVsbG93JywgZGVmZW5kaW5nUGxheWVyKTtcbiAgICAgICAgZGVmZW5kaW5nUGxheWVyLmRlZmVuY2UgLT0gODtcbiAgICAgICAgLy8gU3RvcmUgbWVzYWdlcyBhbmQgZGV0YWlscyBpbiBhbiBnYW1lIE9iamVjdFxuICAgICAgICAkKGAjJHt0ZWFtfUV2ZW50c2ApLmFwcGVuZChgXG4gICAgICAgICAgPGkgY2xhc3M9J2ZhIGZhLXNxdWFyZSBldmVudC1pdGVtJyBzdHlsZT0nZm9udC1zaXplOiAyNHB4OyBjb2xvcjogeWVsbG93OyBwYWRkaW5nLXRvcDo1cHgnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+ICR7bWF0Y2hUaW1lfSBtaW5zOiAke2RlZmVuZGluZ1BsYXllci5uYW1lfSBib29rZWQ8YnIvPmApO1xuICAgICAgICBkZWZlbmRpbmdQbGF5ZXIuc3RhdHVzID0gJ3llbGxvdyc7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlSW5qdXJ5KGF0dGFja2luZ1RlYW0sIHRlYW1TdHJpbmcpIHtcbiAgICBjb25zdCBhdHRhY2tpbmdQbGF5ZXIgPSBhdHRhY2tpbmdUZWFtLnJhbmRvbVBsYXllcigpO1xuICAgIC8vIFRIRVJFIENPVUxEIEJFIEFOIElOSlVSWVxuICAgIGlmIChnZW5SYW5kb21WYWx1ZSgxMDEpICUgOCA9PT0gMCkge1xuICAgICAgLy8gJGNvbW1lbnRhcnlCb3gudGV4dChgJHthdHRhY2tpbmdQbGF5ZXIubmFtZX0gZ2V0cyB0YWtlbiBvZmYgb24gYSBzdHJldGNoZXIhYCk7XG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ2luanVyeScsIGF0dGFja2luZ1BsYXllcik7XG4gICAgICAkKGAjJHt0ZWFtU3RyaW5nfUV2ZW50c2ApLmFwcGVuZChgPGkgY2xhc3M9J2ZhIGZhLXBsdXMnIHN0eWxlPSdmb250LXNpemU6IDI2cHg7IGNvbG9yOiBncmVlbjsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHthdHRhY2tpbmdQbGF5ZXIubmFtZX0gaW5qdXJlZDxici8+YCk7XG4gICAgICBpZiAoYXR0YWNraW5nVGVhbS5wbGFjZSA9PT0gJ2F3YXknKSB7XG4gICAgICAgIGF0dGFja2luZ1BsYXllci5wbGF5aW5nID0gIWF0dGFja2luZ1BsYXllci5wbGF5aW5nO1xuICAgICAgICBzdWJzdGl0dXRlKGF3YXlUZWFtLCBhdHRhY2tpbmdQbGF5ZXIpO1xuICAgICAgICBjb25zdCBhZGRQbGF5ZXIgPSBhd2F5VGVhbS5yYW5kb21TdWJzdGl0dXRlKGF0dGFja2luZ1BsYXllci5wb3NpdGlvbik7XG4gICAgICAgIGFkZFBsYXllci5wbGF5aW5nID0gIWFkZFBsYXllci5wbGF5aW5nO1xuICAgICAgICBzdWJzdGl0dXRlKGF3YXlUZWFtLCBhZGRQbGF5ZXIpO1xuICAgICAgfSBlbHNlIGlmIChhdHRhY2tpbmdUZWFtLnBsYWNlID09PSAnaG9tZScpIHtcbiAgICAgICAgYXR0YWNraW5nUGxheWVyLmZpdG5lc3MgPSAwICsgZ2VuUmFuZG9tVmFsdWUoMzApO1xuICAgICAgICBhdHRhY2tpbmdQbGF5ZXIuc3RhdHVzID0gJ2luanVyZWQnO1xuICAgICAgICBhdHRhY2tpbmdQbGF5ZXIucGxheWluZyA9IGZhbHNlO1xuICAgICAgICAvLyBwYXVzZVBsYXkoKTtcbiAgICAgIH1cbiAgICAgIC8vIGF0dGFja2luZ1BsYXllci5wbGF5aW5nID0gZmFsc2U7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgYXR0YWNraW5nUGxheWVyLmZpdG5lc3MgLT0gNjtcbiAgICAgIGF0dGFja2luZ1BsYXllci5kZWZlbmNlIC09IDY7XG4gICAgICBhdHRhY2tpbmdQbGF5ZXIuYXR0YWNrIC09IDY7XG4gICAgICAkY29tbWVudGFyeUJveC50ZXh0KGAke2F0dGFja2luZ1BsYXllci5uYW1lfSdzIGxpbXBpbmcsIGJ1dCBoZSdsbCBiZSBva2F5YCk7XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVGcmVla2ljayhhdHRhY2tpbmdUZWFtLCB0ZWFtU3RyaW5nLCBkZWZlbmRpbmdUZWFtKSB7XG4gICAgY29uc3QgYXR0YWNraW5nUGxheWVyID0gYXR0YWNraW5nVGVhbS5yYW5kb21QbGF5ZXJCeVBvc2l0aW9uKCdtaWRmaWVsZGVyJyk7XG4gICAgY29uc3QgZGVmZW5kaW5nVmFsdWUgPSAoZGVmZW5kaW5nVGVhbS5yYW5kb21QbGF5ZXJCeVBvc2l0aW9uKCdnb2Fsa2VlcGVyJykuZGVmZW5jZSArIGRlZmVuZGluZ1RlYW0uYXZlcmFnZVBsYXllclZhbHVlcygnZGVmZW5kZXInKSk7XG5cbiAgICBpZiAoYXR0YWNraW5nUGxheWVyLmF0dGFjayA+IGRlZmVuZGluZ1ZhbHVlKSB7XG4gICAgICAvLyBSZWZhY3RvciB0aGlzXG4gICAgICBsZXQgc2NvcmUgPSBudWxsO1xuICAgICAgbGV0IGdldFNjb3JlID0gbnVsbDtcbiAgICAgIGlmICh0ZWFtU3RyaW5nID09PSAnaG9tZScpIHtcbiAgICAgICAgZ2V0U2NvcmUgPSAkaG9tZVNjb3JlLnRleHQoKTtcbiAgICAgICAgc2NvcmUgPSBwYXJzZUZsb2F0KGdldFNjb3JlKSArIDE7XG4gICAgICAgICRob21lU2NvcmUudGV4dChzY29yZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZXRTY29yZSA9ICRhd2F5U2NvcmUudGV4dCgpO1xuICAgICAgICBzY29yZSA9IHBhcnNlRmxvYXQoZ2V0U2NvcmUpICsgMTtcbiAgICAgICAgJGF3YXlTY29yZS50ZXh0KHNjb3JlKTtcbiAgICAgIH1cblxuICAgICAgLy8kY29tbWVudGFyeUJveC50ZXh0KGBJdCdzIGEgd29uZGVyIGdvYWwhIEdvYWwhYCk7XG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ2ZyZWVraWNrJywgYXR0YWNraW5nUGxheWVyKTtcbiAgICAgICQoYCMke3RlYW1TdHJpbmd9RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtZnV0Ym9sLW8nIHN0eWxlPSdmb250LXNpemU6IDIycHg7IGNvbG9yOndoaXRlOyBwYWRkaW5nLXRvcDo1cHgnIGFyaWEtaGlkZGVuPSd0cnVlJz48L2k+ICR7bWF0Y2hUaW1lfSBtaW5zOiAke2F0dGFja2luZ1BsYXllci5uYW1lfSBzY29yZWQ8YnIvPmApO1xuICAgICAgYXR0YWNraW5nUGxheWVyLmF0dGFjayArPSA1O1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ3dhc3RlZEZyZWVraWNrJywgYXR0YWNraW5nUGxheWVyKTtcbiAgICAgIGF0dGFja2luZ1BsYXllci5jcmVhdGl2aXR5IC09IDI7XG4gICAgICBhdHRhY2tpbmdUZWFtLnJlZHVjZVZhbHVlcygxMCwgJ2F0dGFjaycsIFsnc3RyaWtlcicsICdtaWRmaWVsZGVyJywgJ2RlZmVuZGVyJ10pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBoYW5kbGVQZW5hbHR5KGF0dGFja2luZ1RlYW0sIHRlYW1TdHJpbmcsIGRlZmVuZGluZ1RlYW0pIHtcblxuICAgIGNvbnN0IGF0dGFja2luZ1BsYXllciA9IGF0dGFja2luZ1RlYW0ucmFuZG9tUGxheWVyQnlQb3NpdGlvbignc3RyaWtlcicpO1xuICAgIGNvbnN0IGRlZmVuZGluZ1BsYXllciA9IGRlZmVuZGluZ1RlYW0ucmFuZG9tUGxheWVyQnlQb3NpdGlvbignZ29hbGtlZXBlcicpO1xuICAgIGNvbnN0IGJvb2tlZFBsYXllciA9IGRlZmVuZGluZ1RlYW0ucmFuZG9tUGxheWVyQnlQb3NpdGlvbignZGVmZW5kZXInKTtcbiAgICBjb25zdCB0ZWFtID0gdGVhbVN0cmluZyA9PT0gJ2hvbWUnID8gJ2F3YXknIDogJ2hvbWUnO1xuICAgIC8vIEJvb2sgdGhlIHBsYXllcj9cbiAgICBpZiAoZ2VuUmFuZG9tVmFsdWUoMTAwKSA+IDI1KSB7XG4gICAgICAvLyBjb25zb2xlLmxvZygnaGVyZScpO1xuICAgICAgYm9va2VkUGxheWVyLnN0YXR1cyA9ICd5ZWxsb3cnO1xuICAgICAgJChgIyR7dGVhbX1FdmVudHNgKS5hcHBlbmQoYDxpIGNsYXNzPSdmYSBmYS1zcXVhcmUgZXZlbnQtaXRlbScgc3R5bGU9J2ZvbnQtc2l6ZTogMjRweDsgY29sb3I6IHllbGxvdzsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHtib29rZWRQbGF5ZXIubmFtZX0gYm9va2VkPGJyLz5gKTtcbiAgICB9XG5cbiAgICBpZiAoKGdlblJhbmRvbVZhbHVlKGF0dGFja2luZ1BsYXllci5hdHRhY2spKjIpID4gZ2VuUmFuZG9tVmFsdWUoZGVmZW5kaW5nUGxheWVyLmRlZmVuY2UpKSB7XG5cbiAgICAgIGxldCBzY29yZSA9IG51bGw7XG4gICAgICBsZXQgZ2V0U2NvcmUgPSBudWxsO1xuICAgICAgaWYgKHRlYW1TdHJpbmcgPT09ICdob21lJykge1xuICAgICAgICBnZXRTY29yZSA9ICRob21lU2NvcmUudGV4dCgpO1xuICAgICAgICBzY29yZSA9IHBhcnNlRmxvYXQoZ2V0U2NvcmUpICsgMTtcbiAgICAgICAgJGhvbWVTY29yZS50ZXh0KHNjb3JlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdldFNjb3JlID0gJGF3YXlTY29yZS50ZXh0KCk7XG4gICAgICAgIHNjb3JlID0gcGFyc2VGbG9hdChnZXRTY29yZSkgKyAxO1xuICAgICAgICAkYXdheVNjb3JlLnRleHQoc2NvcmUpO1xuICAgICAgfVxuXG4gICAgICAvLyAkY29tbWVudGFyeUJveC50ZXh0KGAke2F0dGFja2luZ1BsYXllci5uYW1lfSdzIGNsaW5pY2FsIGZyb20gdGhlIHNwb3QhIEdvYWwhYCk7XG4gICAgICBnZW5lcmF0ZUNvbW1lbnRhcnkoJ3BlbmFsdHknLCBhdHRhY2tpbmdQbGF5ZXIpO1xuICAgICAgJChgIyR7dGVhbVN0cmluZ31FdmVudHNgKS5hcHBlbmQoYDxpIGNsYXNzPSdmYSBmYS1mdXRib2wtbycgc3R5bGU9J2ZvbnQtc2l6ZTogMjJweDsgY29sb3I6d2hpdGU7IHBhZGRpbmctdG9wOjVweCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT4gJHttYXRjaFRpbWV9IG1pbnM6ICR7YXR0YWNraW5nUGxheWVyLm5hbWV9IHNjb3JlcyBwZW5hbHR5PGJyLz5gKTtcbiAgICAgIGF0dGFja2luZ1BsYXllci5hdHRhY2sgKz0gNTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuZXJhdGVDb21tZW50YXJ5KCdtaXNzZWRQZW5hbHR5JywgYXR0YWNraW5nUGxheWVyKTtcbiAgICAgICQoYCMke3RlYW1TdHJpbmd9RXZlbnRzYCkuYXBwZW5kKGA8aSBjbGFzcz0nZmEgZmEtZnV0Ym9sLW8nIHN0eWxlPSdmb250LXNpemU6IDIycHg7IGNvbG9yOnJlZDsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHthdHRhY2tpbmdQbGF5ZXIubmFtZX0gbWlzc2VkIHBlbmFsdHk8YnIvPmApO1xuICAgICAgZGVmZW5kaW5nUGxheWVyLmRlZmVuY2UgKz0gMTA7XG4gICAgICBhdHRhY2tpbmdQbGF5ZXIuYXR0YWNrIC09IDEwO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmFpZ2h0UmVkKGRlZmVuZGluZ1RlYW0sIHRlYW1TdHJpbmcpIHtcbiAgICBjb25zdCBkZWZlbmRpbmdQbGF5ZXIgPSBkZWZlbmRpbmdUZWFtLnJhbmRvbVBsYXllcigpO1xuICAgIGlmIChnZW5SYW5kb21WYWx1ZShkZWZlbmRpbmdQbGF5ZXIuZGlzY2lwbGluZSkgPCAyNSkge1xuICAgICAgZGVmZW5kaW5nUGxheWVyLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgIGRlZmVuZGluZ1BsYXllci5zdGF0dXMgPSAnZWplY3RlZCc7XG4gICAgICBjb25zdCB0ZWFtID0gdGVhbVN0cmluZyA9PT0gJ2hvbWUnID8gJ2F3YXknIDogJ2hvbWUnO1xuICAgICAgLy8gJGNvbW1lbnRhcnlCb3gudGV4dCgnVGhlIHJlZmVyZWUgZ2l2ZXMgaGltIGEgc3RyYWlnaHQgcmVkIScpO1xuICAgICAgZ2VuZXJhdGVDb21tZW50YXJ5KCdzdHJhaWdodFJlZCcsIGRlZmVuZGluZ1BsYXllcik7XG4gICAgICAkKGAjJHt0ZWFtfUV2ZW50c2ApLmFwcGVuZChgPGkgY2xhc3M9J2ZhIGZhLXNxdWFyZScgc3R5bGU9J2ZvbnQtc2l6ZTogMjRweDsgY29sb3I6IHJlZDsgcGFkZGluZy10b3A6NXB4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPiAke21hdGNoVGltZX0gbWluczogJHtkZWZlbmRpbmdQbGF5ZXIubmFtZX0gc2VudCBvZmY8YnIvPmApO1xuICAgICAgLy8gaWYgKGRlZmVuZGluZ1RlYW0ucGxhY2UgPT09ICdob21lJykgcGF1c2VQbGF5KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29uZmlnVGVhbSh0ZWFtLCBzZWxlY3Rvcikge1xuICAgIGlmIChob21lVGVhbSA9PT0gbnVsbCkge1xuICAgICAgJCgnLmhvbWUtdGVhbSAgLnRlYW0tbmFtZScpLnRleHQoc2VsZWN0b3IpO1xuICAgICAgc3dpdGNoIChzZWxlY3Rvcikge1xuICAgICAgICBjYXNlICdUb3R0ZW5oYW0nOlxuICAgICAgICAgIGhvbWVUZWFtID0gc3B1cnM7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbSwgI2hvbWVCYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBob21lVGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5ob21lLXRlYW0nKS5jc3MoJ2NvbG9yJywgaG9tZVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTWFuIFVuaXRlZCc6XG4gICAgICAgICAgaG9tZVRlYW0gPSBtYW5Vbml0ZWQ7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbSwgI2hvbWVCYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBob21lVGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5ob21lLXRlYW0nKS5jc3MoJ2NvbG9yJywgaG9tZVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTGl2ZXJwb29sJzpcbiAgICAgICAgICBob21lVGVhbSA9IGxpdmVycG9vbDtcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtLCAjaG9tZUJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGhvbWVUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbScpLmNzcygnY29sb3InLCBob21lVGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdNYW4gQ2l0eSc6XG4gICAgICAgICAgaG9tZVRlYW0gPSBtYW5DaXR5O1xuICAgICAgICAgICQoJy5ob21lLXRlYW0sICNob21lQmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgaG9tZVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtJykuY3NzKCdjb2xvcicsIGhvbWVUZWFtLmNvbG9yc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0V2ZXJ0b24nOlxuICAgICAgICAgIGhvbWVUZWFtID0gZXZlcnRvbjtcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtLCAjaG9tZUJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGhvbWVUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbScpLmNzcygnY29sb3InLCBob21lVGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdDaGVsc2VhJzpcbiAgICAgICAgICBob21lVGVhbSA9IGNoZWxzZWE7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbSwgI2hvbWVCYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBob21lVGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5ob21lLXRlYW0nKS5jc3MoJ2NvbG9yJywgaG9tZVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTGVpY2VzdGVyJzpcbiAgICAgICAgICBob21lVGVhbSA9IGxlaWNlc3RlcjtcbiAgICAgICAgICAkKCcuaG9tZS10ZWFtLCAjaG9tZUJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGhvbWVUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbScpLmNzcygnY29sb3InLCBob21lVGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdBcnNlbmFsJzpcbiAgICAgICAgICBob21lVGVhbSA9IGFyc2VuYWw7XG4gICAgICAgICAgJCgnLmhvbWUtdGVhbSwgI2hvbWVCYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBob21lVGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5ob21lLXRlYW0nKS5jc3MoJ2NvbG9yJywgaG9tZVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGhvbWVUZWFtLnBsYWNlID0gJ2hvbWUnO1xuICAgICAgY29uc29sZS5sb2coaG9tZVRlYW0pO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgICQoJy5hd2F5LXRlYW0gLnRlYW0tbmFtZScpLnRleHQoc2VsZWN0b3IpO1xuXG4gICAgICBzd2l0Y2ggKHNlbGVjdG9yKSB7XG4gICAgICAgIGNhc2UgJ1RvdHRlbmhhbSc6XG4gICAgICAgICAgYXdheVRlYW0gPSBzcHVycztcbiAgICAgICAgICAkKCcuYXdheS10ZWFtLCAucG9zc2Vzc2lvbi1iYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0nKS5jc3MoJ2NvbG9yJywgYXdheVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTWFuIFVuaXRlZCc6XG4gICAgICAgICAgYXdheVRlYW0gPSBtYW5Vbml0ZWQ7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbSwgLnBvc3Nlc3Npb24tYmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgYXdheVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICAgICAkKCcuYXdheS10ZWFtJykuY3NzKCdjb2xvcicsIGF3YXlUZWFtLmNvbG9yc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0xpdmVycG9vbCc6XG4gICAgICAgICAgYXdheVRlYW0gPSBsaXZlcnBvb2w7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbSwgLnBvc3Nlc3Npb24tYmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgYXdheVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICAgICAkKCcuYXdheS10ZWFtJykuY3NzKCdjb2xvcicsIGF3YXlUZWFtLmNvbG9yc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ01hbiBDaXR5JzpcbiAgICAgICAgICBhd2F5VGVhbSA9IG1hbkNpdHk7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbSwgLnBvc3Nlc3Npb24tYmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgYXdheVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICAgICAkKCcuYXdheS10ZWFtJykuY3NzKCdjb2xvcicsIGF3YXlUZWFtLmNvbG9yc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0V2ZXJ0b24nOlxuICAgICAgICAgIGF3YXlUZWFtID0gZXZlcnRvbjtcbiAgICAgICAgICAkKCcuYXdheS10ZWFtLCAucG9zc2Vzc2lvbi1iYXInKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMF0pO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0nKS5jc3MoJ2NvbG9yJywgYXdheVRlYW0uY29sb3JzWzFdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQ2hlbHNlYSc6XG4gICAgICAgICAgYXdheVRlYW0gPSBjaGVsc2VhO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0sIC5wb3NzZXNzaW9uLWJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGF3YXlUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbScpLmNzcygnY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdMZWljZXN0ZXInOlxuICAgICAgICAgIGF3YXlUZWFtID0gbGVpY2VzdGVyO1xuICAgICAgICAgICQoJy5hd2F5LXRlYW0sIC5wb3NzZXNzaW9uLWJhcicpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIGF3YXlUZWFtLmNvbG9yc1swXSk7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbScpLmNzcygnY29sb3InLCBhd2F5VGVhbS5jb2xvcnNbMV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdBcnNlbmFsJzpcbiAgICAgICAgICBhd2F5VGVhbSA9IGFyc2VuYWw7XG4gICAgICAgICAgJCgnLmF3YXktdGVhbSwgLnBvc3Nlc3Npb24tYmFyJykuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgYXdheVRlYW0uY29sb3JzWzBdKTtcbiAgICAgICAgICAkKCcuYXdheS10ZWFtJykuY3NzKCdjb2xvcicsIGF3YXlUZWFtLmNvbG9yc1sxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBhd2F5VGVhbS5wbGFjZSA9ICdhd2F5JztcbiAgICAgIGNvbnNvbGUubG9nKGF3YXlUZWFtKTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhzZWxlY3Rvcik7XG4gICAgLy8gUGFzcyBpbiB0aGUgb2JqZWN0IHZhbHVlcyB0byBob21lVGVhbVxuICB9XG5cbiAgZnVuY3Rpb24gZ2VuZXJhdGVDb21tZW50YXJ5KHNjZW5hcmlvLCBwbGF5ZXIpIHtcbiAgICBjb25zdCBjb21tZW50YXJ5ID0ge1xuICAgICAgZ29hbDogWydHb2FsIScsICdIZVxcJ3Mgc2NvcmVkIScsIGBUaGF0J3MgYSBncmVhdCBmaW5pc2ghYCwgYFdoYXQgYSBnb2FsIGJ5ICR7cGxheWVyLm5hbWV9YCwgYCR7cGxheWVyLm5hbWV9IGZpbmlzaGVzIG9mZiB0aGUgbW92ZSFgXSxcbiAgICAgIGZyZWVraWNrOiBbYEl0J3MgYSBmcmVla2lja2AsIGAke3BsYXllci5uYW1lfSB0byB0YWtlIHRoZSBmcmVla2lja2AsIGBIZSBsaW5lcyB1cCB0aGUgZnJlZWtpY2tgLCBgVGhpcyBpcyBhIGNoYW5jZSB0byBnZXQgYSBjcm9zcyBpbmBdLFxuICAgICAgd2FzdGVkRnJlZWtpY2s6IFtgJHtwbGF5ZXIubmFtZX0gbG9zZXMgcG9zc2Vzc2lvbmAsIGBUaGF0J3MgZW5kZWQgdXAgaW4gcm93IFpgLCBgVGhlIGF0dGFjayBhbW91bnRzIHRvIG5vdGhpbmdgLCBgJHtwbGF5ZXIubmFtZX0gaGFzIHdhc3RlZCB0aGF0IG9wcG9ydHVuaXR5YCwgYCR7cGxheWVyLm5hbWV9J3MgZWZmb3J0IGdvZXMgb3ZlciB0aGUgYmFyYCwgYEhlIGhhbmRzIGJhY2sgcG9zc2Vzc2lvbiB0byB0aGUgb3RoZXIgdGVhbWBdLFxuICAgICAgeWVsbG93OiBbYEhlJ3MgZ29pbmcgaW4gdGhlIGJvb2tgLCBgT3VjaCEgJHtwbGF5ZXIubmFtZX0gd2lsbCBnZXQgYSB5ZWxsb3cgZm9yIHRoYXRgLCBgVGhhdCdzIGEgYm9va2luZ2AsIGBJdCdzIGEgeWVsbG93IWAsIGBUaGUgcmVmIGlzIHRha2luZyBoaXMgbmFtZWBdLFxuICAgICAgc2Vjb25kWWVsbG93OiBbYEhlJ3MgYWxyZWFkeSBiZWVuIGJvb2tlZC4uLmAsIGBUaGF0J3MgYSBzZWNvbmQgeWVsbG93YCwgYCR7cGxheWVyLm5hbWV9IGlzIHNob3duIGEgcmVkIWAsIGAke3BsYXllci5uYW1lfSBpcyBvZmZgXSxcbiAgICAgIHN0cmFpZ2h0UmVkOiBbYCR7cGxheWVyLm5hbWV9IGlzIHNob3duIGEgc3RyYWlnaHQgcmVkIWAsIGAke3BsYXllci5uYW1lfSBpcyBvZmZgLCBgVGhlIHJlZiBoYXMgZ2l2ZW4gaGltIHN0cmFpZ2h0IHJlZCFgXSxcbiAgICAgIHBlbmFsdHk6IFtgVGhlIHJlZmVyZWUgcG9pbnRzIHRvIHRoZSBzcG90YCwgYFRoYXQncyBhIHBlbmFsdHlgLCBgJHtwbGF5ZXIubmFtZX0gaXMgZm91bGVkIGluIHRoZSBhcmVhYCwgYFRoZSByZWYgYmxvd3MgaGlzIHdoaXN0bGUuIFBlbmFsdHkuYF0sXG4gICAgICBtaXNzZWRQZW5hbHR5OiBbYFNhdmVkIWAsIGBJdCdzIG92ZXIgdGhlIGJhcmAsIGAke3BsYXllci5uYW1lfSBoYXMgbWlzc2VkIGl0IWAsIGBPaCBkZWFyISAke3BsYXllci5uYW1lfSdzIHB1dCBpdCB3aWRlJ2BdLFxuICAgICAgaW5qdXJ5OiBbYCR7cGxheWVyLm5hbWV9J3MgaXMgZ29pbmcgb2ZmYCxgJHtwbGF5ZXIubmFtZX0gaXMgaW5qdXJlZGAsYCR7cGxheWVyLm5hbWV9IGNhbid0IGNvbnRpbnVlYF0sXG4gICAgICBjaGFuY2U6IFtgVGhlIGJhbGwgaXMgd2FzdGVkYCwgYFBvc3Nlc3Npb24gaXMgc2xvcHBpbHkgZ2l2ZW4gYXdheWAsIGBUaGF0IGlzIHdhc3RlZGAsIGBUaGUgcmVmZXJlZSBwdWxscyBiYWNrIHBsYXlgLCBgVGhlIGJhbGwgZ29lcyBvdXQgZm9yIGEgdGhyb3dgLCBgR29vZCBpbnRlcmNlcHRpb24hYCwgYEhlJ3Mgcm9iYmVkIGhpbSBvZiBwb3NzZXNpb25gXVxuICAgIH07XG4gICAgY29uc3QgcmFuZG9tSW5kZXggPSBnZW5SYW5kb21WYWx1ZShjb21tZW50YXJ5W3NjZW5hcmlvXS5sZW5ndGgpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjb21tZW50YXJ5W3NjZW5hcmlvXVtyYW5kb21JbmRleF07XG4gICAgJGNvbW1lbnRhcnlCb3gudGV4dChgJHttZXNzYWdlfWApO1xuXG4gIH1cblxufSk7XG4iXX0=
